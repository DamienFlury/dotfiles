!function(e) {
    var t = {};
    function n(r) {
        if (t[r]) return t[r].exports;
        var o = t[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
    }
    n.m = e, n.c = t, n.d = function(e, t, r) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: r
        });
    }, n.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        });
    }, n.t = function(e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var r = Object.create(null);
        if (n.r(r), Object.defineProperty(r, "default", {
            enumerable: !0,
            value: e
        }), 2 & t && "string" != typeof e) for (var o in e) n.d(r, o, function(t) {
            return e[t];
        }.bind(null, o));
        return r;
    }, n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default;
        } : function() {
            return e;
        };
        return n.d(t, "a", t), t;
    }, n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
    }, n.p = "", n(n.s = 184);
}([ function(e, t, n) {
    "use strict";
    function r(e) {
        for (var n in e) t.hasOwnProperty(n) || (t[n] = e[n]);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), r(n(50)), r(n(51)), r(n(40)), r(n(112)), r(n(113)), r(n(114)), r(n(115)), r(n(52)), 
    r(n(116)), r(n(53)), r(n(117)), r(n(118)), r(n(120)), r(n(121)), r(n(122));
}, function(e, t, n) {
    "use strict";
    t.a = Object.freeze({
        InjectFormRequirements: "inject_form_requirements",
        EnsureLoggedIntoFirebase: "login_to_firebase",
        GetLicense: "get_license",
        EnterProductCode: "enter_product_code",
        GetProfile: "get_profile",
        UpdateProfile: "update_profile",
        OpenGoogleFormsPicker: "open_google_forms_picker",
        GoogleFormsPickerLoaded: "google_forms_picker_loaded",
        SetHasSeenFirstRun: "set_firebase_has_seen_first_run",
        SetProfileType: "set_firebase_profile_type",
        SetShowEquatioOnFirstRun: "set_show_equatio_on_first_run",
        GetShouldShowEquatioOnFirstRun: "get_should_show_equatio_on_first_run",
        RegisterExternalWebApp: "external_web_app",
        RegisterCompanionAppTarget: "register_companion_app_target",
        UpdateCompanionAppTargetTitle: "update_companion_app_target_title",
        UpdateGoogleSheetEquations: "update_google_sheet_equations",
        SetHandwritingCount: "set_handwriting_count",
        GetHandwritingCount: "get_handwriting_count",
        ShowGoogleFormsReminder: "upgrade_google_forms_reminder",
        ShowHandwritingExceededReminder: "upgrade_handwriting_exceeded",
        ShowPredictionReminder: "upgrade_prediction",
        ShowRenewalReminder: "upgrade_renewal",
        ShowTrialExpiration: "upgrade_trial_expiration",
        ShowUpgradeReminder: "upgrade_reminder",
        ShowReviewReminder: "review_reminder",
        SendAnalyticsScreen: "send_analytics_screen",
        SendAnalyticsEvent: "send_analytics_event",
        StartScreenshotReader: "start_screenshot_reader",
        CaptureScreenshot: "capture_screenshot",
        ScanMathpixOcr: "scan_mathpix_ocr",
        UploadImageToProxy: "upload_image_proxy",
        DismissReviewReminder: "dismiss_review_reminder",
        DismissMathDiscover: "dismiss_math_discover",
        OpenMathspace: "open_mathspace"
    });
}, function(e, t, n) {
    "use strict";
    n.d(t, "c", function() {
        return y;
    }), n.d(t, "b", function() {
        return Te;
    }), n.d(t, "a", function() {
        return Fe;
    });
    var r = n(82), o = n.n(r), i = n(21), a = n.n(i), s = n(25), u = n.n(s), c = n(9), l = n.n(c), h = n(6), p = n(30), d = n.n(p), f = n(26), v = n.n(f), m = {
        locale: "en",
        pluralRuleFunction: function(e, t) {
            var n = String(e).split("."), r = !n[1], o = Number(n[0]) == e, i = o && n[0].slice(-1), a = o && n[0].slice(-2);
            return t ? 1 == i && 11 != a ? "one" : 2 == i && 12 != a ? "two" : 3 == i && 13 != a ? "few" : "other" : 1 == e && r ? "one" : "other";
        },
        fields: {
            year: {
                displayName: "year",
                relative: {
                    0: "this year",
                    1: "next year",
                    "-1": "last year"
                },
                relativeTime: {
                    future: {
                        one: "in {0} year",
                        other: "in {0} years"
                    },
                    past: {
                        one: "{0} year ago",
                        other: "{0} years ago"
                    }
                }
            },
            month: {
                displayName: "month",
                relative: {
                    0: "this month",
                    1: "next month",
                    "-1": "last month"
                },
                relativeTime: {
                    future: {
                        one: "in {0} month",
                        other: "in {0} months"
                    },
                    past: {
                        one: "{0} month ago",
                        other: "{0} months ago"
                    }
                }
            },
            day: {
                displayName: "day",
                relative: {
                    0: "today",
                    1: "tomorrow",
                    "-1": "yesterday"
                },
                relativeTime: {
                    future: {
                        one: "in {0} day",
                        other: "in {0} days"
                    },
                    past: {
                        one: "{0} day ago",
                        other: "{0} days ago"
                    }
                }
            },
            hour: {
                displayName: "hour",
                relative: {
                    0: "this hour"
                },
                relativeTime: {
                    future: {
                        one: "in {0} hour",
                        other: "in {0} hours"
                    },
                    past: {
                        one: "{0} hour ago",
                        other: "{0} hours ago"
                    }
                }
            },
            minute: {
                displayName: "minute",
                relative: {
                    0: "this minute"
                },
                relativeTime: {
                    future: {
                        one: "in {0} minute",
                        other: "in {0} minutes"
                    },
                    past: {
                        one: "{0} minute ago",
                        other: "{0} minutes ago"
                    }
                }
            },
            second: {
                displayName: "second",
                relative: {
                    0: "now"
                },
                relativeTime: {
                    future: {
                        one: "in {0} second",
                        other: "in {0} seconds"
                    },
                    past: {
                        one: "{0} second ago",
                        other: "{0} seconds ago"
                    }
                }
            }
        }
    };
    function y() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        (Array.isArray(e) ? e : [ e ]).forEach(function(e) {
            e && e.locale && (a.a.__addLocaleData(e), u.a.__addLocaleData(e));
        });
    }
    function g(e) {
        for (var t = (e || "").split("-"); t.length > 0; ) {
            if (_(t.join("-"))) return !0;
            t.pop();
        }
        return !1;
    }
    function _(e) {
        var t = e && e.toLowerCase();
        return !(!a.a.__localeData__[t] || !u.a.__localeData__[t]);
    }
    var b = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e;
    } : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
    }, w = function(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }, E = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
                Object.defineProperty(e, r.key, r);
            }
        }
        return function(t, n, r) {
            return n && e(t.prototype, n), r && e(t, r), t;
        };
    }(), T = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    }, C = function(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }, S = function(e, t) {
        var n = {};
        for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
        return n;
    }, N = function(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }, I = function(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
        }
        return Array.from(e);
    }, O = l.a.bool, P = l.a.number, R = l.a.string, A = l.a.func, k = l.a.object, x = l.a.oneOf, D = l.a.shape, L = l.a.any, M = l.a.oneOfType, F = x([ "best fit", "lookup" ]), U = x([ "narrow", "short", "long" ]), j = x([ "numeric", "2-digit" ]), q = A.isRequired, W = {
        locale: R,
        formats: k,
        messages: k,
        textComponent: L,
        defaultLocale: R,
        defaultFormats: k
    }, B = {
        formatDate: q,
        formatTime: q,
        formatRelative: q,
        formatNumber: q,
        formatPlural: q,
        formatMessage: q,
        formatHTMLMessage: q
    }, V = D(T({}, W, B, {
        formatters: k,
        now: q
    })), G = (R.isRequired, M([ R, k ]), {
        localeMatcher: F,
        formatMatcher: x([ "basic", "best fit" ]),
        timeZone: R,
        hour12: O,
        weekday: U,
        era: U,
        year: j,
        month: x([ "numeric", "2-digit", "narrow", "short", "long" ]),
        day: j,
        hour: j,
        minute: j,
        second: j,
        timeZoneName: x([ "short", "long" ])
    }), H = {
        localeMatcher: F,
        style: x([ "decimal", "currency", "percent" ]),
        currency: R,
        currencyDisplay: x([ "symbol", "code", "name" ]),
        useGrouping: O,
        minimumIntegerDigits: P,
        minimumFractionDigits: P,
        maximumFractionDigits: P,
        minimumSignificantDigits: P,
        maximumSignificantDigits: P
    }, K = {
        style: x([ "best fit", "numeric" ]),
        units: x([ "second", "minute", "hour", "day", "month", "year" ])
    }, Q = {
        style: x([ "cardinal", "ordinal" ])
    }, Y = Object.keys(W), X = {
        "&": "&amp;",
        ">": "&gt;",
        "<": "&lt;",
        '"': "&quot;",
        "'": "&#x27;"
    }, z = /[&><"']/g;
    function J(e) {
        return ("" + e).replace(z, function(e) {
            return X[e];
        });
    }
    function $(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        return t.reduce(function(t, r) {
            return e.hasOwnProperty(r) ? t[r] = e[r] : n.hasOwnProperty(r) && (t[r] = n[r]), 
            t;
        }, {});
    }
    function Z() {
        var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).intl;
        d()(e, "[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.");
    }
    function ee(e, t) {
        if (e === t) return !0;
        if ("object" !== (void 0 === e ? "undefined" : b(e)) || null === e || "object" !== (void 0 === t ? "undefined" : b(t)) || null === t) return !1;
        var n = Object.keys(e), r = Object.keys(t);
        if (n.length !== r.length) return !1;
        for (var o = Object.prototype.hasOwnProperty.bind(t), i = 0; i < n.length; i++) if (!o(n[i]) || e[n[i]] !== t[n[i]]) return !1;
        return !0;
    }
    function te(e, t, n) {
        var r = e.props, o = e.state, i = e.context, a = void 0 === i ? {} : i, s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, u = a.intl, c = void 0 === u ? {} : u, l = s.intl, h = void 0 === l ? {} : l;
        return !ee(t, r) || !ee(n, o) || !(h === c || ee($(h, Y), $(c, Y)));
    }
    function ne(e) {
        return a.a.prototype._resolveLocale(e);
    }
    function re(e) {
        return a.a.prototype._findPluralRuleFunction(e);
    }
    var oe = function e(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        w(this, e);
        var r = "ordinal" === n.style, o = re(ne(t));
        this.format = function(e) {
            return o(e, r);
        };
    }, ie = Object.keys(G), ae = Object.keys(H), se = Object.keys(K), ue = Object.keys(Q), ce = {
        second: 60,
        minute: 60,
        hour: 24,
        day: 30,
        month: 12
    };
    function le(e) {
        var t = u.a.thresholds;
        t.second = e.second, t.minute = e.minute, t.hour = e.hour, t.day = e.day, t.month = e.month;
    }
    function he(e, t, n) {
        var r = e && e[t] && e[t][n];
        if (r) return r;
    }
    function pe(e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = e.locale, i = e.formats, a = r.format, s = new Date(n), u = a && he(i, "date", a), c = $(r, ie, u);
        try {
            return t.getDateTimeFormat(o, c).format(s);
        } catch (e) {
            0;
        }
        return String(s);
    }
    function de(e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = e.locale, i = e.formats, a = r.format, s = new Date(n), u = a && he(i, "time", a), c = $(r, ie, u);
        c.hour || c.minute || c.second || (c = T({}, c, {
            hour: "numeric",
            minute: "numeric"
        }));
        try {
            return t.getDateTimeFormat(o, c).format(s);
        } catch (e) {
            0;
        }
        return String(s);
    }
    function fe(e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = e.locale, i = e.formats, a = r.format, s = new Date(n), c = new Date(r.now), l = a && he(i, "relative", a), h = $(r, se, l), p = T({}, u.a.thresholds);
        le(ce);
        try {
            return t.getRelativeFormat(o, h).format(s, {
                now: isFinite(c) ? c : t.now()
            });
        } catch (e) {
            0;
        } finally {
            le(p);
        }
        return String(s);
    }
    function ve(e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = e.locale, i = e.formats, a = r.format, s = a && he(i, "number", a), u = $(r, ae, s);
        try {
            return t.getNumberFormat(o, u).format(n);
        } catch (e) {
            0;
        }
        return String(n);
    }
    function me(e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = e.locale, i = $(r, ue);
        try {
            return t.getPluralFormat(o, i).format(n);
        } catch (e) {
            0;
        }
        return "other";
    }
    function ye(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = e.locale, i = e.formats, a = e.messages, s = e.defaultLocale, u = e.defaultFormats, c = n.id, l = n.defaultMessage;
        d()(c, "[React Intl] An `id` must be provided to format a message.");
        var h = a && a[c];
        if (!(Object.keys(r).length > 0)) return h || l || c;
        var p = void 0;
        if (h) try {
            p = t.getMessageFormat(h, o, i).format(r);
        } catch (e) {
            0;
        } else 0;
        if (!p && l) try {
            p = t.getMessageFormat(l, s, u).format(r);
        } catch (e) {
            0;
        }
        return p || h || l || c;
    }
    function ge(e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
        return ye(e, t, n, Object.keys(r).reduce(function(e, t) {
            var n = r[t];
            return e[t] = "string" == typeof n ? J(n) : n, e;
        }, {}));
    }
    var _e = Object.freeze({
        formatDate: pe,
        formatTime: de,
        formatRelative: fe,
        formatNumber: ve,
        formatPlural: me,
        formatMessage: ye,
        formatHTMLMessage: ge
    }), be = Object.keys(W), we = Object.keys(B), Ee = {
        formats: {},
        messages: {},
        textComponent: "span",
        defaultLocale: "en",
        defaultFormats: {}
    }, Te = function(e) {
        function t(e) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            d()("undefined" != typeof Intl, "[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");
            var o = n.intl, i = void 0;
            i = isFinite(e.initialNow) ? Number(e.initialNow) : o ? o.now() : Date.now();
            var s = (o || {}).formatters, c = void 0 === s ? {
                getDateTimeFormat: v()(Intl.DateTimeFormat),
                getNumberFormat: v()(Intl.NumberFormat),
                getMessageFormat: v()(a.a),
                getRelativeFormat: v()(u.a),
                getPluralFormat: v()(oe)
            } : s;
            return r.state = T({}, c, {
                now: function() {
                    return r._didDisplay ? Date.now() : i;
                }
            }), r;
        }
        return C(t, e), E(t, [ {
            key: "getConfig",
            value: function() {
                var e = this.context.intl, t = $(this.props, be, e);
                for (var n in Ee) void 0 === t[n] && (t[n] = Ee[n]);
                if (!g(t.locale)) {
                    var r = t, o = (r.locale, r.defaultLocale), i = r.defaultFormats;
                    0, t = T({}, t, {
                        locale: o,
                        formats: i,
                        messages: Ee.messages
                    });
                }
                return t;
            }
        }, {
            key: "getBoundFormatFns",
            value: function(e, t) {
                return we.reduce(function(n, r) {
                    return n[r] = _e[r].bind(null, e, t), n;
                }, {});
            }
        }, {
            key: "getChildContext",
            value: function() {
                var e = this.getConfig(), t = this.getBoundFormatFns(e, this.state), n = this.state, r = n.now, o = S(n, [ "now" ]);
                return {
                    intl: T({}, e, t, {
                        formatters: o,
                        now: r
                    })
                };
            }
        }, {
            key: "shouldComponentUpdate",
            value: function() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return te.apply(void 0, [ this ].concat(t));
            }
        }, {
            key: "componentDidMount",
            value: function() {
                this._didDisplay = !0;
            }
        }, {
            key: "render",
            value: function() {
                return h.a.only(this.props.children);
            }
        } ]), t;
    }(h.b);
    Te.displayName = "IntlProvider", Te.contextTypes = {
        intl: V
    }, Te.childContextTypes = {
        intl: V.isRequired
    };
    var Ce = function(e) {
        function t(e, n) {
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return Z(n), r;
        }
        return C(t, e), E(t, [ {
            key: "shouldComponentUpdate",
            value: function() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return te.apply(void 0, [ this ].concat(t));
            }
        }, {
            key: "render",
            value: function() {
                var e = this.context.intl, t = e.formatDate, n = e.textComponent, r = this.props, o = r.value, i = r.children, a = t(o, this.props);
                return "function" == typeof i ? i(a) : h.d.createElement(n, null, a);
            }
        } ]), t;
    }(h.b);
    Ce.displayName = "FormattedDate", Ce.contextTypes = {
        intl: V
    };
    var Se = function(e) {
        function t(e, n) {
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return Z(n), r;
        }
        return C(t, e), E(t, [ {
            key: "shouldComponentUpdate",
            value: function() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return te.apply(void 0, [ this ].concat(t));
            }
        }, {
            key: "render",
            value: function() {
                var e = this.context.intl, t = e.formatTime, n = e.textComponent, r = this.props, o = r.value, i = r.children, a = t(o, this.props);
                return "function" == typeof i ? i(a) : h.d.createElement(n, null, a);
            }
        } ]), t;
    }(h.b);
    Se.displayName = "FormattedTime", Se.contextTypes = {
        intl: V
    };
    var Ne = 1e3, Ie = 6e4, Oe = 36e5, Pe = 864e5, Re = 2147483647;
    function Ae(e) {
        var t = Math.abs(e);
        return t < Ie ? "second" : t < Oe ? "minute" : t < Pe ? "hour" : "day";
    }
    function ke(e) {
        switch (e) {
          case "second":
            return Ne;

          case "minute":
            return Ie;

          case "hour":
            return Oe;

          case "day":
            return Pe;

          default:
            return Re;
        }
    }
    function xe(e, t) {
        if (e === t) return !0;
        var n = new Date(e).getTime(), r = new Date(t).getTime();
        return isFinite(n) && isFinite(r) && n === r;
    }
    var De = function(e) {
        function t(e, n) {
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            Z(n);
            var o = isFinite(e.initialNow) ? Number(e.initialNow) : n.intl.now();
            return r.state = {
                now: o
            }, r;
        }
        return C(t, e), E(t, [ {
            key: "scheduleNextUpdate",
            value: function(e, t) {
                var n = this;
                clearTimeout(this._timer);
                var r = e.value, o = e.units, i = e.updateInterval, a = new Date(r).getTime();
                if (i && isFinite(a)) {
                    var s = a - t.now, u = ke(o || Ae(s)), c = Math.abs(s % u), l = s < 0 ? Math.max(i, u - c) : Math.max(i, c);
                    this._timer = setTimeout(function() {
                        n.setState({
                            now: n.context.intl.now()
                        });
                    }, l);
                }
            }
        }, {
            key: "componentDidMount",
            value: function() {
                this.scheduleNextUpdate(this.props, this.state);
            }
        }, {
            key: "componentWillReceiveProps",
            value: function(e) {
                xe(e.value, this.props.value) || this.setState({
                    now: this.context.intl.now()
                });
            }
        }, {
            key: "shouldComponentUpdate",
            value: function() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return te.apply(void 0, [ this ].concat(t));
            }
        }, {
            key: "componentWillUpdate",
            value: function(e, t) {
                this.scheduleNextUpdate(e, t);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                clearTimeout(this._timer);
            }
        }, {
            key: "render",
            value: function() {
                var e = this.context.intl, t = e.formatRelative, n = e.textComponent, r = this.props, o = r.value, i = r.children, a = t(o, T({}, this.props, this.state));
                return "function" == typeof i ? i(a) : h.d.createElement(n, null, a);
            }
        } ]), t;
    }(h.b);
    De.displayName = "FormattedRelative", De.contextTypes = {
        intl: V
    }, De.defaultProps = {
        updateInterval: 1e4
    };
    var Le = function(e) {
        function t(e, n) {
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return Z(n), r;
        }
        return C(t, e), E(t, [ {
            key: "shouldComponentUpdate",
            value: function() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return te.apply(void 0, [ this ].concat(t));
            }
        }, {
            key: "render",
            value: function() {
                var e = this.context.intl, t = e.formatNumber, n = e.textComponent, r = this.props, o = r.value, i = r.children, a = t(o, this.props);
                return "function" == typeof i ? i(a) : h.d.createElement(n, null, a);
            }
        } ]), t;
    }(h.b);
    Le.displayName = "FormattedNumber", Le.contextTypes = {
        intl: V
    };
    var Me = function(e) {
        function t(e, n) {
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return Z(n), r;
        }
        return C(t, e), E(t, [ {
            key: "shouldComponentUpdate",
            value: function() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return te.apply(void 0, [ this ].concat(t));
            }
        }, {
            key: "render",
            value: function() {
                var e = this.context.intl, t = e.formatPlural, n = e.textComponent, r = this.props, o = r.value, i = r.other, a = r.children, s = t(o, this.props), u = this.props[s] || i;
                return "function" == typeof a ? a(u) : h.d.createElement(n, null, u);
            }
        } ]), t;
    }(h.b);
    Me.displayName = "FormattedPlural", Me.contextTypes = {
        intl: V
    }, Me.defaultProps = {
        style: "cardinal"
    };
    var Fe = function(e) {
        function t(e, n) {
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return Z(n), r;
        }
        return C(t, e), E(t, [ {
            key: "shouldComponentUpdate",
            value: function(e) {
                var t = this.props.values;
                if (!ee(e.values, t)) return !0;
                for (var n = T({}, e, {
                    values: t
                }), r = arguments.length, o = Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) o[i - 1] = arguments[i];
                return te.apply(void 0, [ this, n ].concat(o));
            }
        }, {
            key: "render",
            value: function() {
                var e, t = this.context.intl, n = t.formatMessage, r = t.textComponent, o = this.props, i = o.id, a = o.description, s = o.defaultMessage, u = o.values, c = o.tagName, l = void 0 === c ? r : c, p = o.children, d = void 0, f = void 0, v = void 0;
                if (u && Object.keys(u).length > 0) {
                    var m = Math.floor(1099511627776 * Math.random()).toString(16), y = (e = 0, function() {
                        return "ELEMENT-" + m + "-" + (e += 1);
                    });
                    d = "@__" + m + "__@", f = {}, v = {}, Object.keys(u).forEach(function(e) {
                        var t = u[e];
                        if (Object(h.e)(t)) {
                            var n = y();
                            f[e] = d + n + d, v[n] = t;
                        } else f[e] = t;
                    });
                }
                var g = n({
                    id: i,
                    description: a,
                    defaultMessage: s
                }, f || u), _ = void 0;
                return _ = v && Object.keys(v).length > 0 ? g.split(d).filter(function(e) {
                    return !!e;
                }).map(function(e) {
                    return v[e] || e;
                }) : [ g ], "function" == typeof p ? p.apply(void 0, I(_)) : h.c.apply(void 0, [ l, null ].concat(I(_)));
            }
        } ]), t;
    }(h.b);
    Fe.displayName = "FormattedMessage", Fe.contextTypes = {
        intl: V
    }, Fe.defaultProps = {
        values: {}
    };
    var Ue = function(e) {
        function t(e, n) {
            w(this, t);
            var r = N(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));
            return Z(n), r;
        }
        return C(t, e), E(t, [ {
            key: "shouldComponentUpdate",
            value: function(e) {
                var t = this.props.values;
                if (!ee(e.values, t)) return !0;
                for (var n = T({}, e, {
                    values: t
                }), r = arguments.length, o = Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) o[i - 1] = arguments[i];
                return te.apply(void 0, [ this, n ].concat(o));
            }
        }, {
            key: "render",
            value: function() {
                var e = this.context.intl, t = e.formatHTMLMessage, n = e.textComponent, r = this.props, o = r.id, i = r.description, a = r.defaultMessage, s = r.values, u = r.tagName, c = void 0 === u ? n : u, l = r.children, p = t({
                    id: o,
                    description: i,
                    defaultMessage: a
                }, s);
                if ("function" == typeof l) return l(p);
                var d = {
                    __html: p
                };
                return h.d.createElement(c, {
                    dangerouslySetInnerHTML: d
                });
            }
        } ]), t;
    }(h.b);
    Ue.displayName = "FormattedHTMLMessage", Ue.contextTypes = {
        intl: V
    }, Ue.defaultProps = {
        values: {}
    }, y(m), y(o.a);
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(0), i = n(0), a = n(0), s = n(0), u = n(0), c = n(0), l = n(31), h = n(0);
    t.LUIDGenerator = (r = 1, function() {
        return r++;
    }), t.sha1 = function(e) {
        var t = u.stringToByteArray(e), n = new s.Sha1();
        n.update(t);
        var r = n.digest();
        return a.base64.encodeByteArray(r);
    };
    var p = function() {
        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        for (var n = "", r = 0; r < e.length; r++) Array.isArray(e[r]) || e[r] && "object" == typeof e[r] && "number" == typeof e[r].length ? n += p.apply(null, e[r]) : "object" == typeof e[r] ? n += c.stringify(e[r]) : n += e[r], 
        n += " ";
        return n;
    };
    t.logger = null;
    var d = !0;
    t.enableLogging = function(e, n) {
        o.assert(!n || !0 === e || !1 === e, "Can't turn on custom loggers persistently."), 
        !0 === e ? ("undefined" != typeof console && ("function" == typeof console.log ? t.logger = void 0 : "object" == typeof console.log && (t.logger = function(e) {})), 
        n && l.SessionStorage.set("logging_enabled", !0)) : "function" == typeof e ? t.logger = e : (t.logger = null, 
        l.SessionStorage.remove("logging_enabled"));
    }, t.log = function() {
        for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
        if (!0 === d && (d = !1, null === t.logger && !0 === l.SessionStorage.get("logging_enabled") && t.enableLogging(!0)), 
        t.logger) {
            var r = p.apply(null, e);
            t.logger(r);
        }
    }, t.logWrapper = function(e) {
        return function() {
            for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
            t.log.apply(void 0, [ e ].concat(n));
        };
    }, t.error = function() {
        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        if ("undefined" != typeof console) {
            p.apply(void 0, e);
            console.error;
        }
    }, t.fatal = function() {
        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        var n = p.apply(void 0, e);
        throw new Error("FIREBASE FATAL ERROR: " + n);
    }, t.warn = function() {
        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        if ("undefined" != typeof console) {
            p.apply(void 0, e);
            console.warn;
        }
    }, t.warnIfPageIsSecure = function() {
        "undefined" != typeof window && window.location && window.location.protocol && -1 !== window.location.protocol.indexOf("https:") && t.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
    }, t.warnAboutUnsupportedMethod = function(e) {
        t.warn(e + " is unsupported and will likely change soon.  Please do not use.");
    }, t.isInvalidJSONNumber = function(e) {
        return "number" == typeof e && (e != e || e == Number.POSITIVE_INFINITY || e == Number.NEGATIVE_INFINITY);
    }, t.executeWhenDOMReady = function(e) {
        if (h.isNodeSdk() || "complete" === document.readyState) e(); else {
            var t = !1, n = function() {
                document.body ? t || (t = !0, e()) : setTimeout(n, Math.floor(10));
            };
            document.addEventListener ? (document.addEventListener("DOMContentLoaded", n, !1), 
            window.addEventListener("load", n, !1)) : document.attachEvent && (document.attachEvent("onreadystatechange", function() {
                "complete" === document.readyState && n();
            }), window.attachEvent("onload", n));
        }
    }, t.MIN_NAME = "[MIN_NAME]", t.MAX_NAME = "[MAX_NAME]", t.nameCompare = function(e, n) {
        if (e === n) return 0;
        if (e === t.MIN_NAME || n === t.MAX_NAME) return -1;
        if (n === t.MIN_NAME || e === t.MAX_NAME) return 1;
        var r = t.tryParseInt(e), o = t.tryParseInt(n);
        return null !== r ? null !== o ? r - o == 0 ? e.length - n.length : r - o : -1 : null !== o ? 1 : e < n ? -1 : 1;
    }, t.stringCompare = function(e, t) {
        return e === t ? 0 : e < t ? -1 : 1;
    }, t.requireKey = function(e, t) {
        if (t && e in t) return t[e];
        throw new Error("Missing required key (" + e + ") in object: " + c.stringify(t));
    }, t.ObjectToUniqueKey = function(e) {
        if ("object" != typeof e || null === e) return c.stringify(e);
        var n = [];
        for (var r in e) n.push(r);
        n.sort();
        for (var o = "{", i = 0; i < n.length; i++) 0 !== i && (o += ","), o += c.stringify(n[i]), 
        o += ":", o += t.ObjectToUniqueKey(e[n[i]]);
        return o += "}";
    }, t.splitStringBySize = function(e, t) {
        var n = e.length;
        if (n <= t) return [ e ];
        for (var r = [], o = 0; o < n; o += t) o + t > n ? r.push(e.substring(o, n)) : r.push(e.substring(o, o + t));
        return r;
    }, t.each = function(e, t) {
        if (Array.isArray(e)) for (var n = 0; n < e.length; ++n) t(n, e[n]); else i.forEach(e, function(e, n) {
            return t(n, e);
        });
    }, t.bindCallback = function(e, t) {
        return t ? e.bind(t) : e;
    }, t.doubleToIEEE754String = function(e) {
        o.assert(!t.isInvalidJSONNumber(e), "Invalid JSON number");
        var n, r, i, a, s, u, c, l = 11, h = 52, p = (1 << l - 1) - 1;
        for (0 === e ? (r = 0, i = 0, n = 1 / e == -1 / 0 ? 1 : 0) : (n = e < 0, (e = Math.abs(e)) >= Math.pow(2, 1 - p) ? (r = (a = Math.min(Math.floor(Math.log(e) / Math.LN2), p)) + p, 
        i = Math.round(e * Math.pow(2, h - a) - Math.pow(2, h))) : (r = 0, i = Math.round(e / Math.pow(2, 1 - p - h)))), 
        u = [], s = h; s; s -= 1) u.push(i % 2 ? 1 : 0), i = Math.floor(i / 2);
        for (s = l; s; s -= 1) u.push(r % 2 ? 1 : 0), r = Math.floor(r / 2);
        u.push(n ? 1 : 0), u.reverse(), c = u.join("");
        var d = "";
        for (s = 0; s < 64; s += 8) {
            var f = parseInt(c.substr(s, 8), 2).toString(16);
            1 === f.length && (f = "0" + f), d += f;
        }
        return d.toLowerCase();
    }, t.isChromeExtensionContentScript = function() {
        return !("object" != typeof window || !window.chrome || !window.chrome.extension || /^chrome/.test(window.location.href));
    }, t.isWindowsStoreApp = function() {
        return "object" == typeof Windows && "object" == typeof Windows.UI;
    }, t.errorForServerCode = function(e, t) {
        var n = "Unknown Error";
        "too_big" === e ? n = "The data requested exceeds the maximum size that can be accessed with a single request." : "permission_denied" == e ? n = "Client doesn't have permission to access the desired data." : "unavailable" == e && (n = "The service is unavailable");
        var r = new Error(e + " at " + t.path.toString() + ": " + n);
        return r.code = e.toUpperCase(), r;
    }, t.INTEGER_REGEXP_ = new RegExp("^-?\\d{1,10}$"), t.tryParseInt = function(e) {
        if (t.INTEGER_REGEXP_.test(e)) {
            var n = Number(e);
            if (n >= -2147483648 && n <= 2147483647) return n;
        }
        return null;
    }, t.exceptionGuard = function(e) {
        try {
            e();
        } catch (e) {
            setTimeout(function() {
                var n = e.stack || "";
                throw t.warn("Exception was thrown by user callback.", n), e;
            }, Math.floor(0));
        }
    }, t.callUserCallback = function(e) {
        for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
        "function" == typeof e && t.exceptionGuard(function() {
            e.apply(void 0, n);
        });
    }, t.beingCrawled = function() {
        return ("object" == typeof window && window.navigator && window.navigator.userAgent || "").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i) >= 0;
    }, t.exportPropGetter = function(e, t, n) {
        Object.defineProperty(e, t, {
            get: n
        });
    }, t.setTimeoutNonBlocking = function(e, t) {
        var n = setTimeout(e, t);
        return "object" == typeof n && n.unref && n.unref(), n;
    };
}, function(e, t, n) {
    "use strict";
    n.r(t), n.d(t, "h", function() {
        return s;
    }), n.d(t, "createElement", function() {
        return s;
    }), n.d(t, "cloneElement", function() {
        return l;
    }), n.d(t, "Component", function() {
        return q;
    }), n.d(t, "render", function() {
        return W;
    }), n.d(t, "rerender", function() {
        return f;
    }), n.d(t, "options", function() {
        return o;
    });
    var r = function() {}, o = {}, i = [], a = [];
    function s(e, t) {
        var n, s, u, c, l = a;
        for (c = arguments.length; c-- > 2; ) i.push(arguments[c]);
        for (t && null != t.children && (i.length || i.push(t.children), delete t.children); i.length; ) if ((s = i.pop()) && void 0 !== s.pop) for (c = s.length; c--; ) i.push(s[c]); else "boolean" == typeof s && (s = null), 
        (u = "function" != typeof e) && (null == s ? s = "" : "number" == typeof s ? s = String(s) : "string" != typeof s && (u = !1)), 
        u && n ? l[l.length - 1] += s : l === a ? l = [ s ] : l.push(s), n = u;
        var h = new r();
        return h.nodeName = e, h.children = l, h.attributes = null == t ? void 0 : t, h.key = null == t ? void 0 : t.key, 
        void 0 !== o.vnode && o.vnode(h), h;
    }
    function u(e, t) {
        for (var n in t) e[n] = t[n];
        return e;
    }
    var c = "function" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;
    function l(e, t) {
        return s(e.nodeName, u(u({}, e.attributes), t), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);
    }
    var h = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i, p = [];
    function d(e) {
        !e._dirty && (e._dirty = !0) && 1 == p.push(e) && (o.debounceRendering || c)(f);
    }
    function f() {
        var e, t = p;
        for (p = []; e = t.pop(); ) e._dirty && F(e);
    }
    function v(e, t, n) {
        return "string" == typeof t || "number" == typeof t ? void 0 !== e.splitText : "string" == typeof t.nodeName ? !e._componentConstructor && m(e, t.nodeName) : n || e._componentConstructor === t.nodeName;
    }
    function m(e, t) {
        return e.normalizedNodeName === t || e.nodeName.toLowerCase() === t.toLowerCase();
    }
    function y(e) {
        var t = u({}, e.attributes);
        t.children = e.children;
        var n = e.nodeName.defaultProps;
        if (void 0 !== n) for (var r in n) void 0 === t[r] && (t[r] = n[r]);
        return t;
    }
    function g(e, t) {
        var n = t ? document.createElementNS("http://www.w3.org/2000/svg", e) : document.createElement(e);
        return n.normalizedNodeName = e, n;
    }
    function _(e) {
        var t = e.parentNode;
        t && t.removeChild(e);
    }
    function b(e, t, n, r, o) {
        if ("className" === t && (t = "class"), "key" === t) ; else if ("ref" === t) n && n(null), 
        r && r(e); else if ("class" !== t || o) if ("style" === t) {
            if (r && "string" != typeof r && "string" != typeof n || (e.style.cssText = r || ""), 
            r && "object" == typeof r) {
                if ("string" != typeof n) for (var i in n) i in r || (e.style[i] = "");
                for (var i in r) e.style[i] = "number" == typeof r[i] && !1 === h.test(i) ? r[i] + "px" : r[i];
            }
        } else if ("dangerouslySetInnerHTML" === t) r && (e.innerHTML = r.__html || ""); else if ("o" == t[0] && "n" == t[1]) {
            var a = t !== (t = t.replace(/Capture$/, ""));
            t = t.toLowerCase().substring(2), r ? n || e.addEventListener(t, w, a) : e.removeEventListener(t, w, a), 
            (e._listeners || (e._listeners = {}))[t] = r;
        } else if ("list" !== t && "type" !== t && !o && t in e) {
            try {
                e[t] = null == r ? "" : r;
            } catch (e) {}
            null != r && !1 !== r || "spellcheck" == t || e.removeAttribute(t);
        } else {
            var s = o && t !== (t = t.replace(/^xlink:?/, ""));
            null == r || !1 === r ? s ? e.removeAttributeNS("http://www.w3.org/1999/xlink", t.toLowerCase()) : e.removeAttribute(t) : "function" != typeof r && (s ? e.setAttributeNS("http://www.w3.org/1999/xlink", t.toLowerCase(), r) : e.setAttribute(t, r));
        } else e.className = r || "";
    }
    function w(e) {
        return this._listeners[e.type](o.event && o.event(e) || e);
    }
    var E = [], T = 0, C = !1, S = !1;
    function N() {
        for (var e; e = E.pop(); ) o.afterMount && o.afterMount(e), e.componentDidMount && e.componentDidMount();
    }
    function I(e, t, n, r, o, i) {
        T++ || (C = null != o && void 0 !== o.ownerSVGElement, S = null != e && !("__preactattr_" in e));
        var a = O(e, t, n, r, i);
        return o && a.parentNode !== o && o.appendChild(a), --T || (S = !1, i || N()), a;
    }
    function O(e, t, n, r, o) {
        var i = e, a = C;
        if (null != t && "boolean" != typeof t || (t = ""), "string" == typeof t || "number" == typeof t) return e && void 0 !== e.splitText && e.parentNode && (!e._component || o) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), 
        e && (e.parentNode && e.parentNode.replaceChild(i, e), R(e, !0))), i.__preactattr_ = !0, 
        i;
        var s = t.nodeName;
        if ("function" == typeof s) return U(e, t, n, r);
        if (C = "svg" === s || "foreignObject" !== s && C, s = String(s), (!e || !m(e, s)) && (i = g(s, C), 
        e)) {
            for (;e.firstChild; ) i.appendChild(e.firstChild);
            e.parentNode && e.parentNode.replaceChild(i, e), R(e, !0);
        }
        var u = i.firstChild, c = i.__preactattr_, l = t.children;
        if (null == c) {
            c = i.__preactattr_ = {};
            for (var h = i.attributes, p = h.length; p--; ) c[h[p].name] = h[p].value;
        }
        return !S && l && 1 === l.length && "string" == typeof l[0] && null != u && void 0 !== u.splitText && null == u.nextSibling ? u.nodeValue != l[0] && (u.nodeValue = l[0]) : (l && l.length || null != u) && P(i, l, n, r, S || null != c.dangerouslySetInnerHTML), 
        k(i, t.attributes, c), C = a, i;
    }
    function P(e, t, n, r, o) {
        var i, a, s, u, c, l = e.childNodes, h = [], p = {}, d = 0, f = 0, m = l.length, y = 0, g = t ? t.length : 0;
        if (0 !== m) for (var b = 0; b < m; b++) {
            var w = l[b], E = w.__preactattr_;
            null != (T = g && E ? w._component ? w._component.__key : E.key : null) ? (d++, 
            p[T] = w) : (E || (void 0 !== w.splitText ? !o || w.nodeValue.trim() : o)) && (h[y++] = w);
        }
        if (0 !== g) for (b = 0; b < g; b++) {
            var T;
            if (c = null, null != (T = (u = t[b]).key)) d && void 0 !== p[T] && (c = p[T], p[T] = void 0, 
            d--); else if (f < y) for (i = f; i < y; i++) if (void 0 !== h[i] && v(a = h[i], u, o)) {
                c = a, h[i] = void 0, i === y - 1 && y--, i === f && f++;
                break;
            }
            c = O(c, u, n, r), s = l[b], c && c !== e && c !== s && (null == s ? e.appendChild(c) : c === s.nextSibling ? _(s) : e.insertBefore(c, s));
        }
        if (d) for (var b in p) void 0 !== p[b] && R(p[b], !1);
        for (;f <= y; ) void 0 !== (c = h[y--]) && R(c, !1);
    }
    function R(e, t) {
        var n = e._component;
        n ? j(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), 
        !1 !== t && null != e.__preactattr_ || _(e), A(e));
    }
    function A(e) {
        for (e = e.lastChild; e; ) {
            var t = e.previousSibling;
            R(e, !0), e = t;
        }
    }
    function k(e, t, n) {
        var r;
        for (r in n) t && null != t[r] || null == n[r] || b(e, r, n[r], n[r] = void 0, C);
        for (r in t) "children" === r || "innerHTML" === r || r in n && t[r] === ("value" === r || "checked" === r ? e[r] : n[r]) || b(e, r, n[r], n[r] = t[r], C);
    }
    var x = [];
    function D(e, t, n) {
        var r, o = x.length;
        for (e.prototype && e.prototype.render ? (r = new e(t, n), q.call(r, t, n)) : ((r = new q(t, n)).constructor = e, 
        r.render = L); o--; ) if (x[o].constructor === e) return r.nextBase = x[o].nextBase, 
        x.splice(o, 1), r;
        return r;
    }
    function L(e, t, n) {
        return this.constructor(e, n);
    }
    function M(e, t, n, r, i) {
        e._disable || (e._disable = !0, e.__ref = t.ref, e.__key = t.key, delete t.ref, 
        delete t.key, void 0 === e.constructor.getDerivedStateFromProps && (!e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, r)), 
        r && r !== e.context && (e.prevContext || (e.prevContext = e.context), e.context = r), 
        e.prevProps || (e.prevProps = e.props), e.props = t, e._disable = !1, 0 !== n && (1 !== n && !1 === o.syncComponentUpdates && e.base ? d(e) : F(e, 1, i)), 
        e.__ref && e.__ref(e));
    }
    function F(e, t, n, r) {
        if (!e._disable) {
            var i, a, s, c = e.props, l = e.state, h = e.context, p = e.prevProps || c, d = e.prevState || l, f = e.prevContext || h, v = e.base, m = e.nextBase, g = v || m, _ = e._component, b = !1, w = f;
            if (e.constructor.getDerivedStateFromProps && (l = u(u({}, l), e.constructor.getDerivedStateFromProps(c, l)), 
            e.state = l), v && (e.props = p, e.state = d, e.context = f, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(c, l, h) ? b = !0 : e.componentWillUpdate && e.componentWillUpdate(c, l, h), 
            e.props = c, e.state = l, e.context = h), e.prevProps = e.prevState = e.prevContext = e.nextBase = null, 
            e._dirty = !1, !b) {
                i = e.render(c, l, h), e.getChildContext && (h = u(u({}, h), e.getChildContext())), 
                v && e.getSnapshotBeforeUpdate && (w = e.getSnapshotBeforeUpdate(p, d));
                var C, S, O = i && i.nodeName;
                if ("function" == typeof O) {
                    var P = y(i);
                    (a = _) && a.constructor === O && P.key == a.__key ? M(a, P, 1, h, !1) : (C = a, 
                    e._component = a = D(O, P, h), a.nextBase = a.nextBase || m, a._parentComponent = e, 
                    M(a, P, 0, h, !1), F(a, 1, n, !0)), S = a.base;
                } else s = g, (C = _) && (s = e._component = null), (g || 1 === t) && (s && (s._component = null), 
                S = I(s, i, h, n || !v, g && g.parentNode, !0));
                if (g && S !== g && a !== _) {
                    var A = g.parentNode;
                    A && S !== A && (A.replaceChild(S, g), C || (g._component = null, R(g, !1)));
                }
                if (C && j(C), e.base = S, S && !r) {
                    for (var k = e, x = e; x = x._parentComponent; ) (k = x).base = S;
                    S._component = k, S._componentConstructor = k.constructor;
                }
            }
            for (!v || n ? E.unshift(e) : b || (e.componentDidUpdate && e.componentDidUpdate(p, d, w), 
            o.afterUpdate && o.afterUpdate(e)); e._renderCallbacks.length; ) e._renderCallbacks.pop().call(e);
            T || r || N();
        }
    }
    function U(e, t, n, r) {
        for (var o = e && e._component, i = o, a = e, s = o && e._componentConstructor === t.nodeName, u = s, c = y(t); o && !u && (o = o._parentComponent); ) u = o.constructor === t.nodeName;
        return o && u && (!r || o._component) ? (M(o, c, 3, n, r), e = o.base) : (i && !s && (j(i), 
        e = a = null), o = D(t.nodeName, c, n), e && !o.nextBase && (o.nextBase = e, a = null), 
        M(o, c, 1, n, r), e = o.base, a && e !== a && (a._component = null, R(a, !1))), 
        e;
    }
    function j(e) {
        o.beforeUnmount && o.beforeUnmount(e);
        var t = e.base;
        e._disable = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;
        var n = e._component;
        n ? j(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), 
        e.nextBase = t, _(t), x.push(e), A(t)), e.__ref && e.__ref(null);
    }
    function q(e, t) {
        this._dirty = !0, this.context = t, this.props = e, this.state = this.state || {}, 
        this._renderCallbacks = [];
    }
    function W(e, t, n) {
        return I(n, e, {}, !1, t, !1);
    }
    u(q.prototype, {
        setState: function(e, t) {
            this.prevState || (this.prevState = this.state), this.state = u(u({}, this.state), "function" == typeof e ? e(this.state, this.props) : e), 
            t && this._renderCallbacks.push(t), d(this);
        },
        forceUpdate: function(e) {
            e && this._renderCallbacks.push(e), F(this, 2);
        },
        render: function() {}
    });
    var B = {
        h: s,
        createElement: s,
        cloneElement: l,
        Component: q,
        render: W,
        rerender: f,
        options: o
    };
    t.default = B;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3), o = n(0), i = function() {
        function e(e, t) {
            if (void 0 === t) {
                this.pieces_ = e.split("/");
                for (var n = 0, r = 0; r < this.pieces_.length; r++) this.pieces_[r].length > 0 && (this.pieces_[n] = this.pieces_[r], 
                n++);
                this.pieces_.length = n, this.pieceNum_ = 0;
            } else this.pieces_ = e, this.pieceNum_ = t;
        }
        return Object.defineProperty(e, "Empty", {
            get: function() {
                return new e("");
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.getFront = function() {
            return this.pieceNum_ >= this.pieces_.length ? null : this.pieces_[this.pieceNum_];
        }, e.prototype.getLength = function() {
            return this.pieces_.length - this.pieceNum_;
        }, e.prototype.popFront = function() {
            var t = this.pieceNum_;
            return t < this.pieces_.length && t++, new e(this.pieces_, t);
        }, e.prototype.getBack = function() {
            return this.pieceNum_ < this.pieces_.length ? this.pieces_[this.pieces_.length - 1] : null;
        }, e.prototype.toString = function() {
            for (var e = "", t = this.pieceNum_; t < this.pieces_.length; t++) "" !== this.pieces_[t] && (e += "/" + this.pieces_[t]);
            return e || "/";
        }, e.prototype.toUrlEncodedString = function() {
            for (var e = "", t = this.pieceNum_; t < this.pieces_.length; t++) "" !== this.pieces_[t] && (e += "/" + encodeURIComponent(String(this.pieces_[t])));
            return e || "/";
        }, e.prototype.slice = function(e) {
            return void 0 === e && (e = 0), this.pieces_.slice(this.pieceNum_ + e);
        }, e.prototype.parent = function() {
            if (this.pieceNum_ >= this.pieces_.length) return null;
            for (var t = [], n = this.pieceNum_; n < this.pieces_.length - 1; n++) t.push(this.pieces_[n]);
            return new e(t, 0);
        }, e.prototype.child = function(t) {
            for (var n = [], r = this.pieceNum_; r < this.pieces_.length; r++) n.push(this.pieces_[r]);
            if (t instanceof e) for (r = t.pieceNum_; r < t.pieces_.length; r++) n.push(t.pieces_[r]); else {
                var o = t.split("/");
                for (r = 0; r < o.length; r++) o[r].length > 0 && n.push(o[r]);
            }
            return new e(n, 0);
        }, e.prototype.isEmpty = function() {
            return this.pieceNum_ >= this.pieces_.length;
        }, e.relativePath = function(t, n) {
            var r = t.getFront(), o = n.getFront();
            if (null === r) return n;
            if (r === o) return e.relativePath(t.popFront(), n.popFront());
            throw new Error("INTERNAL ERROR: innerPath (" + n + ") is not within outerPath (" + t + ")");
        }, e.comparePaths = function(e, t) {
            for (var n = e.slice(), o = t.slice(), i = 0; i < n.length && i < o.length; i++) {
                var a = r.nameCompare(n[i], o[i]);
                if (0 !== a) return a;
            }
            return n.length === o.length ? 0 : n.length < o.length ? -1 : 1;
        }, e.prototype.equals = function(e) {
            if (this.getLength() !== e.getLength()) return !1;
            for (var t = this.pieceNum_, n = e.pieceNum_; t <= this.pieces_.length; t++, n++) if (this.pieces_[t] !== e.pieces_[n]) return !1;
            return !0;
        }, e.prototype.contains = function(e) {
            var t = this.pieceNum_, n = e.pieceNum_;
            if (this.getLength() > e.getLength()) return !1;
            for (;t < this.pieces_.length; ) {
                if (this.pieces_[t] !== e.pieces_[n]) return !1;
                ++t, ++n;
            }
            return !0;
        }, e;
    }();
    t.Path = i;
    var a = function() {
        function e(e, t) {
            this.errorPrefix_ = t, this.parts_ = e.slice(), this.byteLength_ = Math.max(1, this.parts_.length);
            for (var n = 0; n < this.parts_.length; n++) this.byteLength_ += o.stringLength(this.parts_[n]);
            this.checkValid_();
        }
        return Object.defineProperty(e, "MAX_PATH_DEPTH", {
            get: function() {
                return 32;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e, "MAX_PATH_LENGTH_BYTES", {
            get: function() {
                return 768;
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.push = function(e) {
            this.parts_.length > 0 && (this.byteLength_ += 1), this.parts_.push(e), this.byteLength_ += o.stringLength(e), 
            this.checkValid_();
        }, e.prototype.pop = function() {
            var e = this.parts_.pop();
            this.byteLength_ -= o.stringLength(e), this.parts_.length > 0 && (this.byteLength_ -= 1);
        }, e.prototype.checkValid_ = function() {
            if (this.byteLength_ > e.MAX_PATH_LENGTH_BYTES) throw new Error(this.errorPrefix_ + "has a key path longer than " + e.MAX_PATH_LENGTH_BYTES + " bytes (" + this.byteLength_ + ").");
            if (this.parts_.length > e.MAX_PATH_DEPTH) throw new Error(this.errorPrefix_ + "path specified exceeds the maximum depth that can be written (" + e.MAX_PATH_DEPTH + ") or object contains a cycle " + this.toErrorString());
        }, e.prototype.toErrorString = function() {
            return 0 == this.parts_.length ? "" : "in property '" + this.parts_.join(".") + "'";
        }, e;
    }();
    t.ValidationPath = a;
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", function() {
            return N;
        }), n.d(t, "c", function() {
            return D;
        }), n.d(t, "e", function() {
            return F;
        }), n.d(t, "b", function() {
            return ne;
        });
        var r = n(9), o = n.n(r), i = n(4), a = "15.1.0", s = "a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "), u = "undefined" != typeof Symbol && Symbol.for && Symbol.for("react.element") || 60103, c = "undefined" != typeof Symbol ? Symbol.for("__preactCompatWrapper") : "__preactCompatWrapper", l = {
            constructor: 1,
            render: 1,
            shouldComponentUpdate: 1,
            componentWillReceiveProps: 1,
            componentWillUpdate: 1,
            componentDidUpdate: 1,
            componentWillMount: 1,
            componentDidMount: 1,
            componentWillUnmount: 1,
            componentDidUnmount: 1
        }, h = /^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/, p = {}, d = void 0 === e || !Object({
            BASE_URL: "chrome-extension://hjngolefdpdnooamgdldlkjgmdcmcjnc",
            VERSION: "17.0.0"
        }) || !1;
        function f() {
            return null;
        }
        var v = Object(i.h)("a", null).constructor;
        v.prototype.$$typeof = u, v.prototype.preactCompatUpgraded = !1, v.prototype.preactCompatNormalized = !1, 
        Object.defineProperty(v.prototype, "type", {
            get: function() {
                return this.nodeName;
            },
            set: function(e) {
                this.nodeName = e;
            },
            configurable: !0
        }), Object.defineProperty(v.prototype, "props", {
            get: function() {
                return this.attributes;
            },
            set: function(e) {
                this.attributes = e;
            },
            configurable: !0
        });
        var m = i.options.event;
        i.options.event = function(e) {
            return m && (e = m(e)), e.persist = Object, e.nativeEvent = e, e;
        };
        var y = i.options.vnode;
        function g(e) {
            var t = e.nodeName, n = e.attributes;
            e.attributes = {}, t.defaultProps && B(e.attributes, t.defaultProps), n && B(e.attributes, n);
        }
        function _(e, t) {
            var n, r, o;
            if (t) {
                for (o in t) if (n = h.test(o)) break;
                if (n) for (o in r = e.attributes = {}, t) t.hasOwnProperty(o) && (r[h.test(o) ? o.replace(/([A-Z0-9])/, "-$1").toLowerCase() : o] = t[o]);
            }
        }
        function b(e, t, n) {
            var r = t && t._preactCompatRendered && t._preactCompatRendered.base;
            r && r.parentNode !== t && (r = null), !r && t && (r = t.firstElementChild);
            for (var o = t.childNodes.length; o--; ) t.childNodes[o] !== r && t.removeChild(t.childNodes[o]);
            var a = Object(i.render)(e, t, r);
            return t && (t._preactCompatRendered = a && (a._component || {
                base: a
            })), "function" == typeof n && n(), a && a._component || a;
        }
        i.options.vnode = function(e) {
            if (!e.preactCompatUpgraded) {
                e.preactCompatUpgraded = !0;
                var t = e.nodeName, n = e.attributes = B({}, e.attributes);
                "function" == typeof t ? (!0 === t[c] || t.prototype && "isReactComponent" in t.prototype) && (e.children && "" === String(e.children) && (e.children = void 0), 
                e.children && (n.children = e.children), e.preactCompatNormalized || L(e), g(e)) : (e.children && "" === String(e.children) && (e.children = void 0), 
                e.children && (n.children = e.children), n.defaultValue && (n.value || 0 === n.value || (n.value = n.defaultValue), 
                delete n.defaultValue), _(e, n));
            }
            y && y(e);
        };
        var w = function() {};
        function E(e, t, n, r) {
            var o = b(Object(i.h)(w, {
                context: e.context
            }, t), n), a = o._component || o.base;
            return r && r.call(a, o), a;
        }
        function T(e) {
            var t = e._preactCompatRendered && e._preactCompatRendered.base;
            return !(!t || t.parentNode !== e) && (Object(i.render)(Object(i.h)(f), e, t), !0);
        }
        w.prototype.getChildContext = function() {
            return this.props.context;
        }, w.prototype.render = function(e) {
            return e.children[0];
        };
        var C, S = [], N = {
            map: function(e, t, n) {
                return null == e ? null : (e = N.toArray(e), n && n !== e && (t = t.bind(n)), e.map(t));
            },
            forEach: function(e, t, n) {
                if (null == e) return null;
                e = N.toArray(e), n && n !== e && (t = t.bind(n)), e.forEach(t);
            },
            count: function(e) {
                return e && e.length || 0;
            },
            only: function(e) {
                if (1 !== (e = N.toArray(e)).length) throw new Error("Children.only() expects only one child.");
                return e[0];
            },
            toArray: function(e) {
                return null == e ? [] : S.concat(e);
            }
        };
        function I(e) {
            return D.bind(null, e);
        }
        for (var O = {}, P = s.length; P--; ) O[s[P]] = I(s[P]);
        function R(e, t) {
            for (var n = t || 0; n < e.length; n++) {
                var r = e[n];
                Array.isArray(r) ? R(r) : r && "object" == typeof r && !F(r) && (r.props && r.type || r.attributes && r.nodeName || r.children) && (e[n] = D(r.type || r.nodeName, r.props || r.attributes, r.children));
            }
        }
        function A(e) {
            return "function" == typeof e && !(e.prototype && e.prototype.render);
        }
        function k(e) {
            return K({
                displayName: e.displayName || e.name,
                render: function() {
                    return e(this.props, this.context);
                }
            });
        }
        function x(e) {
            var t = e[c];
            return t ? !0 === t ? e : t : (t = k(e), Object.defineProperty(t, c, {
                configurable: !0,
                value: !0
            }), t.displayName = e.displayName, t.propTypes = e.propTypes, t.defaultProps = e.defaultProps, 
            Object.defineProperty(e, c, {
                configurable: !0,
                value: t
            }), t);
        }
        function D() {
            for (var e = [], t = arguments.length; t--; ) e[t] = arguments[t];
            return R(e, 2), L(i.h.apply(void 0, e));
        }
        function L(e) {
            e.preactCompatNormalized = !0, q(e), A(e.nodeName) && (e.nodeName = x(e.nodeName));
            var t = e.attributes.ref, n = t && typeof t;
            return !C || "string" !== n && "number" !== n || (e.attributes.ref = U(t, C)), j(e), 
            e;
        }
        function M(e, t) {
            for (var n = [], r = arguments.length - 2; r-- > 0; ) n[r] = arguments[r + 2];
            if (!F(e)) return e;
            var o = e.attributes || e.props, a = [ Object(i.h)(e.nodeName || e.type, o, e.children || o && o.children), t ];
            return n && n.length ? a.push(n) : t && t.children && a.push(t.children), L(i.cloneElement.apply(void 0, a));
        }
        function F(e) {
            return e && (e instanceof v || e.$$typeof === u);
        }
        function U(e, t) {
            return t._refProxies[e] || (t._refProxies[e] = function(n) {
                t && t.refs && (t.refs[e] = n, null === n && (delete t._refProxies[e], t = null));
            });
        }
        function j(e) {
            var t = e.nodeName, n = e.attributes;
            if (n && "string" == typeof t) {
                var r = {};
                for (var o in n) r[o.toLowerCase()] = o;
                if (r.ondoubleclick && (n.ondblclick = n[r.ondoubleclick], delete n[r.ondoubleclick]), 
                r.onchange && ("textarea" === t || "input" === t.toLowerCase() && !/^fil|che|rad/i.test(n.type))) {
                    var i = r.oninput || "oninput";
                    n[i] || (n[i] = J([ n[i], n[r.onchange] ]), delete n[r.onchange]);
                }
            }
        }
        function q(e) {
            var t = e.attributes || (e.attributes = {});
            W.enumerable = "className" in t, t.className && (t.class = t.className), Object.defineProperty(t, "className", W);
        }
        var W = {
            configurable: !0,
            get: function() {
                return this.class;
            },
            set: function(e) {
                this.class = e;
            }
        };
        function B(e, t) {
            for (var n = arguments, r = 1, o = void 0; r < arguments.length; r++) if (o = n[r]) for (var i in o) o.hasOwnProperty(i) && (e[i] = o[i]);
            return e;
        }
        function V(e, t) {
            for (var n in e) if (!(n in t)) return !0;
            for (var r in t) if (e[r] !== t[r]) return !0;
            return !1;
        }
        function G(e) {
            return e && e.base || e;
        }
        function H() {}
        function K(e) {
            function t(e, t) {
                X(this), ne.call(this, e, t, p), $.call(this, e, t);
            }
            return (e = B({
                constructor: t
            }, e)).mixins && Y(e, Q(e.mixins)), e.statics && B(t, e.statics), e.propTypes && (t.propTypes = e.propTypes), 
            e.defaultProps && (t.defaultProps = e.defaultProps), e.getDefaultProps && (t.defaultProps = e.getDefaultProps()), 
            H.prototype = ne.prototype, t.prototype = B(new H(), e), t.displayName = e.displayName || "Component", 
            t;
        }
        function Q(e) {
            for (var t = {}, n = 0; n < e.length; n++) {
                var r = e[n];
                for (var o in r) r.hasOwnProperty(o) && "function" == typeof r[o] && (t[o] || (t[o] = [])).push(r[o]);
            }
            return t;
        }
        function Y(e, t) {
            for (var n in t) t.hasOwnProperty(n) && (e[n] = J(t[n].concat(e[n] || S), "getDefaultProps" === n || "getInitialState" === n || "getChildContext" === n));
        }
        function X(e) {
            for (var t in e) {
                var n = e[t];
                "function" != typeof n || n.__bound || l.hasOwnProperty(t) || ((e[t] = n.bind(e)).__bound = !0);
            }
        }
        function z(e, t, n) {
            if ("string" == typeof t && (t = e.constructor.prototype[t]), "function" == typeof t) return t.apply(e, n);
        }
        function J(e, t) {
            return function() {
                for (var n, r = arguments, o = this, i = 0; i < e.length; i++) {
                    var a = z(o, e[i], r);
                    if (t && null != a) for (var s in n || (n = {}), a) a.hasOwnProperty(s) && (n[s] = a[s]); else void 0 !== a && (n = a);
                }
                return n;
            };
        }
        function $(e, t) {
            Z.call(this, e, t), this.componentWillReceiveProps = J([ Z, this.componentWillReceiveProps || "componentWillReceiveProps" ]), 
            this.render = J([ Z, ee, this.render || "render", te ]);
        }
        function Z(e, t) {
            if (e) {
                var n = e.children;
                if (n && Array.isArray(n) && 1 === n.length && ("string" == typeof n[0] || "function" == typeof n[0] || n[0] instanceof v) && (e.children = n[0], 
                e.children && "object" == typeof e.children && (e.children.length = 1, e.children[0] = e.children)), 
                d) {
                    var r = "function" == typeof this ? this : this.constructor, i = this.propTypes || r.propTypes, a = this.displayName || r.name;
                    i && o.a.checkPropTypes(i, e, "prop", a);
                }
            }
        }
        function ee(e) {
            C = this;
        }
        function te() {
            C === this && (C = null);
        }
        function ne(e, t, n) {
            i.Component.call(this, e, t), this.state = this.getInitialState ? this.getInitialState() : {}, 
            this.refs = {}, this._refProxies = {}, n !== p && $.call(this, e, t);
        }
        function re(e, t) {
            ne.call(this, e, t);
        }
        B(ne.prototype = new i.Component(), {
            constructor: ne,
            isReactComponent: {},
            replaceState: function(e, t) {
                var n = this;
                for (var r in this.setState(e, t), n.state) r in e || delete n.state[r];
            },
            getDOMNode: function() {
                return this.base;
            },
            isMounted: function() {
                return !!this.base;
            }
        }), H.prototype = ne.prototype, re.prototype = new H(), re.prototype.isPureReactComponent = !0, 
        re.prototype.shouldComponentUpdate = function(e, t) {
            return V(this.props, e) || V(this.state, t);
        };
        var oe = {
            version: a,
            DOM: O,
            PropTypes: o.a,
            Children: N,
            render: b,
            createClass: K,
            createFactory: I,
            createElement: D,
            cloneElement: M,
            isValidElement: F,
            findDOMNode: G,
            unmountComponentAtNode: T,
            Component: ne,
            PureComponent: re,
            unstable_renderSubtreeIntoContainer: E,
            __spread: B
        };
        t.d = oe;
    }).call(this, n(39));
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(4), o = n(81), i = n.n(o), a = n(2), s = n(49), u = n(89), c = n(10);
        n.d(t, "a", function() {
            return c.a;
        });
        var l = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
                    Object.defineProperty(e, r.key, r);
                }
            }
            return function(t, n, r) {
                return n && e(t.prototype, n), r && e(t, r), t;
            };
        }();
        function h(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }
        function p(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t;
        }
        function d(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
        }
        !function(t) {
            function n() {
                h(this, n);
                var e = p(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this));
                return window.addEventListener("message", function(t) {
                    if (t && t.data && "EQUATIO_UPGRADE_OVERLAY_SHOW" === t.data.action) {
                        var n = t.data, r = n.notificationType, o = n.isTeacher;
                        e.showNotification(r, o);
                    }
                }), e;
            }
            d(n, r["Component"]), l(n, [ {
                key: "showNotification",
                value: function(e, t) {
                    this.setState({
                        isShown: !0,
                        notificationType: e,
                        isTeacher: t
                    });
                }
            }, {
                key: "hideNotification",
                value: function() {
                    this.setState({
                        isShown: !1
                    });
                }
            }, {
                key: "openFreeForTeachers",
                value: function() {
                    window.open("https://www.texthelp.com/freeforteachers"), this.hideNotification();
                }
            }, {
                key: "render",
                value: function() {
                    var t = this, n = this.state, r = n.notificationType, o = n.isTeacher, l = n.isShown;
                    return e(a.b, {
                        locale: Object(s.b)(),
                        messages: Object(s.a)()
                    }, e("div", {
                        className: i()("equatio-upgrade-overlay equatio-upgrade-overlay--with-shadow", {
                            "equatio-upgrade-overlay--shown": l
                        })
                    }, e("div", {
                        className: "equatio-upgrade-overlay-wrapper"
                    }, e("div", {
                        className: "equatio-upgrade-overlay-section equatio-upgrade-overlay-section--left"
                    }, e("svg", {
                        viewBox: "0 0 162.466 54.266",
                        className: "equatio-upgrade-overlay-logo"
                    }, e("use", {
                        xlinkHref: "#equatio-svg-logo-upgrade-overlay"
                    })), e("p", {
                        className: "equatio-upgrade-overlay-section-message"
                    }, e(a.a, {
                        id: "upgrade-overlay-used-by-teachers",
                        defaultMessage: "Used by teachers{lineBreak}and students worldwide",
                        values: {
                            lineBreak: e("br", null)
                        }
                    }))), e("div", {
                        className: "equatio-upgrade-overlay-section equatio-upgrade-overlay-section--right"
                    }, Object(u.a)(r, function() {
                        return t.hideNotification();
                    }), r === c.a.Teacher.Review ? null : o ? e("ul", {
                        className: "equatio-buttonset equatio-upgrade-buttonset"
                    }, e("li", {
                        className: "equatio-buttonset__item"
                    }, e("button", {
                        className: "equatio-button equatio-button--gold equatio-button--small",
                        onClick: function() {
                            return t.openFreeForTeachers();
                        },
                        style: {
                            color: "#FFF",
                            textDecoration: "none"
                        }
                    }, e(a.a, {
                        id: "upgrade-overlay-fft-sign-up",
                        defaultMessage: "Sign up for Free for Teachers"
                    }))), e("li", {
                        className: "equatio-buttonset__item"
                    }, e("button", {
                        className: "equatio-upgrade-linkbutton",
                        onClick: function() {
                            return t.hideNotification();
                        }
                    }, e(a.a, {
                        id: "upgrade-overlay-fft-dismiss",
                        defaultMessage: "Not today, thanks"
                    })))) : e("ul", {
                        className: "equatio-buttonset equatio-upgrade-buttonset"
                    }, e("li", {
                        className: "equatio-buttonset__item"
                    }, e("a", {
                        className: "equatio-button equatio-button--gold equatio-button--small",
                        href: "https://www.texthelp.com/products/equatio",
                        target: "_blank",
                        style: {
                            color: "#FFF",
                            textDecoration: "none"
                        }
                    }, e(a.a, {
                        id: "upgrade-overlay-student-learn-more",
                        defaultMessage: "Learn More"
                    }))), e("li", {
                        className: "equatio-buttonset__item"
                    }, e("button", {
                        className: "equatio-upgrade-linkbutton",
                        onClick: function() {
                            return t.hideNotification();
                        }
                    }, e(a.a, {
                        id: "upgrade-overlay-student-dismiss",
                        defaultMessage: "I'm all set. Take me back to EquatIO."
                    })))))), e("div", {
                        className: "equatio-upgrade-privacy-policy"
                    }, e("a", {
                        href: "https://docs.google.com/document/d/1RgqJbbXBLllpUIRjivko1q73juzPbNrDHtqDcpH_8KY/pub",
                        target: "_blank",
                        rel: "noopener noreferrer"
                    }, e(a.a, {
                        id: "upgrade-overlay-privacy-policy",
                        defaultMessage: "Privacy Policy"
                    })))));
                }
            } ]);
        }();
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i, a, s = n(33), u = n(3), c = n(12), l = n(34);
    function h(e) {
        i = e;
    }
    function p(e) {
        a = e;
    }
    t.setNodeFromJSON = h, t.setMaxNode = p;
    var d = function(e) {
        function t() {
            return null !== e && e.apply(this, arguments) || this;
        }
        return o(t, e), t.prototype.compare = function(e, t) {
            var n = e.node.getPriority(), r = t.node.getPriority(), o = n.compareTo(r);
            return 0 === o ? u.nameCompare(e.name, t.name) : o;
        }, t.prototype.isDefinedOn = function(e) {
            return !e.getPriority().isEmpty();
        }, t.prototype.indexedValueChanged = function(e, t) {
            return !e.getPriority().equals(t.getPriority());
        }, t.prototype.minPost = function() {
            return c.NamedNode.MIN;
        }, t.prototype.maxPost = function() {
            return new c.NamedNode(u.MAX_NAME, new l.LeafNode("[PRIORITY-POST]", a));
        }, t.prototype.makePost = function(e, t) {
            var n = i(e);
            return new c.NamedNode(t, new l.LeafNode("[PRIORITY-POST]", n));
        }, t.prototype.toString = function() {
            return ".priority";
        }, t;
    }(s.Index);
    t.PriorityIndex = d, t.PRIORITY_INDEX = new d();
}, function(e, t, n) {
    e.exports = n(178)();
}, function(e, t, n) {
    "use strict";
    t.a = Object.freeze({
        Teacher: {
            FirstTimeExpiry: "teacher_first_time_expiry",
            HandwritingExceeded: "teacher_handwriting_exceeded",
            FormsPeriodicReminder: "teacher_periodic_forms",
            PredictionPeriodicReminder: "teacher_periodic_prediction",
            GeneralPeriodicReminder: "teacher_periodic_general",
            Expiring: "teacher_expiring",
            Review: "review"
        },
        Student: {
            Expired: "student_expired",
            HandwritingExceeded: "student_handwriting_exceeded",
            UpgradeReminder: "student_upgrade_reminder"
        }
    });
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i, a = n(0), s = n(3), u = n(35), c = n(12), l = n(59), h = n(8), p = n(28), d = n(61), f = n(34), v = n(63), m = function() {
        function e(e, t, n) {
            this.children_ = e, this.priorityNode_ = t, this.indexMap_ = n, this.lazyHash_ = null, 
            this.priorityNode_ && l.validatePriorityNode(this.priorityNode_), this.children_.isEmpty() && a.assert(!this.priorityNode_ || this.priorityNode_.isEmpty(), "An empty node cannot have a priority");
        }
        return Object.defineProperty(e, "EMPTY_NODE", {
            get: function() {
                return i || (i = new e(new u.SortedMap(v.NAME_COMPARATOR), null, d.IndexMap.Default));
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.isLeafNode = function() {
            return !1;
        }, e.prototype.getPriority = function() {
            return this.priorityNode_ || i;
        }, e.prototype.updatePriority = function(t) {
            return this.children_.isEmpty() ? this : new e(this.children_, t, this.indexMap_);
        }, e.prototype.getImmediateChild = function(e) {
            if (".priority" === e) return this.getPriority();
            var t = this.children_.get(e);
            return null === t ? i : t;
        }, e.prototype.getChild = function(e) {
            var t = e.getFront();
            return null === t ? this : this.getImmediateChild(t).getChild(e.popFront());
        }, e.prototype.hasChild = function(e) {
            return null !== this.children_.get(e);
        }, e.prototype.updateImmediateChild = function(t, n) {
            if (a.assert(n, "We should always be passing snapshot nodes"), ".priority" === t) return this.updatePriority(n);
            var r = new c.NamedNode(t, n), o = void 0, s = void 0;
            return n.isEmpty() ? (o = this.children_.remove(t), s = this.indexMap_.removeFromIndexes(r, this.children_)) : (o = this.children_.insert(t, n), 
            s = this.indexMap_.addToIndexes(r, this.children_)), new e(o, o.isEmpty() ? i : this.priorityNode_, s);
        }, e.prototype.updateChild = function(e, t) {
            var n = e.getFront();
            if (null === n) return t;
            a.assert(".priority" !== e.getFront() || 1 === e.getLength(), ".priority must be the last token in a path");
            var r = this.getImmediateChild(n).updateChild(e.popFront(), t);
            return this.updateImmediateChild(n, r);
        }, e.prototype.isEmpty = function() {
            return this.children_.isEmpty();
        }, e.prototype.numChildren = function() {
            return this.children_.count();
        }, e.prototype.val = function(t) {
            if (this.isEmpty()) return null;
            var n = {}, r = 0, o = 0, i = !0;
            if (this.forEachChild(h.PRIORITY_INDEX, function(a, s) {
                n[a] = s.val(t), r++, i && e.INTEGER_REGEXP_.test(a) ? o = Math.max(o, Number(a)) : i = !1;
            }), !t && i && o < 2 * r) {
                var a = [];
                for (var s in n) a[s] = n[s];
                return a;
            }
            return t && !this.getPriority().isEmpty() && (n[".priority"] = this.getPriority().val()), 
            n;
        }, e.prototype.hash = function() {
            if (null === this.lazyHash_) {
                var e = "";
                this.getPriority().isEmpty() || (e += "priority:" + l.priorityHashText(this.getPriority().val()) + ":"), 
                this.forEachChild(h.PRIORITY_INDEX, function(t, n) {
                    var r = n.hash();
                    "" !== r && (e += ":" + t + ":" + r);
                }), this.lazyHash_ = "" === e ? "" : s.sha1(e);
            }
            return this.lazyHash_;
        }, e.prototype.getPredecessorChildName = function(e, t, n) {
            var r = this.resolveIndex_(n);
            if (r) {
                var o = r.getPredecessorKey(new c.NamedNode(e, t));
                return o ? o.name : null;
            }
            return this.children_.getPredecessorKey(e);
        }, e.prototype.getFirstChildName = function(e) {
            var t = this.resolveIndex_(e);
            if (t) {
                var n = t.minKey();
                return n && n.name;
            }
            return this.children_.minKey();
        }, e.prototype.getFirstChild = function(e) {
            var t = this.getFirstChildName(e);
            return t ? new c.NamedNode(t, this.children_.get(t)) : null;
        }, e.prototype.getLastChildName = function(e) {
            var t = this.resolveIndex_(e);
            if (t) {
                var n = t.maxKey();
                return n && n.name;
            }
            return this.children_.maxKey();
        }, e.prototype.getLastChild = function(e) {
            var t = this.getLastChildName(e);
            return t ? new c.NamedNode(t, this.children_.get(t)) : null;
        }, e.prototype.forEachChild = function(e, t) {
            var n = this.resolveIndex_(e);
            return n ? n.inorderTraversal(function(e) {
                return t(e.name, e.node);
            }) : this.children_.inorderTraversal(t);
        }, e.prototype.getIterator = function(e) {
            return this.getIteratorFrom(e.minPost(), e);
        }, e.prototype.getIteratorFrom = function(e, t) {
            var n = this.resolveIndex_(t);
            if (n) return n.getIteratorFrom(e, function(e) {
                return e;
            });
            for (var r = this.children_.getIteratorFrom(e.name, c.NamedNode.Wrap), o = r.peek(); null != o && t.compare(o, e) < 0; ) r.getNext(), 
            o = r.peek();
            return r;
        }, e.prototype.getReverseIterator = function(e) {
            return this.getReverseIteratorFrom(e.maxPost(), e);
        }, e.prototype.getReverseIteratorFrom = function(e, t) {
            var n = this.resolveIndex_(t);
            if (n) return n.getReverseIteratorFrom(e, function(e) {
                return e;
            });
            for (var r = this.children_.getReverseIteratorFrom(e.name, c.NamedNode.Wrap), o = r.peek(); null != o && t.compare(o, e) > 0; ) r.getNext(), 
            o = r.peek();
            return r;
        }, e.prototype.compareTo = function(e) {
            return this.isEmpty() ? e.isEmpty() ? 0 : -1 : e.isLeafNode() || e.isEmpty() ? 1 : e === t.MAX_NODE ? -1 : 0;
        }, e.prototype.withIndex = function(t) {
            if (t === p.KEY_INDEX || this.indexMap_.hasIndex(t)) return this;
            var n = this.indexMap_.addIndex(t, this.children_);
            return new e(this.children_, this.priorityNode_, n);
        }, e.prototype.isIndexed = function(e) {
            return e === p.KEY_INDEX || this.indexMap_.hasIndex(e);
        }, e.prototype.equals = function(e) {
            if (e === this) return !0;
            if (e.isLeafNode()) return !1;
            var t = e;
            if (this.getPriority().equals(t.getPriority())) {
                if (this.children_.count() === t.children_.count()) {
                    for (var n = this.getIterator(h.PRIORITY_INDEX), r = t.getIterator(h.PRIORITY_INDEX), o = n.getNext(), i = r.getNext(); o && i; ) {
                        if (o.name !== i.name || !o.node.equals(i.node)) return !1;
                        o = n.getNext(), i = r.getNext();
                    }
                    return null === o && null === i;
                }
                return !1;
            }
            return !1;
        }, e.prototype.resolveIndex_ = function(e) {
            return e === p.KEY_INDEX ? null : this.indexMap_.get(e.toString());
        }, e.INTEGER_REGEXP_ = /^(0|[1-9]\d*)$/, e;
    }();
    t.ChildrenNode = m;
    var y = function(e) {
        function t() {
            return e.call(this, new u.SortedMap(v.NAME_COMPARATOR), m.EMPTY_NODE, d.IndexMap.Default) || this;
        }
        return o(t, e), t.prototype.compareTo = function(e) {
            return e === this ? 0 : 1;
        }, t.prototype.equals = function(e) {
            return e === this;
        }, t.prototype.getPriority = function() {
            return this;
        }, t.prototype.getImmediateChild = function(e) {
            return m.EMPTY_NODE;
        }, t.prototype.isEmpty = function() {
            return !1;
        }, t;
    }(m);
    t.MaxNode = y, t.MAX_NODE = new y(), Object.defineProperties(c.NamedNode, {
        MIN: {
            value: new c.NamedNode(s.MIN_NAME, m.EMPTY_NODE)
        },
        MAX: {
            value: new c.NamedNode(s.MAX_NAME, t.MAX_NODE)
        }
    }), p.KeyIndex.__EMPTY_NODE = m.EMPTY_NODE, f.LeafNode.__childrenNodeConstructor = m, 
    l.setMaxNode(t.MAX_NODE), h.setMaxNode(t.MAX_NODE);
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function() {
        function e(e, t) {
            this.name = e, this.node = t;
        }
        return e.Wrap = function(t, n) {
            return new e(t, n);
        }, e;
    }();
    t.NamedNode = r;
}, function(e, t, n) {
    "use strict";
    n.r(t);
    var r = n(0), o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
    }, i = "[DEFAULT]", a = [], s = function() {
        function e(e, t, n) {
            this.firebase_ = n, this.isDeleted_ = !1, this.services_ = {}, this.name_ = t, this.options_ = Object(r.deepCopy)(e), 
            this.INTERNAL = {
                getUid: function() {
                    return null;
                },
                getToken: function() {
                    return Promise.resolve(null);
                },
                addAuthTokenListener: function(e) {
                    a.push(e), setTimeout(function() {
                        return e(null);
                    }, 0);
                },
                removeAuthTokenListener: function(e) {
                    a = a.filter(function(t) {
                        return t !== e;
                    });
                }
            };
        }
        return Object.defineProperty(e.prototype, "name", {
            get: function() {
                return this.checkDestroyed_(), this.name_;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "options", {
            get: function() {
                return this.checkDestroyed_(), this.options_;
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.delete = function() {
            var e = this;
            return new Promise(function(t) {
                e.checkDestroyed_(), t();
            }).then(function() {
                e.firebase_.INTERNAL.removeApp(e.name_);
                var t = [];
                return Object.keys(e.services_).forEach(function(n) {
                    Object.keys(e.services_[n]).forEach(function(r) {
                        t.push(e.services_[n][r]);
                    });
                }), Promise.all(t.map(function(e) {
                    return e.INTERNAL.delete();
                }));
            }).then(function() {
                e.isDeleted_ = !0, e.services_ = {};
            });
        }, e.prototype._getService = function(e, t) {
            if (void 0 === t && (t = i), this.checkDestroyed_(), this.services_[e] || (this.services_[e] = {}), 
            !this.services_[e][t]) {
                var n = t !== i ? t : void 0, r = this.firebase_.INTERNAL.factories[e](this, this.extendApp.bind(this), n);
                this.services_[e][t] = r;
            }
            return this.services_[e][t];
        }, e.prototype.extendApp = function(e) {
            var t = this;
            Object(r.deepExtend)(this, e), e.INTERNAL && e.INTERNAL.addAuthTokenListener && (a.forEach(function(e) {
                t.INTERNAL.addAuthTokenListener(e);
            }), a = []);
        }, e.prototype.checkDestroyed_ = function() {
            this.isDeleted_ && c("app-deleted", {
                name: this.name_
            });
        }, e;
    }();
    function u() {
        var e = {}, t = {}, n = {}, a = {
            __esModule: !0,
            initializeApp: p,
            app: h,
            apps: null,
            Promise: Promise,
            SDK_VERSION: "4.9.0",
            INTERNAL: {
                registerService: f,
                createFirebaseNamespace: u,
                extendNamespace: v,
                createSubscribe: r.createSubscribe,
                ErrorFactory: r.ErrorFactory,
                removeApp: l,
                factories: t,
                useAsService: y,
                Promise: Promise,
                deepExtend: r.deepExtend
            }
        };
        function l(t) {
            m(e[t], "delete"), delete e[t];
        }
        function h(t) {
            return o(e, t = t || i) || c("no-app", {
                name: t
            }), e[t];
        }
        function p(t, n) {
            void 0 === n ? n = i : "string" == typeof n && "" !== n || c("bad-app-name", {
                name: n + ""
            }), o(e, n) && c("duplicate-app", {
                name: n
            });
            var r = new s(t, n, a);
            return e[n] = r, m(r, "create"), r;
        }
        function d() {
            return Object.keys(e).map(function(t) {
                return e[t];
            });
        }
        function f(e, o, i, u, l) {
            t[e] && c("duplicate-service", {
                name: e
            }), t[e] = o, u && (n[e] = u, d().forEach(function(e) {
                u("create", e);
            }));
            var p = function(t) {
                return void 0 === t && (t = h()), "function" != typeof t[e] && c("invalid-app-argument", {
                    name: e
                }), t[e]();
            };
            return void 0 !== i && Object(r.deepExtend)(p, i), a[e] = p, s.prototype[e] = function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                return this._getService.bind(this, e).apply(this, l ? t : []);
            }, p;
        }
        function v(e) {
            Object(r.deepExtend)(a, e);
        }
        function m(e, r) {
            Object.keys(t).forEach(function(t) {
                var o = y(e, t);
                null !== o && n[o] && n[o](r, e);
            });
        }
        function y(e, t) {
            if ("serverAuth" === t) return null;
            var n = t;
            e.options;
            return n;
        }
        return Object(r.patchProperty)(a, "default", a), Object.defineProperty(a, "apps", {
            get: d
        }), Object(r.patchProperty)(h, "App", s), a;
    }
    function c(e, t) {
        throw h.create(e, t);
    }
    s.prototype.name && s.prototype.options || s.prototype.delete;
    var l = {
        "no-app": "No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",
        "bad-app-name": "Illegal App name: '{$name}",
        "duplicate-app": "Firebase App named '{$name}' already exists",
        "app-deleted": "Firebase App named '{$name}' already deleted",
        "duplicate-service": "Firebase service named '{$name}' already registered",
        "sa-not-supported": "Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain",
        "invalid-app-argument": "firebase.{$name}() takes either no argument or a Firebase App instance."
    }, h = new r.ErrorFactory("app", "Firebase", l);
    n.d(t, "firebase", function() {
        return p;
    });
    var p = u();
    t.default = p;
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2);
        t.a = function() {
            return e("li", {
                className: "equatio-upgrade-iconset__item"
            }, e("svg", {
                viewBox: "0 0 47.758 47.761",
                className: "equatio-upgrade-iconset-image",
                style: {
                    minWidth: "50px",
                    minHeight: "50px"
                }
            }, e("use", {
                xlinkHref: "#equatio-svg-upgrade-draw-shapes"
            })), e("p", {
                className: "equatio-upgrade-iconset-message"
            }, e(r.a, {
                id: "upgrade-overlay-iconset-unlimited-handwriting",
                defaultMessage: "Unlimited handwriting inputs"
            })));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    var r = n(104);
    n(123), n(125), n(160), n(161), e.exports = r;
}, function(e) {
    e.exports = {
        "browser-action-popup.disabled-app.dismiss": "OK",
        "browser-action-popup.disabled-app.message": "Looks like this Google App integration has been disabled for your domain. Talk to your admin to have this feature enabled!",
        "browser-action-popup.disabled-app.title": "Hey there!",
        "browser-action-popup.forms.dismiss": "OK",
        "browser-action-popup.forms.message": "Open up EquatIO in Google Forms by clicking on the {equationIcon} icon beside the question or answer you want to work on.",
        "browser-action-popup.forms.title": "Quiz time?!",
        "browser-action-popup.not-signed-into-chrome.dismiss": "OK",
        "browser-action-popup.not-signed-into-chrome.message": "Looks like you're not signed into Google Chrome :(",
        "browser-action-popup.not-signed-into-chrome.read-more": "Read More",
        "browser-action-popup.not-signed-into-chrome.sign-in-message": "In order to use all the great features of EquatIO, you need to sign in. {readMoreLink}.",
        "browser-action-popup.not-signed-into-chrome.title": "Hey there!",
        "browser-action-popup.unsupported-app.description": "Your current EquatIO subscription does not support this Google App. Upgrade today to experience the power of EquatIO across Google Forms, Sheets, Slides and Drawings. If you are a teacher, {freeForTeachersLink} to learn about our Free for Teachers program before renewing.",
        "browser-action-popup.unsupported-app.fft-link": "click here",
        "browser-action-popup.unsupported-app.list-handwriting": "Unlimited handwriting inputs",
        "browser-action-popup.unsupported-app.list-prediction": "The advanced math and chemistry prediction engine",
        "browser-action-popup.unsupported-app.not-today": "Not today, thanks.",
        "browser-action-popup.unsupported-app.title": "Oh no!",
        "browser-action-popup.unsupported-app.upgrade": "Learn More",
        "browser-action-popup.web-premium.dismiss": "OK",
        "browser-action-popup.web-premium.message": "You need a {premiumSubscription} to use EquatIO inside web pages",
        "browser-action-popup.web-premium.premium-subscription": "Premium Subscription",
        "browser-action-popup.web-premium.title": "Hey there!",
        "browser-action-popup.web-premium.upgrade": "Learn More",
        "intro.dismiss-button": "I'd rather not say. Simply take me to EquatIO!",
        "intro.introduction-learn-more-link": "Learn more",
        "intro.introduction-line1": "Finally, you can create digital math! {learnMoreLink}.",
        "intro.loading-doc.message": "We're taking you to your first EquatIO-enabled Google Doc...",
        "intro.loading-doc.thanks": "Thanks!",
        "intro.student-button": "Student",
        "intro.teacher-button": "Teacher",
        "math-discoverability.action-buttons.capture-math": "Capture Math",
        "math-discoverability.action-buttons.what-is-this": "What is this?",
        "math-discoverability.dismiss-menu.30-minutes": "All notifications for 30 minutes",
        "math-discoverability.dismiss-menu.8-hours": "All notifications for 8 hours",
        "math-discoverability.dismiss-menu.hide": "Hide",
        "math-discoverability.dismiss-menu.never-show": "Never show this again",
        "math-discoverability.dismiss-menu.never-show-site": "Never show on this site",
        "math-discoverability.dismiss-menu.this-equation": "This equation",
        "math-discoverability.info-dialog.close": "Close",
        "math-discoverability.info-dialog.happy-searching": "Happy searching!",
        "math-discoverability.info-dialog.hey-there": "Hey there!",
        "math-discoverability.info-dialog.paragraph-1": "This is a feature of EquatIO, the blue diamond-shaped button you see over there to the right of your address bar.",
        "math-discoverability.info-dialog.paragraph-2": "Among many other things, EquatIO searches the web page you\u2019re on for math content. If it finds any, it will highlight it for you, just as you saw here. Then you can take a screenshot {cameraButton} to convert it into accessible math, have it read aloud, and even copy and paste it into a G Suite App.",
        "math-discoverability.info-dialog.paragraph-3": "Don\u2019t want EquatIO to search for math content? Select {closeButton} and choose from the drop-down menu to limit when and where EquatIO searches for math.",
        "math-discoverability.info-dialog.title": "About",
        "popup-menu.close": "Close EquatIO",
        "popup-menu.try-mathspace": "Try EquatIO Mathspace",
        "screenshot-reader-button.title": "Screenshot Reader",
        "screenshot-reader-button.title_premium": "Screenshot Reader (Premium Feature)",
        "screenshot-reader.context-menu.buttons.copy-latex": "Copy LaTeX",
        "screenshot-reader.context-menu.buttons.copy-mathml": "Copy MathML",
        "screenshot-reader.context-menu.buttons.send-to-equation": "Edit with EquatIO",
        "screenshot-reader.mathjax.actions.close": "Close",
        "screenshot-reader.mathjax.actions.more-options": "More Options",
        "screenshot-reader.mathjax.actions.play": "Play",
        "screenshot-reader.mathjax.actions.stop": "Stop",
        "screenshot-reader.mathjax.error-display.title": "Uh oh! We couldn't detect any math for this selection",
        "upgrade-overlay-fft-dismiss": "Not today, thanks",
        "upgrade-overlay-fft-sign-up": "Sign up for Free for Teachers",
        "upgrade-overlay-iconset-advanced-math": "The advanced math and chemistry prediction engine",
        "upgrade-overlay-iconset-built-in-integration": "Built-in integration with Google Forms, Slides, Sheets & Drawings",
        "upgrade-overlay-iconset-free-for-teachers-click-here": "click here",
        "upgrade-overlay-iconset-unlimited-handwriting": "Unlimited handwriting inputs",
        "upgrade-overlay-privacy-policy": "Privacy Policy",
        "upgrade-overlay-student-dismiss": "I'm all set. Take me back to EquatIO.",
        "upgrade-overlay-student-expired.text": "It looks like your 30-day access to EquatIO's premium features has expired. Talk with your teacher to learn how you can keep using all of EquatIO's awesome features, including handwriting and math prediction. If you are a teacher, {upgradeLink} to learn about our Free for Teachers program.",
        "upgrade-overlay-student-handwriting-exceeded.text": "Whoops! You've already used your two handwriting inputs for the day. Talk with your teacher to learn more about your handwriting options. If you are a teacher, {upgradeLink} to learn about our Free for Teachers program.",
        "upgrade-overlay-student-learn-more": "Learn More",
        "upgrade-overlay-student-upgrade-reminder.text": "Talk with your teacher to learn more about EquatIO's premium features. If you are a teacher, {upgradeLink} to learn about our Free for Teachers program.",
        "upgrade-overlay-teacher-expiring.text": "But why renew when you can sign up for Free for Teachers? As a teacher, you'll get all the features you've come to know and love with your premium subscription of EquatIO for FREE!",
        "upgrade-overlay-teacher-expiring.title": "Your premium subscription to EquatIO expires in less than 5 days.",
        "upgrade-overlay-teacher-first-time-expiry.line1": "It looks like your 30-day access to EquatIO's premium features has expired.",
        "upgrade-overlay-teacher-first-time-expiry.line2": "But no need to worry. As a teacher, you can get all those features free forever through our Free for Teacher program. Sign up today to keep using all of EquatIO's features!",
        "upgrade-overlay-teacher-forms-periodic-reminder.integration-with-apps": "Integration with Google Slides, Sheets & Drawings",
        "upgrade-overlay-teacher-forms-periodic-reminder.text": "If you sign up for EquatIO Free for Teachers, you can transform your assessment process through built-in integration with Google Forms - for no additional cost! Sign up today to access all of EquatIO's premium features for free.",
        "upgrade-overlay-teacher-forms-periodic-reminder.title": "Eureka!",
        "upgrade-overlay-teacher-general-periodic-reminder.line1": "Sign up for EquatIO Free for Teachers today to take your digital math to the next level!",
        "upgrade-overlay-teacher-general-periodic-reminder.line2": "By signing up, you'll receive FREE access to...",
        "upgrade-overlay-teacher-handwriting-exceeded.text": "You've already used your two free handwriting inputs for the day. But did you know that through our Free for Teacher program you can get unlimited handwriting - along with all of the other premium features - FREE forever? Sign up today!",
        "upgrade-overlay-teacher-handwriting-exceeded.whoops": "Whoops!",
        "upgrade-overlay-teacher-prediction-periodic-reminder.text": "Lucky for you, EquatIO's advanced math and chemistry prediction engine does just that! Sign up for Free for Teachers today to access this radical feature - and all of EquatIO's premium features - for FREE!",
        "upgrade-overlay-teacher-prediction-periodic-reminder.title": "Just think of the time you would save if you could generate equations faster.",
        "upgrade-overlay-teacher-review-action": "Rate EquatIO!",
        "upgrade-overlay-teacher-review-dismiss": "No, thanks.",
        "upgrade-overlay-teacher-review-no-thanks": "Remind me later.",
        "upgrade-overlay-teacher-review.text": "Share your star-power by giving EquatIO a 5-star rating!",
        "upgrade-overlay-teacher-review.title": "Feeling like a star \u2b50\ufe0f?",
        "upgrade-overlay-used-by-teachers": "Used by teachers{lineBreak}and students worldwide",
        "web-toolbar.popup-menu.menu.close": "Hide EquatIO",
        "web-toolbar.toolbar.calculator": "Calculator",
        "web-toolbar.toolbar.move-toolbar": "Move Toolbar",
        "web-toolbar.toolbar.screenshot-reader": "Screenshot Reader"
    };
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2);
        t.a = function() {
            return e("li", {
                className: "equatio-upgrade-iconset__item"
            }, e("svg", {
                viewBox: "0 0 47.758 47.761",
                className: "equatio-upgrade-iconset-image",
                style: {
                    minWidth: "50px",
                    minHeight: "50px"
                }
            }, e("use", {
                xlinkHref: "#equatio-svg-upgrade-math-prediction"
            })), e("p", {
                className: "equatio-upgrade-iconset-message"
            }, e(r.a, {
                id: "upgrade-overlay-iconset-advanced-math",
                defaultMessage: "The advanced math and chemistry prediction engine"
            })));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2);
        t.a = function() {
            return e("li", {
                className: "equatio-upgrade-iconset__item"
            }, e("svg", {
                viewBox: "0 0 47.758 47.761",
                className: "equatio-upgrade-iconset-image",
                style: {
                    minWidth: "50px",
                    minHeight: "50px"
                }
            }, e("use", {
                xlinkHref: "#equatio-svg-upgrade-math-prediction"
            })), e("p", {
                className: "equatio-upgrade-iconset-message"
            }, e(r.a, {
                id: "upgrade-overlay-iconset-built-in-integration",
                defaultMessage: "Built-in integration with Google Forms, Slides, Sheets & Drawings"
            })));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(5), o = n(0), i = n(3), a = n(0), s = n(0);
    t.INVALID_KEY_REGEX_ = /[\[\].#$\/\u0000-\u001F\u007F]/, t.INVALID_PATH_REGEX_ = /[\[\].#$\u0000-\u001F\u007F]/, 
    t.MAX_LEAF_SIZE_ = 10485760, t.isValidKey = function(e) {
        return "string" == typeof e && 0 !== e.length && !t.INVALID_KEY_REGEX_.test(e);
    }, t.isValidPathString = function(e) {
        return "string" == typeof e && 0 !== e.length && !t.INVALID_PATH_REGEX_.test(e);
    }, t.isValidRootPathString = function(e) {
        return e && (e = e.replace(/^\/*\.info(\/|$)/, "/")), t.isValidPathString(e);
    }, t.isValidPriority = function(e) {
        return null === e || "string" == typeof e || "number" == typeof e && !i.isInvalidJSONNumber(e) || e && "object" == typeof e && o.contains(e, ".sv");
    }, t.validateFirebaseDataArg = function(e, n, r, o, i) {
        i && void 0 === r || t.validateFirebaseData(a.errorPrefix(e, n, i), r, o);
    }, t.validateFirebaseData = function(e, n, a) {
        var u = a instanceof r.Path ? new r.ValidationPath(a, e) : a;
        if (void 0 === n) throw new Error(e + "contains undefined " + u.toErrorString());
        if ("function" == typeof n) throw new Error(e + "contains a function " + u.toErrorString() + " with contents = " + n.toString());
        if (i.isInvalidJSONNumber(n)) throw new Error(e + "contains " + n.toString() + " " + u.toErrorString());
        if ("string" == typeof n && n.length > t.MAX_LEAF_SIZE_ / 3 && s.stringLength(n) > t.MAX_LEAF_SIZE_) throw new Error(e + "contains a string greater than " + t.MAX_LEAF_SIZE_ + " utf8 bytes " + u.toErrorString() + " ('" + n.substring(0, 50) + "...')");
        if (n && "object" == typeof n) {
            var c = !1, l = !1;
            if (o.forEach(n, function(n, r) {
                if (".value" === n) c = !0; else if (".priority" !== n && ".sv" !== n && (l = !0, 
                !t.isValidKey(n))) throw new Error(e + " contains an invalid key (" + n + ") " + u.toErrorString() + '.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');
                u.push(n), t.validateFirebaseData(e, r, u), u.pop();
            }), c && l) throw new Error(e + ' contains ".value" child ' + u.toErrorString() + " in addition to actual children.");
        }
    }, t.validateFirebaseMergePaths = function(e, n) {
        var o, i;
        for (o = 0; o < n.length; o++) for (var a = (i = n[o]).slice(), s = 0; s < a.length; s++) if (".priority" === a[s] && s === a.length - 1) ; else if (!t.isValidKey(a[s])) throw new Error(e + "contains an invalid key (" + a[s] + ") in path " + i.toString() + '. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');
        n.sort(r.Path.comparePaths);
        var u = null;
        for (o = 0; o < n.length; o++) {
            if (i = n[o], null !== u && u.contains(i)) throw new Error(e + "contains a path " + u.toString() + " that is ancestor of another path " + i.toString());
            u = i;
        }
    }, t.validateFirebaseMergeDataArg = function(e, n, i, s, u) {
        if (!u || void 0 !== i) {
            var c = a.errorPrefix(e, n, u);
            if (!i || "object" != typeof i || Array.isArray(i)) throw new Error(c + " must be an object containing the children to replace.");
            var l = [];
            o.forEach(i, function(e, n) {
                var o = new r.Path(e);
                if (t.validateFirebaseData(c, n, s.child(o)), ".priority" === o.getBack() && !t.isValidPriority(n)) throw new Error(c + "contains an invalid value for '" + o.toString() + "', which must be a valid Firebase priority (a string, finite number, server value, or null).");
                l.push(o);
            }), t.validateFirebaseMergePaths(c, l);
        }
    }, t.validatePriority = function(e, n, r, o) {
        if (!o || void 0 !== r) {
            if (i.isInvalidJSONNumber(r)) throw new Error(a.errorPrefix(e, n, o) + "is " + r.toString() + ", but must be a valid Firebase priority (a string, finite number, server value, or null).");
            if (!t.isValidPriority(r)) throw new Error(a.errorPrefix(e, n, o) + "must be a valid Firebase priority (a string, finite number, server value, or null).");
        }
    }, t.validateEventType = function(e, t, n, r) {
        if (!r || void 0 !== n) switch (n) {
          case "value":
          case "child_added":
          case "child_removed":
          case "child_changed":
          case "child_moved":
            break;

          default:
            throw new Error(a.errorPrefix(e, t, r) + 'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".');
        }
    }, t.validateKey = function(e, n, r, o) {
        if (!(o && void 0 === r || t.isValidKey(r))) throw new Error(a.errorPrefix(e, n, o) + 'was an invalid key = "' + r + '".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');
    }, t.validatePathString = function(e, n, r, o) {
        if (!(o && void 0 === r || t.isValidPathString(r))) throw new Error(a.errorPrefix(e, n, o) + 'was an invalid path = "' + r + '". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');
    }, t.validateRootPathString = function(e, n, r, o) {
        r && (r = r.replace(/^\/*\.info(\/|$)/, "/")), t.validatePathString(e, n, r, o);
    }, t.validateWritablePath = function(e, t) {
        if (".info" === t.getFront()) throw new Error(e + " failed = Can't modify data under /.info/");
    }, t.validateUrl = function(e, n, r) {
        var o = r.path.toString();
        if ("string" != typeof r.repoInfo.host || 0 === r.repoInfo.host.length || !t.isValidKey(r.repoInfo.namespace) || 0 !== o.length && !t.isValidRootPathString(o)) throw new Error(a.errorPrefix(e, n, !1) + 'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');
    }, t.validateCredential = function(e, t, n, r) {
        if ((!r || void 0 !== n) && "string" != typeof n) throw new Error(a.errorPrefix(e, t, r) + "must be a valid credential (a string).");
    }, t.validateBoolean = function(e, t, n, r) {
        if ((!r || void 0 !== n) && "boolean" != typeof n) throw new Error(a.errorPrefix(e, t, r) + "must be a boolean.");
    }, t.validateString = function(e, t, n, r) {
        if ((!r || void 0 !== n) && "string" != typeof n) throw new Error(a.errorPrefix(e, t, r) + "must be a valid string.");
    }, t.validateObject = function(e, t, n, r) {
        if (!(r && void 0 === n || n && "object" == typeof n && null !== n)) throw new Error(a.errorPrefix(e, t, r) + "must be a valid object.");
    }, t.validateObjectContainsKey = function(e, t, n, r, i, s) {
        if (!(n && "object" == typeof n && o.contains(n, r))) {
            if (i) return;
            throw new Error(a.errorPrefix(e, t, i) + 'must contain the key "' + r + '"');
        }
        if (s) {
            var u = o.safeGet(n, r);
            if ("number" === s && "number" != typeof u || "string" === s && "string" != typeof u || "boolean" === s && "boolean" != typeof u || "function" === s && "function" != typeof u || "object" === s && "object" != typeof u && u) throw i ? new Error(a.errorPrefix(e, t, i) + 'contains invalid value for key "' + r + '" (must be of type "' + s + '")') : new Error(a.errorPrefix(e, t, i) + 'must contain the key "' + r + '" with type "' + s + '"');
        }
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0);
    !function(e) {
        e[e.OVERWRITE = 0] = "OVERWRITE", e[e.MERGE = 1] = "MERGE", e[e.ACK_USER_WRITE = 2] = "ACK_USER_WRITE", 
        e[e.LISTEN_COMPLETE = 3] = "LISTEN_COMPLETE";
    }(t.OperationType || (t.OperationType = {}));
    var o = function() {
        function e(e, t, n, o) {
            this.fromUser = e, this.fromServer = t, this.queryId = n, this.tagged = o, r.assert(!o || t, "Tagged queries must be from server.");
        }
        return e.User = new e(!0, !1, null, !1), e.Server = new e(!1, !0, null, !1), e.forServerTaggedQuery = function(t) {
            return new e(!1, !0, t, !0);
        }, e;
    }();
    t.OperationSource = o;
}, function(e, t, n) {
    "use strict";
    var r = n(164).default;
    n(171), (t = e.exports = r).default = t;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function() {
        function e(e, t, n, r, o) {
            this.type = e, this.snapshotNode = t, this.childName = n, this.oldSnap = r, this.prevName = o;
        }
        return e.valueChange = function(t) {
            return new e(e.VALUE, t);
        }, e.childAddedChange = function(t, n) {
            return new e(e.CHILD_ADDED, n, t);
        }, e.childRemovedChange = function(t, n) {
            return new e(e.CHILD_REMOVED, n, t);
        }, e.childChangedChange = function(t, n, r) {
            return new e(e.CHILD_CHANGED, n, t, r);
        }, e.childMovedChange = function(t, n) {
            return new e(e.CHILD_MOVED, n, t);
        }, e.CHILD_ADDED = "child_added", e.CHILD_REMOVED = "child_removed", e.CHILD_CHANGED = "child_changed", 
        e.CHILD_MOVED = "child_moved", e.VALUE = "value", e;
    }();
    t.Change = r;
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2);
        t.a = function() {
            return e("a", {
                href: "http://www.texthelp.com/freeforteachers",
                target: "_blank",
                rel: "noopener noreferrer"
            }, e(r.a, {
                id: "upgrade-overlay-iconset-free-for-teachers-click-here",
                defaultMessage: "click here"
            }));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(t) {
        var r = n(162), o = n(163), i = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i, a = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//, s = [ [ "#", "hash" ], [ "?", "query" ], function(e) {
            return e.replace("\\", "/");
        }, [ "/", "pathname" ], [ "@", "auth", 1 ], [ NaN, "host", void 0, 1, 1 ], [ /:(\d+)$/, "port", void 0, 1 ], [ NaN, "hostname", void 0, 1, 1 ] ], u = {
            hash: 1,
            query: 1
        };
        function c(e) {
            var n, r = t && t.location || {}, o = {}, i = typeof (e = e || r);
            if ("blob:" === e.protocol) o = new p(unescape(e.pathname), {}); else if ("string" === i) for (n in o = new p(e, {}), 
            u) delete o[n]; else if ("object" === i) {
                for (n in e) n in u || (o[n] = e[n]);
                void 0 === o.slashes && (o.slashes = a.test(e.href));
            }
            return o;
        }
        function l(e) {
            var t = i.exec(e);
            return {
                protocol: t[1] ? t[1].toLowerCase() : "",
                slashes: !!t[2],
                rest: t[3]
            };
        }
        function h(e, t) {
            for (var n = (t || "/").split("/").slice(0, -1).concat(e.split("/")), r = n.length, o = n[r - 1], i = !1, a = 0; r--; ) "." === n[r] ? n.splice(r, 1) : ".." === n[r] ? (n.splice(r, 1), 
            a++) : a && (0 === r && (i = !0), n.splice(r, 1), a--);
            return i && n.unshift(""), "." !== o && ".." !== o || n.push(""), n.join("/");
        }
        function p(e, t, n) {
            if (!(this instanceof p)) return new p(e, t, n);
            var i, a, u, d, f, v, m = s.slice(), y = typeof t, g = this, _ = 0;
            for ("object" !== y && "string" !== y && (n = t, t = null), n && "function" != typeof n && (n = o.parse), 
            t = c(t), i = !(a = l(e || "")).protocol && !a.slashes, g.slashes = a.slashes || i && t.slashes, 
            g.protocol = a.protocol || t.protocol || "", e = a.rest, a.slashes || (m[3] = [ /(.*)/, "pathname" ]); _ < m.length; _++) "function" != typeof (d = m[_]) ? (u = d[0], 
            v = d[1], u != u ? g[v] = e : "string" == typeof u ? ~(f = e.indexOf(u)) && ("number" == typeof d[2] ? (g[v] = e.slice(0, f), 
            e = e.slice(f + d[2])) : (g[v] = e.slice(f), e = e.slice(0, f))) : (f = u.exec(e)) && (g[v] = f[1], 
            e = e.slice(0, f.index)), g[v] = g[v] || i && d[3] && t[v] || "", d[4] && (g[v] = g[v].toLowerCase())) : e = d(e);
            n && (g.query = n(g.query)), i && t.slashes && "/" !== g.pathname.charAt(0) && ("" !== g.pathname || "" !== t.pathname) && (g.pathname = h(g.pathname, t.pathname)), 
            r(g.port, g.protocol) || (g.host = g.hostname, g.port = ""), g.username = g.password = "", 
            g.auth && (d = g.auth.split(":"), g.username = d[0] || "", g.password = d[1] || ""), 
            g.origin = g.protocol && g.host && "file:" !== g.protocol ? g.protocol + "//" + g.host : "null", 
            g.href = g.toString();
        }
        function d(e, t, n) {
            var i = this;
            switch (e) {
              case "query":
                "string" == typeof t && t.length && (t = (n || o.parse)(t)), i[e] = t;
                break;

              case "port":
                i[e] = t, r(t, i.protocol) ? t && (i.host = i.hostname + ":" + t) : (i.host = i.hostname, 
                i[e] = "");
                break;

              case "hostname":
                i[e] = t, i.port && (t += ":" + i.port), i.host = t;
                break;

              case "host":
                i[e] = t, /:\d+$/.test(t) ? (t = t.split(":"), i.port = t.pop(), i.hostname = t.join(":")) : (i.hostname = t, 
                i.port = "");
                break;

              case "protocol":
                i.protocol = t.toLowerCase(), i.slashes = !n;
                break;

              case "pathname":
              case "hash":
                if (t) {
                    var a = "pathname" === e ? "/" : "#";
                    i[e] = t.charAt(0) !== a ? a + t : t;
                } else i[e] = t;
                break;

              default:
                i[e] = t;
            }
            for (var u = 0; u < s.length; u++) {
                var c = s[u];
                c[4] && (i[c[1]] = i[c[1]].toLowerCase());
            }
            return i.origin = i.protocol && i.host && "file:" !== i.protocol ? i.protocol + "//" + i.host : "null", 
            i.href = i.toString(), i;
        }
        function f(e) {
            e && "function" == typeof e || (e = o.stringify);
            var t, n = this, r = n.protocol;
            r && ":" !== r.charAt(r.length - 1) && (r += ":");
            var i = r + (n.slashes ? "//" : "");
            return n.username && (i += n.username, n.password && (i += ":" + n.password), i += "@"), 
            i += n.host + n.pathname, (t = "object" == typeof n.query ? e(n.query) : n.query) && (i += "?" !== t.charAt(0) ? "?" + t : t), 
            n.hash && (i += n.hash), i;
        }
        p.prototype = {
            set: d,
            toString: f
        }, p.extractProtocol = l, p.location = c, p.qs = o, e.exports = p;
    }).call(this, n(27));
}, function(e, t, n) {
    "use strict";
    var r = n(172).default;
    n(177), (t = e.exports = r).default = t;
}, function(e, t, n) {
    "use strict";
    (t = e.exports = n(180).default).default = t;
}, function(e, t) {
    var n;
    n = function() {
        return this;
    }();
    try {
        n = n || Function("return this")() || (0, eval)("this");
    } catch (e) {
        "object" == typeof window && (n = window);
    }
    e.exports = n;
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i, a = n(33), s = n(12), u = n(3), c = n(0), l = function(e) {
        function t() {
            return null !== e && e.apply(this, arguments) || this;
        }
        return o(t, e), Object.defineProperty(t, "__EMPTY_NODE", {
            get: function() {
                return i;
            },
            set: function(e) {
                i = e;
            },
            enumerable: !0,
            configurable: !0
        }), t.prototype.compare = function(e, t) {
            return u.nameCompare(e.name, t.name);
        }, t.prototype.isDefinedOn = function(e) {
            throw c.assertionError("KeyIndex.isDefinedOn not expected to be called.");
        }, t.prototype.indexedValueChanged = function(e, t) {
            return !1;
        }, t.prototype.minPost = function() {
            return s.NamedNode.MIN;
        }, t.prototype.maxPost = function() {
            return new s.NamedNode(u.MAX_NAME, i);
        }, t.prototype.makePost = function(e, t) {
            return c.assert("string" == typeof e, "KeyIndex indexValue must always be a string."), 
            new s.NamedNode(e, i);
        }, t.prototype.toString = function() {
            return ".key";
        }, t;
    }(a.Index);
    t.KeyIndex = l, t.KEY_INDEX = new l();
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(11), o = n(34), i = n(12), a = n(0), s = n(0), u = n(62), c = n(63), l = n(61), h = n(8), p = !0;
    function d(e, t) {
        if (void 0 === t && (t = null), null === e) return r.ChildrenNode.EMPTY_NODE;
        if ("object" == typeof e && ".priority" in e && (t = e[".priority"]), s.assert(null === t || "string" == typeof t || "number" == typeof t || "object" == typeof t && ".sv" in t, "Invalid priority type found: " + typeof t), 
        "object" == typeof e && ".value" in e && null !== e[".value"] && (e = e[".value"]), 
        "object" != typeof e || ".sv" in e) {
            var n = e;
            return new o.LeafNode(n, d(t));
        }
        if (e instanceof Array || !p) {
            var f = r.ChildrenNode.EMPTY_NODE, v = e;
            return a.forEach(v, function(e, t) {
                if (a.contains(v, e) && "." !== e.substring(0, 1)) {
                    var n = d(t);
                    !n.isLeafNode() && n.isEmpty() || (f = f.updateImmediateChild(e, n));
                }
            }), f.updatePriority(d(t));
        }
        var m = [], y = !1, g = e;
        if (a.forEach(g, function(e, t) {
            if ("string" != typeof e || "." !== e.substring(0, 1)) {
                var n = d(g[e]);
                n.isEmpty() || (y = y || !n.getPriority().isEmpty(), m.push(new i.NamedNode(e, n)));
            }
        }), 0 == m.length) return r.ChildrenNode.EMPTY_NODE;
        var _ = u.buildChildSet(m, c.NAME_ONLY_COMPARATOR, function(e) {
            return e.name;
        }, c.NAME_COMPARATOR);
        if (y) {
            var b = u.buildChildSet(m, h.PRIORITY_INDEX.getCompare());
            return new r.ChildrenNode(_, d(t), new l.IndexMap({
                ".priority": b
            }, {
                ".priority": h.PRIORITY_INDEX
            }));
        }
        return new r.ChildrenNode(_, d(t), l.IndexMap.Default);
    }
    t.nodeFromJSON = d, h.setNodeFromJSON(d);
}, function(e, t, n) {
    "use strict";
    var r = function(e, t, n, r, o, i, a, s) {
        if (!e) {
            var u;
            if (void 0 === t) u = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else {
                var c = [ n, r, o, i, a, s ], l = 0;
                (u = new Error(t.replace(/%s/g, function() {
                    return c[l++];
                }))).name = "Invariant Violation";
            }
            throw u.framesToPop = 1, u;
        }
    };
    e.exports = r;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(127), o = n(128), i = function(e) {
        try {
            if ("undefined" != typeof window && void 0 !== window[e]) {
                var t = window[e];
                return t.setItem("firebase:sentinel", "cache"), t.removeItem("firebase:sentinel"), 
                new r.DOMStorageWrapper(t);
            }
        } catch (e) {}
        return new o.MemoryStorage();
    };
    t.PersistentStorage = i("localStorage"), t.SessionStorage = i("sessionStorage");
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.PROTOCOL_VERSION = "5", t.VERSION_PARAM = "v", t.TRANSPORT_SESSION_PARAM = "s", 
    t.REFERER_PARAM = "r", t.FORGE_REF = "f", t.FORGE_DOMAIN = "firebaseio.com", t.LAST_SESSION_PARAM = "ls", 
    t.WEBSOCKET = "websocket", t.LONG_POLLING = "long_polling";
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(12), o = n(3), i = function() {
        function e() {}
        return e.prototype.getCompare = function() {
            return this.compare.bind(this);
        }, e.prototype.indexedValueChanged = function(e, t) {
            var n = new r.NamedNode(o.MIN_NAME, e), i = new r.NamedNode(o.MIN_NAME, t);
            return 0 !== this.compare(n, i);
        }, e.prototype.minPost = function() {
            return r.NamedNode.MIN;
        }, e;
    }();
    t.Index = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(0), i = n(3), a = n(59), s = function() {
        function e(t, n) {
            void 0 === n && (n = e.__childrenNodeConstructor.EMPTY_NODE), this.value_ = t, this.priorityNode_ = n, 
            this.lazyHash_ = null, o.assert(void 0 !== this.value_ && null !== this.value_, "LeafNode shouldn't be created with null/undefined value."), 
            a.validatePriorityNode(this.priorityNode_);
        }
        return Object.defineProperty(e, "__childrenNodeConstructor", {
            get: function() {
                return r;
            },
            set: function(e) {
                r = e;
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.isLeafNode = function() {
            return !0;
        }, e.prototype.getPriority = function() {
            return this.priorityNode_;
        }, e.prototype.updatePriority = function(t) {
            return new e(this.value_, t);
        }, e.prototype.getImmediateChild = function(t) {
            return ".priority" === t ? this.priorityNode_ : e.__childrenNodeConstructor.EMPTY_NODE;
        }, e.prototype.getChild = function(t) {
            return t.isEmpty() ? this : ".priority" === t.getFront() ? this.priorityNode_ : e.__childrenNodeConstructor.EMPTY_NODE;
        }, e.prototype.hasChild = function() {
            return !1;
        }, e.prototype.getPredecessorChildName = function(e, t) {
            return null;
        }, e.prototype.updateImmediateChild = function(t, n) {
            return ".priority" === t ? this.updatePriority(n) : n.isEmpty() && ".priority" !== t ? this : e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t, n).updatePriority(this.priorityNode_);
        }, e.prototype.updateChild = function(t, n) {
            var r = t.getFront();
            return null === r ? n : n.isEmpty() && ".priority" !== r ? this : (o.assert(".priority" !== r || 1 === t.getLength(), ".priority must be the last token in a path"), 
            this.updateImmediateChild(r, e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(), n)));
        }, e.prototype.isEmpty = function() {
            return !1;
        }, e.prototype.numChildren = function() {
            return 0;
        }, e.prototype.forEachChild = function(e, t) {
            return !1;
        }, e.prototype.val = function(e) {
            return e && !this.getPriority().isEmpty() ? {
                ".value": this.getValue(),
                ".priority": this.getPriority().val()
            } : this.getValue();
        }, e.prototype.hash = function() {
            if (null === this.lazyHash_) {
                var e = "";
                this.priorityNode_.isEmpty() || (e += "priority:" + a.priorityHashText(this.priorityNode_.val()) + ":");
                var t = typeof this.value_;
                e += t + ":", e += "number" === t ? i.doubleToIEEE754String(this.value_) : this.value_, 
                this.lazyHash_ = i.sha1(e);
            }
            return this.lazyHash_;
        }, e.prototype.getValue = function() {
            return this.value_;
        }, e.prototype.compareTo = function(t) {
            return t === e.__childrenNodeConstructor.EMPTY_NODE ? 1 : t instanceof e.__childrenNodeConstructor ? -1 : (o.assert(t.isLeafNode(), "Unknown node type"), 
            this.compareToLeafNode_(t));
        }, e.prototype.compareToLeafNode_ = function(t) {
            var n = typeof t.value_, r = typeof this.value_, i = e.VALUE_TYPE_ORDER.indexOf(n), a = e.VALUE_TYPE_ORDER.indexOf(r);
            return o.assert(i >= 0, "Unknown leaf type: " + n), o.assert(a >= 0, "Unknown leaf type: " + r), 
            i === a ? "object" === r ? 0 : this.value_ < t.value_ ? -1 : this.value_ === t.value_ ? 0 : 1 : a - i;
        }, e.prototype.withIndex = function() {
            return this;
        }, e.prototype.isIndexed = function() {
            return !0;
        }, e.prototype.equals = function(e) {
            if (e === this) return !0;
            if (e.isLeafNode()) {
                var t = e;
                return this.value_ === t.value_ && this.priorityNode_.equals(t.priorityNode_);
            }
            return !1;
        }, e.VALUE_TYPE_ORDER = [ "object", "boolean", "number", "string" ], e;
    }();
    t.LeafNode = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function() {
        function e(e, t, n, r, o) {
            void 0 === o && (o = null), this.isReverse_ = r, this.resultGenerator_ = o, this.nodeStack_ = [];
            for (var i = 1; !e.isEmpty(); ) if (e = e, i = t ? n(e.key, t) : 1, r && (i *= -1), 
            i < 0) e = this.isReverse_ ? e.left : e.right; else {
                if (0 === i) {
                    this.nodeStack_.push(e);
                    break;
                }
                this.nodeStack_.push(e), e = this.isReverse_ ? e.right : e.left;
            }
        }
        return e.prototype.getNext = function() {
            if (0 === this.nodeStack_.length) return null;
            var e, t = this.nodeStack_.pop();
            if (e = this.resultGenerator_ ? this.resultGenerator_(t.key, t.value) : {
                key: t.key,
                value: t.value
            }, this.isReverse_) for (t = t.left; !t.isEmpty(); ) this.nodeStack_.push(t), t = t.right; else for (t = t.right; !t.isEmpty(); ) this.nodeStack_.push(t), 
            t = t.left;
            return e;
        }, e.prototype.hasNext = function() {
            return this.nodeStack_.length > 0;
        }, e.prototype.peek = function() {
            if (0 === this.nodeStack_.length) return null;
            var e = this.nodeStack_[this.nodeStack_.length - 1];
            return this.resultGenerator_ ? this.resultGenerator_(e.key, e.value) : {
                key: e.key,
                value: e.value
            };
        }, e;
    }();
    t.SortedMapIterator = r;
    var o = function() {
        function e(t, n, r, o, i) {
            this.key = t, this.value = n, this.color = null != r ? r : e.RED, this.left = null != o ? o : a.EMPTY_NODE, 
            this.right = null != i ? i : a.EMPTY_NODE;
        }
        return e.prototype.copy = function(t, n, r, o, i) {
            return new e(null != t ? t : this.key, null != n ? n : this.value, null != r ? r : this.color, null != o ? o : this.left, null != i ? i : this.right);
        }, e.prototype.count = function() {
            return this.left.count() + 1 + this.right.count();
        }, e.prototype.isEmpty = function() {
            return !1;
        }, e.prototype.inorderTraversal = function(e) {
            return this.left.inorderTraversal(e) || e(this.key, this.value) || this.right.inorderTraversal(e);
        }, e.prototype.reverseTraversal = function(e) {
            return this.right.reverseTraversal(e) || e(this.key, this.value) || this.left.reverseTraversal(e);
        }, e.prototype.min_ = function() {
            return this.left.isEmpty() ? this : this.left.min_();
        }, e.prototype.minKey = function() {
            return this.min_().key;
        }, e.prototype.maxKey = function() {
            return this.right.isEmpty() ? this.key : this.right.maxKey();
        }, e.prototype.insert = function(e, t, n) {
            var r, o;
            return (o = (r = n(e, (o = this).key)) < 0 ? o.copy(null, null, null, o.left.insert(e, t, n), null) : 0 === r ? o.copy(null, t, null, null, null) : o.copy(null, null, null, null, o.right.insert(e, t, n))).fixUp_();
        }, e.prototype.removeMin_ = function() {
            if (this.left.isEmpty()) return a.EMPTY_NODE;
            var e = this;
            return e.left.isRed_() || e.left.left.isRed_() || (e = e.moveRedLeft_()), (e = e.copy(null, null, null, e.left.removeMin_(), null)).fixUp_();
        }, e.prototype.remove = function(e, t) {
            var n, r;
            if (t(e, (n = this).key) < 0) n.left.isEmpty() || n.left.isRed_() || n.left.left.isRed_() || (n = n.moveRedLeft_()), 
            n = n.copy(null, null, null, n.left.remove(e, t), null); else {
                if (n.left.isRed_() && (n = n.rotateRight_()), n.right.isEmpty() || n.right.isRed_() || n.right.left.isRed_() || (n = n.moveRedRight_()), 
                0 === t(e, n.key)) {
                    if (n.right.isEmpty()) return a.EMPTY_NODE;
                    r = n.right.min_(), n = n.copy(r.key, r.value, null, null, n.right.removeMin_());
                }
                n = n.copy(null, null, null, null, n.right.remove(e, t));
            }
            return n.fixUp_();
        }, e.prototype.isRed_ = function() {
            return this.color;
        }, e.prototype.fixUp_ = function() {
            var e = this;
            return e.right.isRed_() && !e.left.isRed_() && (e = e.rotateLeft_()), e.left.isRed_() && e.left.left.isRed_() && (e = e.rotateRight_()), 
            e.left.isRed_() && e.right.isRed_() && (e = e.colorFlip_()), e;
        }, e.prototype.moveRedLeft_ = function() {
            var e = this.colorFlip_();
            return e.right.left.isRed_() && (e = (e = (e = e.copy(null, null, null, null, e.right.rotateRight_())).rotateLeft_()).colorFlip_()), 
            e;
        }, e.prototype.moveRedRight_ = function() {
            var e = this.colorFlip_();
            return e.left.left.isRed_() && (e = (e = e.rotateRight_()).colorFlip_()), e;
        }, e.prototype.rotateLeft_ = function() {
            var t = this.copy(null, null, e.RED, null, this.right.left);
            return this.right.copy(null, null, this.color, t, null);
        }, e.prototype.rotateRight_ = function() {
            var t = this.copy(null, null, e.RED, this.left.right, null);
            return this.left.copy(null, null, this.color, null, t);
        }, e.prototype.colorFlip_ = function() {
            var e = this.left.copy(null, null, !this.left.color, null, null), t = this.right.copy(null, null, !this.right.color, null, null);
            return this.copy(null, null, !this.color, e, t);
        }, e.prototype.checkMaxDepth_ = function() {
            var e = this.check_();
            return Math.pow(2, e) <= this.count() + 1;
        }, e.prototype.check_ = function() {
            var e;
            if (this.isRed_() && this.left.isRed_()) throw new Error("Red node has red child(" + this.key + "," + this.value + ")");
            if (this.right.isRed_()) throw new Error("Right child of (" + this.key + "," + this.value + ") is red");
            if ((e = this.left.check_()) !== this.right.check_()) throw new Error("Black depths differ");
            return e + (this.isRed_() ? 0 : 1);
        }, e.RED = !0, e.BLACK = !1, e;
    }();
    t.LLRBNode = o;
    var i = function() {
        function e() {}
        return e.prototype.copy = function(e, t, n, r, o) {
            return this;
        }, e.prototype.insert = function(e, t, n) {
            return new o(e, t, null);
        }, e.prototype.remove = function(e, t) {
            return this;
        }, e.prototype.count = function() {
            return 0;
        }, e.prototype.isEmpty = function() {
            return !0;
        }, e.prototype.inorderTraversal = function(e) {
            return !1;
        }, e.prototype.reverseTraversal = function(e) {
            return !1;
        }, e.prototype.minKey = function() {
            return null;
        }, e.prototype.maxKey = function() {
            return null;
        }, e.prototype.check_ = function() {
            return 0;
        }, e.prototype.isRed_ = function() {
            return !1;
        }, e;
    }();
    t.LLRBEmptyNode = i;
    var a = function() {
        function e(t, n) {
            void 0 === n && (n = e.EMPTY_NODE), this.comparator_ = t, this.root_ = n;
        }
        return e.prototype.insert = function(t, n) {
            return new e(this.comparator_, this.root_.insert(t, n, this.comparator_).copy(null, null, o.BLACK, null, null));
        }, e.prototype.remove = function(t) {
            return new e(this.comparator_, this.root_.remove(t, this.comparator_).copy(null, null, o.BLACK, null, null));
        }, e.prototype.get = function(e) {
            for (var t, n = this.root_; !n.isEmpty(); ) {
                if (0 === (t = this.comparator_(e, n.key))) return n.value;
                t < 0 ? n = n.left : t > 0 && (n = n.right);
            }
            return null;
        }, e.prototype.getPredecessorKey = function(e) {
            for (var t, n = this.root_, r = null; !n.isEmpty(); ) {
                if (0 === (t = this.comparator_(e, n.key))) {
                    if (n.left.isEmpty()) return r ? r.key : null;
                    for (n = n.left; !n.right.isEmpty(); ) n = n.right;
                    return n.key;
                }
                t < 0 ? n = n.left : t > 0 && (r = n, n = n.right);
            }
            throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?");
        }, e.prototype.isEmpty = function() {
            return this.root_.isEmpty();
        }, e.prototype.count = function() {
            return this.root_.count();
        }, e.prototype.minKey = function() {
            return this.root_.minKey();
        }, e.prototype.maxKey = function() {
            return this.root_.maxKey();
        }, e.prototype.inorderTraversal = function(e) {
            return this.root_.inorderTraversal(e);
        }, e.prototype.reverseTraversal = function(e) {
            return this.root_.reverseTraversal(e);
        }, e.prototype.getIterator = function(e) {
            return new r(this.root_, null, this.comparator_, !1, e);
        }, e.prototype.getIteratorFrom = function(e, t) {
            return new r(this.root_, e, this.comparator_, !1, t);
        }, e.prototype.getReverseIteratorFrom = function(e, t) {
            return new r(this.root_, e, this.comparator_, !0, t);
        }, e.prototype.getReverseIterator = function(e) {
            return new r(this.root_, null, this.comparator_, !0, e);
        }, e.EMPTY_NODE = new i(), e;
    }();
    t.SortedMap = a;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(65), o = n(29), i = n(5), a = n(66), s = n(133), u = n(144), c = n(0), l = n(3), h = n(0), p = n(145), d = n(45), f = n(147), v = n(71), m = n(148), y = n(72), g = n(153), _ = n(54), b = "repo_interrupt", w = function() {
        function e(e, t, n) {
            var r = this;
            this.repoInfo_ = e, this.app = n, this.dataUpdateCount = 0, this.statsListener_ = null, 
            this.eventQueue_ = new m.EventQueue(), this.nextWriteId_ = 1, this.interceptServerDataCallback_ = null, 
            this.onDisconnect_ = new a.SparseSnapshotTree(), this.persistentConnection_ = null;
            var o = new p.AuthTokenProvider(n);
            if (this.stats_ = d.StatsManager.getCollection(e), t || l.beingCrawled()) this.server_ = new g.ReadonlyRestClient(this.repoInfo_, this.onDataUpdate_.bind(this), o), 
            setTimeout(this.onConnectStatus_.bind(this, !0), 0); else {
                var i = n.options.databaseAuthVariableOverride;
                if (void 0 !== i && null !== i) {
                    if ("object" != typeof i) throw new Error("Only objects are supported for option databaseAuthVariableOverride");
                    try {
                        c.stringify(i);
                    } catch (e) {
                        throw new Error("Invalid authOverride provided: " + e);
                    }
                }
                this.persistentConnection_ = new y.PersistentConnection(this.repoInfo_, this.onDataUpdate_.bind(this), this.onConnectStatus_.bind(this), this.onServerInfoUpdate_.bind(this), o, i), 
                this.server_ = this.persistentConnection_;
            }
            o.addTokenChangeListener(function(e) {
                r.server_.refreshAuthToken(e);
            }), this.statsReporter_ = d.StatsManager.getOrCreateReporter(e, function() {
                return new f.StatsReporter(r.stats_, r.server_);
            }), this.transactions_init_(), this.infoData_ = new u.SnapshotHolder(), this.infoSyncTree_ = new s.SyncTree({
                startListening: function(e, t, n, o) {
                    var i = [], a = r.infoData_.getNode(e.path);
                    return a.isEmpty() || (i = r.infoSyncTree_.applyServerOverwrite(e.path, a), setTimeout(function() {
                        o("ok");
                    }, 0)), i;
                },
                stopListening: function() {}
            }), this.updateInfo_("connected", !1), this.serverSyncTree_ = new s.SyncTree({
                startListening: function(e, t, n, o) {
                    return r.server_.listen(e, n, t, function(t, n) {
                        var i = o(t, n);
                        r.eventQueue_.raiseEventsForChangedPath(e.path, i);
                    }), [];
                },
                stopListening: function(e, t) {
                    r.server_.unlisten(e, t);
                }
            });
        }
        return e.prototype.toString = function() {
            return (this.repoInfo_.secure ? "https://" : "http://") + this.repoInfo_.host;
        }, e.prototype.name = function() {
            return this.repoInfo_.namespace;
        }, e.prototype.serverTime = function() {
            var e = this.infoData_.getNode(new i.Path(".info/serverTimeOffset")).val() || 0;
            return new Date().getTime() + e;
        }, e.prototype.generateServerValues = function() {
            return r.generateWithValues({
                timestamp: this.serverTime()
            });
        }, e.prototype.onDataUpdate_ = function(e, t, n, r) {
            this.dataUpdateCount++;
            var a = new i.Path(e);
            t = this.interceptServerDataCallback_ ? this.interceptServerDataCallback_(e, t) : t;
            var s = [];
            if (r) if (n) {
                var u = h.map(t, function(e) {
                    return o.nodeFromJSON(e);
                });
                s = this.serverSyncTree_.applyTaggedQueryMerge(a, u, r);
            } else {
                var c = o.nodeFromJSON(t);
                s = this.serverSyncTree_.applyTaggedQueryOverwrite(a, c, r);
            } else if (n) {
                var l = h.map(t, function(e) {
                    return o.nodeFromJSON(e);
                });
                s = this.serverSyncTree_.applyServerMerge(a, l);
            } else {
                var p = o.nodeFromJSON(t);
                s = this.serverSyncTree_.applyServerOverwrite(a, p);
            }
            var d = a;
            s.length > 0 && (d = this.rerunTransactions_(a)), this.eventQueue_.raiseEventsForChangedPath(d, s);
        }, e.prototype.interceptServerData_ = function(e) {
            this.interceptServerDataCallback_ = e;
        }, e.prototype.onConnectStatus_ = function(e) {
            this.updateInfo_("connected", e), !1 === e && this.runOnDisconnectEvents_();
        }, e.prototype.onServerInfoUpdate_ = function(e) {
            var t = this;
            l.each(e, function(e, n) {
                t.updateInfo_(n, e);
            });
        }, e.prototype.updateInfo_ = function(e, t) {
            var n = new i.Path("/.info/" + e), r = o.nodeFromJSON(t);
            this.infoData_.updateSnapshot(n, r);
            var a = this.infoSyncTree_.applyServerOverwrite(n, r);
            this.eventQueue_.raiseEventsForChangedPath(n, a);
        }, e.prototype.getNextWriteId_ = function() {
            return this.nextWriteId_++;
        }, e.prototype.setWithPriority = function(e, t, n, i) {
            var a = this;
            this.log_("set", {
                path: e.toString(),
                value: t,
                priority: n
            });
            var s = this.generateServerValues(), u = o.nodeFromJSON(t, n), c = r.resolveDeferredValueSnapshot(u, s), h = this.getNextWriteId_(), p = this.serverSyncTree_.applyUserOverwrite(e, c, h, !0);
            this.eventQueue_.queueEvents(p), this.server_.put(e.toString(), u.val(!0), function(t, n) {
                var r = "ok" === t;
                r || l.warn("set at " + e + " failed: " + t);
                var o = a.serverSyncTree_.ackUserWrite(h, !r);
                a.eventQueue_.raiseEventsForChangedPath(e, o), a.callOnCompleteCallback(i, t, n);
            });
            var d = this.abortTransactions_(e);
            this.rerunTransactions_(d), this.eventQueue_.raiseEventsForChangedPath(d, []);
        }, e.prototype.update = function(e, t, n) {
            var i = this;
            this.log_("update", {
                path: e.toString(),
                value: t
            });
            var a = !0, s = this.generateServerValues(), u = {};
            if (h.forEach(t, function(e, t) {
                a = !1;
                var n = o.nodeFromJSON(t);
                u[e] = r.resolveDeferredValueSnapshot(n, s);
            }), a) l.log("update() called with empty data.  Don't do anything."), this.callOnCompleteCallback(n, "ok"); else {
                var c = this.getNextWriteId_(), p = this.serverSyncTree_.applyUserMerge(e, u, c);
                this.eventQueue_.queueEvents(p), this.server_.merge(e.toString(), t, function(t, r) {
                    var o = "ok" === t;
                    o || l.warn("update at " + e + " failed: " + t);
                    var a = i.serverSyncTree_.ackUserWrite(c, !o), s = a.length > 0 ? i.rerunTransactions_(e) : e;
                    i.eventQueue_.raiseEventsForChangedPath(s, a), i.callOnCompleteCallback(n, t, r);
                }), h.forEach(t, function(t) {
                    var n = i.abortTransactions_(e.child(t));
                    i.rerunTransactions_(n);
                }), this.eventQueue_.raiseEventsForChangedPath(e, []);
            }
        }, e.prototype.runOnDisconnectEvents_ = function() {
            var e = this;
            this.log_("onDisconnectEvents");
            var t = this.generateServerValues(), n = [];
            r.resolveDeferredValueTree(this.onDisconnect_, t).forEachTree(i.Path.Empty, function(t, r) {
                n = n.concat(e.serverSyncTree_.applyServerOverwrite(t, r));
                var o = e.abortTransactions_(t);
                e.rerunTransactions_(o);
            }), this.onDisconnect_ = new a.SparseSnapshotTree(), this.eventQueue_.raiseEventsForChangedPath(i.Path.Empty, n);
        }, e.prototype.onDisconnectCancel = function(e, t) {
            var n = this;
            this.server_.onDisconnectCancel(e.toString(), function(r, o) {
                "ok" === r && n.onDisconnect_.forget(e), n.callOnCompleteCallback(t, r, o);
            });
        }, e.prototype.onDisconnectSet = function(e, t, n) {
            var r = this, i = o.nodeFromJSON(t);
            this.server_.onDisconnectPut(e.toString(), i.val(!0), function(t, o) {
                "ok" === t && r.onDisconnect_.remember(e, i), r.callOnCompleteCallback(n, t, o);
            });
        }, e.prototype.onDisconnectSetWithPriority = function(e, t, n, r) {
            var i = this, a = o.nodeFromJSON(t, n);
            this.server_.onDisconnectPut(e.toString(), a.val(!0), function(t, n) {
                "ok" === t && i.onDisconnect_.remember(e, a), i.callOnCompleteCallback(r, t, n);
            });
        }, e.prototype.onDisconnectUpdate = function(e, t, n) {
            var r = this;
            if (h.isEmpty(t)) return l.log("onDisconnect().update() called with empty data.  Don't do anything."), 
            void this.callOnCompleteCallback(n, "ok");
            this.server_.onDisconnectMerge(e.toString(), t, function(i, a) {
                "ok" === i && h.forEach(t, function(t, n) {
                    var i = o.nodeFromJSON(n);
                    r.onDisconnect_.remember(e.child(t), i);
                }), r.callOnCompleteCallback(n, i, a);
            });
        }, e.prototype.addEventCallbackForQuery = function(e, t) {
            var n;
            n = ".info" === e.path.getFront() ? this.infoSyncTree_.addEventRegistration(e, t) : this.serverSyncTree_.addEventRegistration(e, t), 
            this.eventQueue_.raiseEventsAtPath(e.path, n);
        }, e.prototype.removeEventCallbackForQuery = function(e, t) {
            var n;
            n = ".info" === e.path.getFront() ? this.infoSyncTree_.removeEventRegistration(e, t) : this.serverSyncTree_.removeEventRegistration(e, t), 
            this.eventQueue_.raiseEventsAtPath(e.path, n);
        }, e.prototype.interrupt = function() {
            this.persistentConnection_ && this.persistentConnection_.interrupt(b);
        }, e.prototype.resume = function() {
            this.persistentConnection_ && this.persistentConnection_.resume(b);
        }, e.prototype.stats = function(e) {
            if (void 0 === e && (e = !1), "undefined" != typeof console) {
                var t;
                e ? (this.statsListener_ || (this.statsListener_ = new v.StatsListener(this.stats_)), 
                t = this.statsListener_.get()) : t = this.stats_.get();
                var n = Object.keys(t).reduce(function(e, t) {
                    return Math.max(t.length, e);
                }, 0);
                h.forEach(t, function(e, t) {
                    for (var r = e.length; r < n + 2; r++) e += " ";
                });
            }
        }, e.prototype.statsIncrementCounter = function(e) {
            this.stats_.incrementCounter(e), this.statsReporter_.includeStat(e);
        }, e.prototype.log_ = function() {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            var n = "";
            this.persistentConnection_ && (n = this.persistentConnection_.id + ":"), l.log.apply(void 0, [ n ].concat(e));
        }, e.prototype.callOnCompleteCallback = function(e, t, n) {
            e && l.exceptionGuard(function() {
                if ("ok" == t) e(null); else {
                    var r = (t || "error").toUpperCase(), o = r;
                    n && (o += ": " + n);
                    var i = new Error(o);
                    i.code = r, e(i);
                }
            });
        }, Object.defineProperty(e.prototype, "database", {
            get: function() {
                return this.__database || (this.__database = new _.Database(this));
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }();
    t.Repo = w;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function() {
        function e(e, t, n) {
            this.node_ = e, this.fullyInitialized_ = t, this.filtered_ = n;
        }
        return e.prototype.isFullyInitialized = function() {
            return this.fullyInitialized_;
        }, e.prototype.isFiltered = function() {
            return this.filtered_;
        }, e.prototype.isCompleteForPath = function(e) {
            if (e.isEmpty()) return this.isFullyInitialized() && !this.filtered_;
            var t = e.getFront();
            return this.isCompleteForChild(t);
        }, e.prototype.isCompleteForChild = function(e) {
            return this.isFullyInitialized() && !this.filtered_ || this.node_.hasChild(e);
        }, e.prototype.getNode = function() {
            return this.node_;
        }, e;
    }();
    t.CacheNode = r;
}, function(e, t) {
    var n = {
        getS: function() {
            return "hfdu9b89';JHK7898hbh;';[/";
        },
        hashEmail: function(e) {
            e = (e = e.toLowerCase()).trim();
            try {
                var t = n.getS(), r = e.split("@"), o = r[0].replace("%", ""), i = r[1];
                return o += t, n.hash(o) + "@" + i;
            } catch (e) {
                PRODUCTION;
            }
        },
        hashAuthCode: function(e) {
            e = (e = e.toUpperCase()).trim();
            try {
                var t = e += n.getS();
                return n.hash(t);
            } catch (e) {
                PRODUCTION;
            }
        },
        hashDomain: function(e) {
            e = (e = e.toLowerCase()).trim();
            try {
                var t = e += n.getS();
                return n.hash(t);
            } catch (e) {
                PRODUCTION;
            }
        },
        hash: function(e) {
            e = unescape(encodeURIComponent(e));
            for (var t = [ 1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298 ], r = [ 1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225 ], o = (e += String.fromCharCode(128)).length / 4 + 2, i = Math.ceil(o / 16), a = new Array(i), s = 0; i > s; s++) {
                a[s] = new Array(16);
                for (var u = 0; 16 > u; u++) a[s][u] = e.charCodeAt(64 * s + 4 * u) << 24 | e.charCodeAt(64 * s + 4 * u + 1) << 16 | e.charCodeAt(64 * s + 4 * u + 2) << 8 | e.charCodeAt(64 * s + 4 * u + 3);
            }
            a[i - 1][14] = 8 * (e.length - 1) / Math.pow(2, 32), a[i - 1][14] = Math.floor(a[i - 1][14]), 
            a[i - 1][15] = 8 * (e.length - 1) & 4294967295;
            var c, l, h, p, d, f, v, m, y = new Array(64);
            for (s = 0; i > s; s++) {
                for (var g = 0; 16 > g; g++) y[g] = a[s][g];
                for (g = 16; 64 > g; g++) y[g] = n.o1(y[g - 2]) + y[g - 7] + n.o0(y[g - 15]) + y[g - 16] & 4294967295;
                c = r[0], l = r[1], h = r[2], p = r[3], d = r[4], f = r[5], v = r[6], m = r[7];
                for (g = 0; 64 > g; g++) {
                    var _ = m + n.e1(d) + n.Ch(d, f, v) + t[g] + y[g], b = n.e0(c) + n.Maj(c, l, h);
                    m = v, v = f, f = d, d = p + _ & 4294967295, p = h, h = l, l = c, c = _ + b & 4294967295;
                }
                r[0] = r[0] + c & 4294967295, r[1] = r[1] + l & 4294967295, r[2] = r[2] + h & 4294967295, 
                r[3] = r[3] + p & 4294967295, r[4] = r[4] + d & 4294967295, r[5] = r[5] + f & 4294967295, 
                r[6] = r[6] + v & 4294967295, r[7] = r[7] + m & 4294967295;
            }
            return n.toHexStr(r[0]) + n.toHexStr(r[1]) + n.toHexStr(r[2]) + n.toHexStr(r[3]) + n.toHexStr(r[4]) + n.toHexStr(r[5]) + n.toHexStr(r[6]) + n.toHexStr(r[7]);
        },
        ROTR: function(e, t) {
            return t >>> e | t << 32 - e;
        },
        e0: function(e) {
            return n.ROTR(2, e) ^ n.ROTR(13, e) ^ n.ROTR(22, e);
        },
        e1: function(e) {
            return n.ROTR(6, e) ^ n.ROTR(11, e) ^ n.ROTR(25, e);
        },
        o0: function(e) {
            return n.ROTR(7, e) ^ n.ROTR(18, e) ^ e >>> 3;
        },
        o1: function(e) {
            return n.ROTR(17, e) ^ n.ROTR(19, e) ^ e >>> 10;
        },
        Ch: function(e, t, n) {
            return e & t ^ ~e & n;
        },
        Maj: function(e, t, n) {
            return e & t ^ e & n ^ t & n;
        },
        toHexStr: function(e) {
            for (var t = "", n = 7; n >= 0; n--) t += (e >>> 4 * n & 15).toString(16);
            return t;
        }
    };
    e.exports = n;
}, function(e, t) {
    var n, r, o = e.exports = {};
    function i() {
        throw new Error("setTimeout has not been defined");
    }
    function a() {
        throw new Error("clearTimeout has not been defined");
    }
    function s(e) {
        if (n === setTimeout) return setTimeout(e, 0);
        if ((n === i || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
        try {
            return n(e, 0);
        } catch (t) {
            try {
                return n.call(null, e, 0);
            } catch (t) {
                return n.call(this, e, 0);
            }
        }
    }
    function u(e) {
        if (r === clearTimeout) return clearTimeout(e);
        if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);
        try {
            return r(e);
        } catch (t) {
            try {
                return r.call(null, e);
            } catch (t) {
                return r.call(this, e);
            }
        }
    }
    !function() {
        try {
            n = "function" == typeof setTimeout ? setTimeout : i;
        } catch (e) {
            n = i;
        }
        try {
            r = "function" == typeof clearTimeout ? clearTimeout : a;
        } catch (e) {
            r = a;
        }
    }();
    var c, l = [], h = !1, p = -1;
    function d() {
        h && c && (h = !1, c.length ? l = c.concat(l) : p = -1, l.length && f());
    }
    function f() {
        if (!h) {
            var e = s(d);
            h = !0;
            for (var t = l.length; t; ) {
                for (c = l, l = []; ++p < t; ) c && c[p].run();
                p = -1, t = l.length;
            }
            c = null, h = !1, u(e);
        }
    }
    function v(e, t) {
        this.fun = e, this.array = t;
    }
    function m() {}
    o.nextTick = function(e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        l.push(new v(e, t)), 1 !== l.length || h || s(f);
    }, v.prototype.run = function() {
        this.fun.apply(null, this.array);
    }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", 
    o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, 
    o.removeAllListeners = m, o.emit = m, o.prependListener = m, o.prependOnceListener = m, 
    o.listeners = function(e) {
        return [];
    }, o.binding = function(e) {
        throw new Error("process.binding is not supported");
    }, o.cwd = function() {
        return "/";
    }, o.chdir = function(e) {
        throw new Error("process.chdir is not supported");
    }, o.umask = function() {
        return 0;
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.CONSTANTS = {
        NODE_CLIENT: !1,
        NODE_ADMIN: !1,
        SDK_VERSION: "${JSCORE_VERSION}"
    };
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(57), a = n(129), s = n(3), u = n(130), c = n(58), l = n(36), h = n(5), p = n(154), d = n(19), f = n(0), v = n(0), m = n(69), y = function(e) {
        function t(t, n) {
            if (!(t instanceof l.Repo)) throw new Error("new Reference() no longer supported - use app.database().");
            return e.call(this, t, n, p.QueryParams.DEFAULT, !1) || this;
        }
        return o(t, e), t.prototype.getKey = function() {
            return f.validateArgCount("Reference.key", 0, 0, arguments.length), this.path.isEmpty() ? null : this.path.getBack();
        }, t.prototype.child = function(e) {
            return f.validateArgCount("Reference.child", 1, 1, arguments.length), "number" == typeof e ? e = String(e) : e instanceof h.Path || (null === this.path.getFront() ? d.validateRootPathString("Reference.child", 1, e, !1) : d.validatePathString("Reference.child", 1, e, !1)), 
            new t(this.repo, this.path.child(e));
        }, t.prototype.getParent = function() {
            f.validateArgCount("Reference.parent", 0, 0, arguments.length);
            var e = this.path.parent();
            return null === e ? null : new t(this.repo, e);
        }, t.prototype.getRoot = function() {
            f.validateArgCount("Reference.root", 0, 0, arguments.length);
            for (var e = this; null !== e.getParent(); ) e = e.getParent();
            return e;
        }, t.prototype.databaseProp = function() {
            return this.repo.database;
        }, t.prototype.set = function(e, t) {
            f.validateArgCount("Reference.set", 1, 2, arguments.length), d.validateWritablePath("Reference.set", this.path), 
            d.validateFirebaseDataArg("Reference.set", 1, e, this.path, !1), f.validateCallback("Reference.set", 2, t, !0);
            var n = new v.Deferred();
            return this.repo.setWithPriority(this.path, e, null, n.wrapCallback(t)), n.promise;
        }, t.prototype.update = function(e, t) {
            if (f.validateArgCount("Reference.update", 1, 2, arguments.length), d.validateWritablePath("Reference.update", this.path), 
            Array.isArray(e)) {
                for (var n = {}, r = 0; r < e.length; ++r) n["" + r] = e[r];
                e = n, s.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.");
            }
            d.validateFirebaseMergeDataArg("Reference.update", 1, e, this.path, !1), f.validateCallback("Reference.update", 2, t, !0);
            var o = new v.Deferred();
            return this.repo.update(this.path, e, o.wrapCallback(t)), o.promise;
        }, t.prototype.setWithPriority = function(e, t, n) {
            if (f.validateArgCount("Reference.setWithPriority", 2, 3, arguments.length), d.validateWritablePath("Reference.setWithPriority", this.path), 
            d.validateFirebaseDataArg("Reference.setWithPriority", 1, e, this.path, !1), d.validatePriority("Reference.setWithPriority", 2, t, !1), 
            f.validateCallback("Reference.setWithPriority", 3, n, !0), ".length" === this.getKey() || ".keys" === this.getKey()) throw "Reference.setWithPriority failed: " + this.getKey() + " is a read-only object.";
            var r = new v.Deferred();
            return this.repo.setWithPriority(this.path, e, t, r.wrapCallback(n)), r.promise;
        }, t.prototype.remove = function(e) {
            return f.validateArgCount("Reference.remove", 0, 1, arguments.length), d.validateWritablePath("Reference.remove", this.path), 
            f.validateCallback("Reference.remove", 1, e, !0), this.set(null, e);
        }, t.prototype.transaction = function(e, t, n) {
            if (f.validateArgCount("Reference.transaction", 1, 3, arguments.length), d.validateWritablePath("Reference.transaction", this.path), 
            f.validateCallback("Reference.transaction", 1, e, !1), f.validateCallback("Reference.transaction", 2, t, !0), 
            d.validateBoolean("Reference.transaction", 3, n, !0), ".length" === this.getKey() || ".keys" === this.getKey()) throw "Reference.transaction failed: " + this.getKey() + " is a read-only object.";
            void 0 === n && (n = !0);
            var r = new v.Deferred();
            "function" == typeof t && r.promise.catch(function() {});
            var o = function(e, n, o) {
                e ? r.reject(e) : r.resolve(new a.TransactionResult(n, o)), "function" == typeof t && t(e, n, o);
            };
            return this.repo.startTransaction(this.path, e, o, n), r.promise;
        }, t.prototype.setPriority = function(e, t) {
            f.validateArgCount("Reference.setPriority", 1, 2, arguments.length), d.validateWritablePath("Reference.setPriority", this.path), 
            d.validatePriority("Reference.setPriority", 1, e, !1), f.validateCallback("Reference.setPriority", 2, t, !0);
            var n = new v.Deferred();
            return this.repo.setWithPriority(this.path.child(".priority"), e, null, n.wrapCallback(t)), 
            n.promise;
        }, t.prototype.push = function(e, t) {
            f.validateArgCount("Reference.push", 0, 2, arguments.length), d.validateWritablePath("Reference.push", this.path), 
            d.validateFirebaseDataArg("Reference.push", 1, e, this.path, !0), f.validateCallback("Reference.push", 2, t, !0);
            var n, r = this.repo.serverTime(), o = u.nextPushId(r), i = this.child(o), a = this.child(o);
            return n = null != e ? i.set(e, t).then(function() {
                return a;
            }) : Promise.resolve(a), i.then = n.then.bind(n), i.catch = n.then.bind(n, void 0), 
            "function" == typeof t && n.catch(function() {}), i;
        }, t.prototype.onDisconnect = function() {
            return d.validateWritablePath("Reference.onDisconnect", this.path), new i.OnDisconnect(this.repo, this.path);
        }, Object.defineProperty(t.prototype, "database", {
            get: function() {
                return this.databaseProp();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "key", {
            get: function() {
                return this.getKey();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "parent", {
            get: function() {
                return this.getParent();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "root", {
            get: function() {
                return this.getRoot();
            },
            enumerable: !0,
            configurable: !0
        }), t;
    }(c.Query);
    t.Reference = y, c.Query.__referenceConstructor = y, m.SyncPoint.__referenceConstructor = y;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(19), i = n(5), a = n(8), s = function() {
        function e(e, t, n) {
            this.node_ = e, this.ref_ = t, this.index_ = n;
        }
        return e.prototype.val = function() {
            return r.validateArgCount("DataSnapshot.val", 0, 0, arguments.length), this.node_.val();
        }, e.prototype.exportVal = function() {
            return r.validateArgCount("DataSnapshot.exportVal", 0, 0, arguments.length), this.node_.val(!0);
        }, e.prototype.toJSON = function() {
            return r.validateArgCount("DataSnapshot.toJSON", 0, 1, arguments.length), this.exportVal();
        }, e.prototype.exists = function() {
            return r.validateArgCount("DataSnapshot.exists", 0, 0, arguments.length), !this.node_.isEmpty();
        }, e.prototype.child = function(t) {
            r.validateArgCount("DataSnapshot.child", 0, 1, arguments.length), t = String(t), 
            o.validatePathString("DataSnapshot.child", 1, t, !1);
            var n = new i.Path(t), s = this.ref_.child(n);
            return new e(this.node_.getChild(n), s, a.PRIORITY_INDEX);
        }, e.prototype.hasChild = function(e) {
            r.validateArgCount("DataSnapshot.hasChild", 1, 1, arguments.length), o.validatePathString("DataSnapshot.hasChild", 1, e, !1);
            var t = new i.Path(e);
            return !this.node_.getChild(t).isEmpty();
        }, e.prototype.getPriority = function() {
            return r.validateArgCount("DataSnapshot.getPriority", 0, 0, arguments.length), this.node_.getPriority().val();
        }, e.prototype.forEach = function(t) {
            var n = this;
            return r.validateArgCount("DataSnapshot.forEach", 1, 1, arguments.length), r.validateCallback("DataSnapshot.forEach", 1, t, !1), 
            !this.node_.isLeafNode() && !!this.node_.forEachChild(this.index_, function(r, o) {
                return t(new e(o, n.ref_.child(r), a.PRIORITY_INDEX));
            });
        }, e.prototype.hasChildren = function() {
            return r.validateArgCount("DataSnapshot.hasChildren", 0, 0, arguments.length), !this.node_.isLeafNode() && !this.node_.isEmpty();
        }, Object.defineProperty(e.prototype, "key", {
            get: function() {
                return this.ref_.getKey();
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.numChildren = function() {
            return r.validateArgCount("DataSnapshot.numChildren", 0, 0, arguments.length), this.node_.numChildren();
        }, e.prototype.getRef = function() {
            return r.validateArgCount("DataSnapshot.ref", 0, 0, arguments.length), this.ref_;
        }, Object.defineProperty(e.prototype, "ref", {
            get: function() {
                return this.getRef();
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }();
    t.DataSnapshot = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(35), i = n(5), a = n(3), s = n(0), u = function() {
        return r || (r = new o.SortedMap(a.stringCompare)), r;
    }, c = function() {
        function e(e, t) {
            void 0 === t && (t = u()), this.value = e, this.children = t;
        }
        return e.fromObject = function(t) {
            var n = e.Empty;
            return s.forEach(t, function(e, t) {
                n = n.set(new i.Path(e), t);
            }), n;
        }, e.prototype.isEmpty = function() {
            return null === this.value && this.children.isEmpty();
        }, e.prototype.findRootMostMatchingPathAndValue = function(e, t) {
            if (null != this.value && t(this.value)) return {
                path: i.Path.Empty,
                value: this.value
            };
            if (e.isEmpty()) return null;
            var n = e.getFront(), r = this.children.get(n);
            if (null !== r) {
                var o = r.findRootMostMatchingPathAndValue(e.popFront(), t);
                return null != o ? {
                    path: new i.Path(n).child(o.path),
                    value: o.value
                } : null;
            }
            return null;
        }, e.prototype.findRootMostValueAndPath = function(e) {
            return this.findRootMostMatchingPathAndValue(e, function() {
                return !0;
            });
        }, e.prototype.subtree = function(t) {
            if (t.isEmpty()) return this;
            var n = t.getFront(), r = this.children.get(n);
            return null !== r ? r.subtree(t.popFront()) : e.Empty;
        }, e.prototype.set = function(t, n) {
            if (t.isEmpty()) return new e(n, this.children);
            var r = t.getFront(), o = (this.children.get(r) || e.Empty).set(t.popFront(), n), i = this.children.insert(r, o);
            return new e(this.value, i);
        }, e.prototype.remove = function(t) {
            if (t.isEmpty()) return this.children.isEmpty() ? e.Empty : new e(null, this.children);
            var n = t.getFront(), r = this.children.get(n);
            if (r) {
                var o = r.remove(t.popFront()), i = void 0;
                return i = o.isEmpty() ? this.children.remove(n) : this.children.insert(n, o), null === this.value && i.isEmpty() ? e.Empty : new e(this.value, i);
            }
            return this;
        }, e.prototype.get = function(e) {
            if (e.isEmpty()) return this.value;
            var t = e.getFront(), n = this.children.get(t);
            return n ? n.get(e.popFront()) : null;
        }, e.prototype.setTree = function(t, n) {
            if (t.isEmpty()) return n;
            var r = t.getFront(), o = (this.children.get(r) || e.Empty).setTree(t.popFront(), n), i = void 0;
            return i = o.isEmpty() ? this.children.remove(r) : this.children.insert(r, o), new e(this.value, i);
        }, e.prototype.fold = function(e) {
            return this.fold_(i.Path.Empty, e);
        }, e.prototype.fold_ = function(e, t) {
            var n = {};
            return this.children.inorderTraversal(function(r, o) {
                n[r] = o.fold_(e.child(r), t);
            }), t(e, this.value, n);
        }, e.prototype.findOnPath = function(e, t) {
            return this.findOnPath_(e, i.Path.Empty, t);
        }, e.prototype.findOnPath_ = function(e, t, n) {
            var r = !!this.value && n(t, this.value);
            if (r) return r;
            if (e.isEmpty()) return null;
            var o = e.getFront(), i = this.children.get(o);
            return i ? i.findOnPath_(e.popFront(), t.child(o), n) : null;
        }, e.prototype.foreachOnPath = function(e, t) {
            return this.foreachOnPath_(e, i.Path.Empty, t);
        }, e.prototype.foreachOnPath_ = function(t, n, r) {
            if (t.isEmpty()) return this;
            this.value && r(n, this.value);
            var o = t.getFront(), i = this.children.get(o);
            return i ? i.foreachOnPath_(t.popFront(), n.child(o), r) : e.Empty;
        }, e.prototype.foreach = function(e) {
            this.foreach_(i.Path.Empty, e);
        }, e.prototype.foreach_ = function(e, t) {
            this.children.inorderTraversal(function(n, r) {
                r.foreach_(e.child(n), t);
            }), this.value && t(e, this.value);
        }, e.prototype.foreachChild = function(e) {
            this.children.inorderTraversal(function(t, n) {
                n.value && e(t, n.value);
            });
        }, e.Empty = new e(null), e;
    }();
    t.ImmutableTree = c;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(22), i = n(11), a = n(8), s = function() {
        function e(e) {
            this.index_ = e;
        }
        return e.prototype.updateChild = function(e, t, n, i, a, s) {
            r.assert(e.isIndexed(this.index_), "A node must be indexed if only a child is updated");
            var u = e.getImmediateChild(t);
            return u.getChild(i).equals(n.getChild(i)) && u.isEmpty() == n.isEmpty() ? e : (null != s && (n.isEmpty() ? e.hasChild(t) ? s.trackChildChange(o.Change.childRemovedChange(t, u)) : r.assert(e.isLeafNode(), "A child remove without an old child only makes sense on a leaf node") : u.isEmpty() ? s.trackChildChange(o.Change.childAddedChange(t, n)) : s.trackChildChange(o.Change.childChangedChange(t, n, u))), 
            e.isLeafNode() && n.isEmpty() ? e : e.updateImmediateChild(t, n).withIndex(this.index_));
        }, e.prototype.updateFullNode = function(e, t, n) {
            return null != n && (e.isLeafNode() || e.forEachChild(a.PRIORITY_INDEX, function(e, r) {
                t.hasChild(e) || n.trackChildChange(o.Change.childRemovedChange(e, r));
            }), t.isLeafNode() || t.forEachChild(a.PRIORITY_INDEX, function(t, r) {
                if (e.hasChild(t)) {
                    var i = e.getImmediateChild(t);
                    i.equals(r) || n.trackChildChange(o.Change.childChangedChange(t, r, i));
                } else n.trackChildChange(o.Change.childAddedChange(t, r));
            })), t.withIndex(this.index_);
        }, e.prototype.updatePriority = function(e, t) {
            return e.isEmpty() ? i.ChildrenNode.EMPTY_NODE : e.updatePriority(t);
        }, e.prototype.filtersNodes = function() {
            return !1;
        }, e.prototype.getIndexedFilter = function() {
            return this;
        }, e.prototype.getIndex = function() {
            return this.index_;
        }, e;
    }();
    t.IndexedFilter = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(146), o = function() {
        function e() {}
        return e.getCollection = function(e) {
            var t = e.toString();
            return this.collections_[t] || (this.collections_[t] = new r.StatsCollection()), 
            this.collections_[t];
        }, e.getOrCreateReporter = function(e, t) {
            var n = e.toString();
            return this.reporters_[n] || (this.reporters_[n] = t()), this.reporters_[n];
        }, e.collections_ = {}, e.reporters_ = {}, e;
    }();
    t.StatsManager = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(36), i = n(3), a = n(55), s = n(19);
    n(156);
    var u, c = "databaseURL", l = function() {
        function e() {
            this.repos_ = {}, this.useRestClient_ = !1;
        }
        return e.getInstance = function() {
            return u || (u = new e()), u;
        }, e.prototype.interrupt = function() {
            for (var e in this.repos_) for (var t in this.repos_[e]) this.repos_[e][t].interrupt();
        }, e.prototype.resume = function() {
            for (var e in this.repos_) for (var t in this.repos_[e]) this.repos_[e][t].resume();
        }, e.prototype.databaseFromApp = function(e, t) {
            var n = t || e.options[c];
            void 0 === n && i.fatal("Can't determine Firebase Database URL.  Be sure to include " + c + " option when calling firebase.initializeApp().");
            var r = a.parseRepoInfo(n), o = r.repoInfo;
            return s.validateUrl("Invalid Firebase Database URL", 1, r), r.path.isEmpty() || i.fatal("Database URL must point to the root of a Firebase Database (not including a child path)."), 
            this.createRepo(o, e).database;
        }, e.prototype.deleteRepo = function(e) {
            var t = r.safeGet(this.repos_, e.app.name);
            t && r.safeGet(t, e.repoInfo_.toURLString()) === e || i.fatal("Database " + e.app.name + "(" + e.repoInfo_ + ") has already been deleted."), 
            e.interrupt(), delete t[e.repoInfo_.toURLString()];
        }, e.prototype.createRepo = function(e, t) {
            var n = r.safeGet(this.repos_, t.name);
            n || (n = {}, this.repos_[t.name] = n);
            var a = r.safeGet(n, e.toURLString());
            return a && i.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."), 
            a = new o.Repo(e, this.useRestClient_, t), n[e.toURLString()] = a, a;
        }, e.prototype.forceRestClient = function(e) {
            this.useRestClient_ = e;
        }, e;
    }();
    t.RepoManager = l;
}, function(e, t) {
    !function(e) {
        function t(r) {
            if (n[r]) return n[r].exports;
            var o = n[r] = {
                i: r,
                l: !1,
                exports: {}
            };
            return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;
        }
        var n = {};
        t.m = e, t.c = n, t.i = function(e) {
            return e;
        }, t.d = function(e, n, r) {
            t.o(e, n) || Object.defineProperty(e, n, {
                configurable: !1,
                enumerable: !0,
                get: r
            });
        }, t.n = function(e) {
            var n = e && e.__esModule ? function() {
                return e.default;
            } : function() {
                return e;
            };
            return t.d(n, "a", n), n;
        }, t.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t);
        }, t.p = "", t(t.s = 1);
    }([ function(e, t, n) {
        var r = !1, o = n(2), i = n(3);
        e.exports = {
            licenseCheck: function(e, t) {
                var n = !1, a = !1, s = !1, u = !1, c = !1, l = !1, h = !1, p = !1, d = !1, f = !1, v = !1, m = !1, y = !1, g = function(e, t, r) {
                    if (m = t, !1 !== e) if ("Group" === (v = JSON.parse(e)).licence_type) i.s3Req(i.getGroupFilename(v.group), m, O); else {
                        n = e;
                        var o = JSON.parse(e);
                        s && "Freemium" == o.licence_type ? u ? (h = !0, _()) : b() : "Freemium" == o.licence_type ? (h = !0, 
                        _()) : k();
                    } else h = !0, _(r);
                }, _ = function(e) {
                    if (c) {
                        var t = i.platformFlagToCheck(f), n = i.getDomainsListFilename(t, c);
                        i.s3Req(n, m, w);
                    } else b(e);
                }, b = function(e) {
                    s && !u ? i.s3Req(i.getUserFilename(s, f), m, I) : n ? k() : a ? P(e) : (p = Error("User or product code not set"), 
                    t(p, !1));
                }, w = function(e, t, n) {
                    m = t, !1 !== e ? T(e, E) : b(n);
                }, E = function(e) {
                    0 != e ? i.s3Req("groups/" + e + ".json", m, C) : b();
                }, T = function(e, t) {
                    var n = JSON.parse(e), r = !1;
                    "rw4gc" == f || "equatio" == f || "equatio_lti" == f || "ft4g" == f || !1 !== l ? null != n.unlimited_oauth && null != n.unlimited_oauth[c] && (r = n.unlimited_oauth[c]) : !1 !== s && !0 === u && null != n.unlimited && (null != n.unlimited[s] ? r = n.unlimited[s] : p = Error("Product code invalid")), 
                    !r && s && !0 === u && null != n.limited && (null != n.limited[s] ? r = n.limited[s] : p = Error("Product code invalid")), 
                    r || null != n.hide_unlicensed && null != n.hide_unlicensed[c] && (d = !0), t(r);
                }, C = function(e, t) {
                    m = t, !1 !== e ? S(e) : b();
                }, S = function(e) {
                    i.verifyUserCanEnrolInGroup(e, m, f) ? (n = e, k(), N(e)) : (p = Error("Unable to enrol in group"), 
                    b());
                }, N = function(e) {
                    var t = JSON.parse(e), n = {};
                    n.user = a, n.group = t.guid, n.auth_code = t.auth_code, n.product = f, i.sugarReq("group", n, function(e) {});
                }, I = function(e, r, o) {
                    m = r;
                    try {
                        if (!1 !== e) if (a) {
                            var u = !0;
                            0 == l && (u = !1, p = Error("Login type not set"));
                            var c = JSON.parse(e);
                            c.hasOwnProperty("perpetual") && c.perpetual || i.dateInFuture(c.expiry, m) || (u = !1, 
                            p = Error("License expired"));
                            var h = i.getSoftwareEnabledProp(f);
                            if (!u || c.hasOwnProperty(h) && 0 != c[h] || (u = !1, p = Error("Product not enabled")), 
                            u && "" != c[l + "_login"] ? (u = !1, p = Error("This product code is already tied to a user for this login type")) : c[l + "_login"] = a, 
                            !0 === u) {
                                n = JSON.stringify(c), k();
                                var d = {};
                                d.user = a, d.user_encrypted = !0, d.auth_code = s, d.login_type = l, d.licence_id = c.guid, 
                                i.sugarReq("single", d, function(e) {});
                            } else P();
                        } else n = e, k(); else {
                            if (!a) throw new Error("Not a valid product code");
                            p = Error("Not a valid product code"), P(o);
                        }
                    } catch (e) {
                        t(e, n);
                    }
                }, O = function(e, t) {
                    if (m = t, !1 !== e) {
                        var r = JSON.parse(e);
                        if (8 == r.auth_code.length && (r.auth_code = o.hashAuthCode(r.auth_code)), v.auth_code == r.auth_code) {
                            n = e;
                            var a = i.getSoftwareEnabledProp(f), s = i.getProductExpiryProp(f);
                            i.dateInFuture(r.expiry, m) ? 1 != r[a] ? (r[s] = i.getYesterdaysDate(m), n = JSON.stringify(r), 
                            i.s3Req(i.getFeaturesFilename(f, "freemium"), m, x)) : k() : i.s3Req(i.getFeaturesFilename(f, "freemium"), m, x);
                        } else p = Error("Group product code has changed, reverting to freemium"), h = !0, 
                        R();
                    } else i.s3Req(i.getFeaturesFilename(f, "freemium"), m, x);
                }, P = function(e) {
                    if (void 0 == e && (e = !1), !1 === n) if (n = i.freemium(a, m, f), e) {
                        var t = JSON.parse(n);
                        t.lt = Math.floor(899999 * Math.random() + 1e5), n = JSON.stringify(t);
                    } else A();
                    k();
                }, R = function() {
                    !1 === n && (n = i.expiredFreemium(a, m, f), A()), k();
                }, A = function() {
                    if (a) {
                        var e = {};
                        e.user = a, e.product = f, i.sugarReq("freemium", e, function(e) {});
                    }
                }, k = function() {
                    var e = JSON.parse(n), t = !1;
                    if ("Group" != e.licence_type) {
                        var r = i.getProductExpiryProp(f), o = i.getSoftwareEnabledProp(f);
                        (e.hasOwnProperty(o) && 0 != e[o] || e.hasOwnProperty(r)) && (!e.hasOwnProperty(o) || 1 != e[o] || i.dateInFuture(e.expiry, m) || e.hasOwnProperty(r)) || (e[r] = i.get30DaysDate(m), 
                        n = JSON.stringify(e), t = !0), "Freemium" == e.licence_type && (e.hide_unlicensed = d, 
                        n = JSON.stringify(e));
                        var a = !1;
                        e.hasOwnProperty(o) && 1 == e[o] && i.dateInFuture(e.expiry, m) ? a = !0 : e.hasOwnProperty(r) && i.dateInFuture(e[r], m) && (a = !0), 
                        !0 === a ? i.s3Req(i.getFeaturesFilename(f, "premium"), m, x) : i.s3Req(i.getFeaturesFilename(f, "freemium"), m, x);
                    } else F(n);
                    if (!0 === t && A(), "Group" != e.licence_type && !0 !== h && null != c) {
                        var s = !1;
                        if ("Single" == e.licence_type && i.dateInFuture(e.expiry, m) || (s = !0), !0 === s) {
                            var u = i.platformFlagToCheck(f), l = i.getDomainsListFilename(u, c);
                            i.s3Req(l, m, D);
                        }
                    }
                }, x = function(e, t) {
                    if (m = t, !1 !== e) {
                        var r = JSON.parse(n), o = JSON.parse(e);
                        r.features = o, n = JSON.stringify(r), F(n);
                    } else F(n);
                }, D = function(e, t) {
                    m = t, !1 !== e && T(e, L);
                }, L = function(e) {
                    0 != e && i.s3Req("groups/" + e + ".json", m, M);
                }, M = function(e, t) {
                    m = t, !1 !== e && i.verifyUserCanEnrolInGroup(e, m, f) && N(e);
                }, F = function(e) {
                    var n = JSON.parse(e);
                    n.today = i.getTodaysDate(m), n.currentDateTime = i.getCurrentDateTime(m);
                    var r = i.getSoftwareEnabledProp(f), o = i.getProductExpiryProp(f);
                    if (n.hasOwnProperty(r) && 1 == n[r] ? (n.license_expiry = n.expiry, i.dateInFuture(n.expiry, m) || n.hasOwnProperty(o) && i.dateInFuture(n[o], m) && (n.license_expiry = n[o], 
                    n.trial = !0)) : (n.license_expiry = n[o], i.dateInFuture(n.license_expiry, m) ? n.trial = !0 : n.trial = !1), 
                    n.daysleft = i.dateDiff(n.today, n.license_expiry, "days"), "Group" != n.licence_type) if ("equatio" == f) {
                        var s = i.getSoftwareEnabledProp("rw4gc");
                        "Single" == n.licence_type && n.hasOwnProperty(s) && 1 == n[s] ? n.upgrade_link = "https://text.help/2MVuXs" : n.upgrade_link = "https://text.help/llZsZf";
                    } else n.daysleft >= 0 ? n.upgrade_link = "https://text.help/sNm0iR" : n.upgrade_link = "https://text.help/ojpwiV";
                    void 0 === n.user && 0 != a && (n.user = a), t(p, n);
                };
                try {
                    if (void 0 != e.authCode && "" != e.authCode) if (!function(e) {
                        return 8 == e.length && (e = e.toUpperCase(), i.isGroupAuthCode(e) && (u = !0), 
                        s = o.hashAuthCode(e), !0);
                    }(e.authCode)) throw new Error("Product code invalid");
                    if (void 0 != e.product && "" != e.product) if (!function(e) {
                        return !([ "mac", "rw4gc", "windows", "ipad", "android", "equatio", "equatio_lti", "edge", "ft4g" ].indexOf(e) < 0 || (f = e, 
                        0));
                    }(e.product)) throw new Error("Invalid product");
                    if (void 0 !== e.debug && "" != e.debug ? (r = e.debug, i.thDebugMode = r) : r = !1, 
                    void 0 !== e.cacheBypass && "" != e.cacheBypass ? (y = e.cacheBypass, i.thCloudFrontBypass = y) : (y = !1, 
                    i.thCloudFrontBypass = !1), void 0 != e.user && "" != e.user) {
                        var U = e.user.toLowerCase(), j = !1;
                        if (void 0 != e.disableUserHash && !0 === e.disableUserHash && (j = !0), !function(e, t) {
                            if (null != e) {
                                if (!i.isValidUser(e)) throw new Error("No domain found....stopping");
                                var n = (a = !0 === t ? e : o.hashEmail(e)).split("@")[1];
                                return c = o.hashDomain(n), !0;
                            }
                            return !1;
                        }(U, j)) throw new Error("Invalid user");
                    }
                    if (void 0 != e.loginType && "" != e.loginType) if (!function(e) {
                        return !([ "google", "microsoft", "facebook", "twitter", "linkedin", "yahoo" ].indexOf(e) < 0 || (l = e, 
                        0));
                    }(e.loginType)) throw new Error("Invalid login type");
                    if (!a && !s) throw new Error("User or product code must be set");
                    if (0 == f) throw new Error("Product not set");
                    a ? i.s3Req(i.getUserFilename(a, f), m, g) : b();
                } catch (e) {
                    t(e, n);
                }
            }
        };
    }, function(e, t, n) {
        thAuth = n(0);
    }, function(e, t, n) {
        var r = {
            getS: function() {
                return "hfdu9b89';JHK7898hbh;';[/";
            },
            hashEmail: function(e) {
                e = (e = e.toLowerCase()).trim();
                try {
                    var t = r.getS(), n = e.split("@"), o = n[0].replace("%", ""), i = n[1];
                    return o += t, r.hash(o) + "@" + i;
                } catch (e) {}
            },
            hashAuthCode: function(e) {
                e = (e = e.toUpperCase()).trim();
                try {
                    var t = e += r.getS();
                    return r.hash(t);
                } catch (e) {}
            },
            hashDomain: function(e) {
                e = (e = e.toLowerCase()).trim();
                try {
                    var t = e += r.getS();
                    return r.hash(t);
                } catch (e) {}
            },
            hash: function(e) {
                e = unescape(encodeURIComponent(e));
                for (var t = [ 1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298 ], n = [ 1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225 ], o = (e += String.fromCharCode(128)).length / 4 + 2, i = Math.ceil(o / 16), a = new Array(i), s = 0; i > s; s++) {
                    a[s] = new Array(16);
                    for (var u = 0; 16 > u; u++) a[s][u] = e.charCodeAt(64 * s + 4 * u) << 24 | e.charCodeAt(64 * s + 4 * u + 1) << 16 | e.charCodeAt(64 * s + 4 * u + 2) << 8 | e.charCodeAt(64 * s + 4 * u + 3);
                }
                a[i - 1][14] = 8 * (e.length - 1) / Math.pow(2, 32), a[i - 1][14] = Math.floor(a[i - 1][14]), 
                a[i - 1][15] = 8 * (e.length - 1) & 4294967295;
                var c, l, h, p, d, f, v, m, y = new Array(64);
                for (s = 0; i > s; s++) {
                    for (var g = 0; 16 > g; g++) y[g] = a[s][g];
                    for (g = 16; 64 > g; g++) y[g] = r.o1(y[g - 2]) + y[g - 7] + r.o0(y[g - 15]) + y[g - 16] & 4294967295;
                    c = n[0], l = n[1], h = n[2], p = n[3], d = n[4], f = n[5], v = n[6], m = n[7];
                    for (g = 0; 64 > g; g++) {
                        var _ = m + r.e1(d) + r.Ch(d, f, v) + t[g] + y[g], b = r.e0(c) + r.Maj(c, l, h);
                        m = v, v = f, f = d, d = p + _ & 4294967295, p = h, h = l, l = c, c = _ + b & 4294967295;
                    }
                    n[0] = n[0] + c & 4294967295, n[1] = n[1] + l & 4294967295, n[2] = n[2] + h & 4294967295, 
                    n[3] = n[3] + p & 4294967295, n[4] = n[4] + d & 4294967295, n[5] = n[5] + f & 4294967295, 
                    n[6] = n[6] + v & 4294967295, n[7] = n[7] + m & 4294967295;
                }
                return r.toHexStr(n[0]) + r.toHexStr(n[1]) + r.toHexStr(n[2]) + r.toHexStr(n[3]) + r.toHexStr(n[4]) + r.toHexStr(n[5]) + r.toHexStr(n[6]) + r.toHexStr(n[7]);
            },
            ROTR: function(e, t) {
                return t >>> e | t << 32 - e;
            },
            e0: function(e) {
                return r.ROTR(2, e) ^ r.ROTR(13, e) ^ r.ROTR(22, e);
            },
            e1: function(e) {
                return r.ROTR(6, e) ^ r.ROTR(11, e) ^ r.ROTR(25, e);
            },
            o0: function(e) {
                return r.ROTR(7, e) ^ r.ROTR(18, e) ^ e >>> 3;
            },
            o1: function(e) {
                return r.ROTR(17, e) ^ r.ROTR(19, e) ^ e >>> 10;
            },
            Ch: function(e, t, n) {
                return e & t ^ ~e & n;
            },
            Maj: function(e, t, n) {
                return e & t ^ e & n ^ t & n;
            },
            toHexStr: function(e) {
                for (var t = "", n = 7; n >= 0; n--) t += (e >>> 4 * n & 15).toString(16);
                return t;
            }
        };
        e.exports = r;
    }, function(e, t, n) {
        var r = {
            thDebugMode: !1,
            thCloudFrontBypass: !1,
            s3Req: function(e, t, n) {
                var o = function(e, t, n) {
                    var o = new XMLHttpRequest();
                    o.onload = function() {
                        200 == o.status && "" != o.responseText ? (!1 === t && (t = r.setToday(o)), n(o.responseText, t, !1)) : 404 == o.status || 403 == o.status ? n(404, t, !1) : n(!1, t, !1);
                    }, o.onerror = function() {
                        setTimeout(function() {
                            n(!1, t, !0);
                        }, 3e3);
                    }, o.ontimeout = function() {
                        setTimeout(function() {
                            n(!1, t, !0);
                        }, 3e3);
                    }, o.open("GET", e + "?cbp=" + Math.random()), o.timeout = 3e4, o.send();
                }, i = function(e, t, r) {
                    !1 !== e && 404 != e ? n(e, t, !1) : 404 == e ? n(!1, t, !1) : o(s, t, a);
                }, a = function(e, t, r) {
                    !1 !== e && 404 != e ? n(e, t, !1) : n(!1, t, r);
                };
                if (r.thCloudFrontBypass) var s = "https://s3.amazonaws.com/rwfamilylive/" + e; else s = "https://licensing.texthelp.com/" + e;
                o(s, t, i);
            },
            setToday: function(e) {
                var t = e.getResponseHeader("Date"), n = e.getResponseHeader("Age");
                if (!isNaN(parseFloat(n)) && isFinite(n)) var r = new Date(t), o = new Date(r.getTime() + parseInt(1e3 * n)), i = new Date(o); else i = new Date(t);
                return i;
            },
            sugarReq: function(e, t, n) {
                var r = "https://ist.texthelp.com/queue/licensing/push/" + e, o = new XMLHttpRequest();
                o.onreadystatechange = function() {
                    4 == o.readyState && 200 == o.status ? n("" != o.responseText && o.responseText) : 4 == o.readyState && o.status;
                }, o.onerror = function() {
                    n(!1);
                }, o.ontimeout = function() {
                    n(!1);
                };
                var i = JSON.stringify(t);
                o.timeout = 3e4, o.open("POST", r), o.setRequestHeader("Content-Type", "application/json"), 
                o.send(i);
            },
            freemium: function(e, t, n) {
                var o = "expiry_" + n, i = {};
                return i.user = e, i.start = r.getTodaysDate(t), i[o] = r.get30DaysDate(t), i.licence_type = "Freemium", 
                JSON.stringify(i);
            },
            expiredFreemium: function(e, t, n) {
                var o = "expiry_" + n, i = {};
                return i.user = e, i.start = r.getTodaysDate(t), i[o] = r.getTodaysDate(t), i.licence_type = "Freemium", 
                JSON.stringify(i);
            },
            getTodaysDate: function(e) {
                if (e instanceof Date) var t = new Date(e).toJSON().slice(0, 10); else t = new Date().toJSON().slice(0, 10);
                return t;
            },
            getYesterdaysDate: function(e) {
                var t;
                e instanceof Date ? ((t = new Date(e)).setDate(t.getDate() - 1), t = t.toJSON().slice(0, 10)) : ((t = new Date()).setDate(t.getDate() - 1), 
                t = t.toJSON().slice(0, 10));
                return t;
            },
            getCurrentDateTime: function(e) {
                if (e instanceof Date) var t = new Date(e).toJSON(); else t = new Date().toJSON();
                return t;
            },
            dateInFuture: function(e, t) {
                e = new Date(e);
                return new Date(t).getTime() <= e.getTime();
            },
            get30DaysDate: function(e) {
                var t = new Date(r.getTodaysDate(e)), n = new Date().setDate(t.getDate() + 30);
                return new Date(n).toJSON().slice(0, 10);
            },
            dateDiff: function(e, t, n) {
                e = new Date(e);
                var r = (t = new Date(t)) - e;
                if (isNaN(r)) return NaN;
                switch (n) {
                  case "years":
                    return t.getFullYear() - e.getFullYear();

                  case "months":
                    return 12 * t.getFullYear() + t.getMonth() - (12 * e.getFullYear() + e.getMonth());

                  case "weeks":
                    return Math.floor(r / 6048e5);

                  case "days":
                    return Math.floor(r / 864e5);

                  case "hours":
                    return Math.floor(r / 36e5);

                  case "minutes":
                    return Math.floor(r / 6e4);

                  case "seconds":
                    return Math.floor(r / 1e3);

                  default:
                    return;
                }
            },
            platformFlagToCheck: function(e) {
                return "equatio" == e || "equatio_lti" == e ? "equatio" : "ft4g" == e ? "ft4g" : "read_and_write";
            },
            verifyUserCanEnrolInGroup: function(e, t, n) {
                var o = JSON.parse(e), i = o[r.platformFlagToCheck(n)];
                if (!0 === r.dateInFuture(o.expiry, t) && 1 == i) {
                    if (1 == o.unlimited) return !0;
                    if (o.user_count > o.enrolled_seats && 1 != o.using_admin_tool) return !0;
                }
                return !1;
            },
            getUserFilename: function(e, t) {
                if ("equatio" == t) var n = "users_equatio"; else if ("equatio_lti" == t) n = "users_equatio_lti"; else if ("ft4g" == t) n = "users_ft4g"; else n = "users";
                return n + "/" + e + ".json";
            },
            getGroupFilename: function(e) {
                return "groups/" + e + ".json";
            },
            getFeaturesFilename: function(e, t) {
                return "new_" + t + "_features_" + e + ".json";
            },
            getDomainsListFilename: function(e, t) {
                return "domains/" + e + "/" + t + ".json";
            },
            getProductExpiryProp: function(e) {
                return "expiry_" + e;
            },
            getSoftwareEnabledProp: function(e) {
                return "equatio" == e ? "equatio" : "equatio_lti" == e ? "equatio_lti" : "ft4g" == e ? "ft4g" : "read_and_write";
            },
            isGroupAuthCode: function(e) {
                return "G" == e.substring(0, 1);
            },
            isValidUser: function(e) {
                return e.indexOf("@") >= 0;
            },
            setDebugMode: function(e) {
                r.debug = e;
            }
        };
        e.exports = r;
    } ]), e.exports = thAuth;
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return s;
    });
    var r = n(1), o = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    };
    function i(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
        }
        return Array.from(e);
    }
    var a = function(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        return new Promise(function(n, r) {
            chrome.runtime.sendMessage("hjngolefdpdnooamgdldlkjgmdcmcjnc", o({
                action: e
            }, t), function() {
                var o, a, s = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, u = s.success, c = s.failure;
                return chrome.runtime.lastError ? ((o = console).warn.apply(o, [ "Action failed:", e ].concat(i(t))), 
                r(chrome.runtime.lastError)) : c ? ((a = console).warn.apply(a, [ "Action failed:", e ].concat(i(t))), 
                r(c)) : n(u);
            });
        });
    }, s = function() {
        return a(r.a.DismissReviewReminder);
    };
}, function(e, t, n) {
    "use strict";
    var r = n(2), o = n(83), i = n.n(o), a = n(84), s = n.n(a), u = n(85), c = n.n(u), l = n(16), h = n(86), p = (Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    })({}, l, h), d = (Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    })({}, l), f = n(87), v = (Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    })({}, l, f), m = n(88), y = (Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    })({}, l, m);
    function g(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
        }
        return Array.from(e);
    }
    n.d(t, "b", function() {
        return w;
    }), n.d(t, "a", function() {
        return E;
    }), Object(r.c)([].concat(g(i.a), g(s.a), g(c.a)));
    var _ = {
        enUS: d,
        enGB: p,
        es: v,
        fr: y
    }, b = function() {
        return (Array.isArray(navigator.languages) ? navigator.languages[0] : navigator.language) || navigator.userLanguage;
    }, w = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : b();
        return "es" === e || e.startsWith("es-") ? "es" : "fr" === e || e.startsWith("fr-") ? "fr" : "en";
    }, E = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : b();
        return e ? "en-GB" === e ? _.enGB : "en-US" === e ? _.enUS : "es" === e || e.startsWith("es-") ? _.es : "fr" === e || e.startsWith("fr-") ? _.fr : _.enUS : _.enUS;
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(40);
    t.assert = function(e, n) {
        if (!e) throw t.assertionError(n);
    }, t.assertionError = function(e) {
        return new Error("Firebase Database (" + r.CONSTANTS.SDK_VERSION + ") INTERNAL ASSERT FAILED: " + e);
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function(e) {
        for (var t = [], n = 0, r = 0; r < e.length; r++) {
            var o = e.charCodeAt(r);
            o < 128 ? t[n++] = o : o < 2048 ? (t[n++] = o >> 6 | 192, t[n++] = 63 & o | 128) : 55296 == (64512 & o) && r + 1 < e.length && 56320 == (64512 & e.charCodeAt(r + 1)) ? (o = 65536 + ((1023 & o) << 10) + (1023 & e.charCodeAt(++r)), 
            t[n++] = o >> 18 | 240, t[n++] = o >> 12 & 63 | 128, t[n++] = o >> 6 & 63 | 128, 
            t[n++] = 63 & o | 128) : (t[n++] = o >> 12 | 224, t[n++] = o >> 6 & 63 | 128, t[n++] = 63 & o | 128);
        }
        return t;
    }, o = function(e) {
        for (var t = [], n = 0, r = 0; n < e.length; ) {
            var o = e[n++];
            if (o < 128) t[r++] = String.fromCharCode(o); else if (o > 191 && o < 224) {
                var i = e[n++];
                t[r++] = String.fromCharCode((31 & o) << 6 | 63 & i);
            } else if (o > 239 && o < 365) {
                var a = ((7 & o) << 18 | (63 & (i = e[n++])) << 12 | (63 & (s = e[n++])) << 6 | 63 & e[n++]) - 65536;
                t[r++] = String.fromCharCode(55296 + (a >> 10)), t[r++] = String.fromCharCode(56320 + (1023 & a));
            } else {
                i = e[n++];
                var s = e[n++];
                t[r++] = String.fromCharCode((15 & o) << 12 | (63 & i) << 6 | 63 & s);
            }
        }
        return t.join("");
    };
    t.base64 = {
        byteToCharMap_: null,
        charToByteMap_: null,
        byteToCharMapWebSafe_: null,
        charToByteMapWebSafe_: null,
        ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
        get ENCODED_VALS() {
            return this.ENCODED_VALS_BASE + "+/=";
        },
        get ENCODED_VALS_WEBSAFE() {
            return this.ENCODED_VALS_BASE + "-_.";
        },
        HAS_NATIVE_SUPPORT: "function" == typeof atob,
        encodeByteArray: function(e, t) {
            if (!Array.isArray(e)) throw Error("encodeByteArray takes an array as a parameter");
            this.init_();
            for (var n = t ? this.byteToCharMapWebSafe_ : this.byteToCharMap_, r = [], o = 0; o < e.length; o += 3) {
                var i = e[o], a = o + 1 < e.length, s = a ? e[o + 1] : 0, u = o + 2 < e.length, c = u ? e[o + 2] : 0, l = i >> 2, h = (3 & i) << 4 | s >> 4, p = (15 & s) << 2 | c >> 6, d = 63 & c;
                u || (d = 64, a || (p = 64)), r.push(n[l], n[h], n[p], n[d]);
            }
            return r.join("");
        },
        encodeString: function(e, t) {
            return this.HAS_NATIVE_SUPPORT && !t ? btoa(e) : this.encodeByteArray(r(e), t);
        },
        decodeString: function(e, t) {
            return this.HAS_NATIVE_SUPPORT && !t ? atob(e) : o(this.decodeStringToByteArray(e, t));
        },
        decodeStringToByteArray: function(e, t) {
            this.init_();
            for (var n = t ? this.charToByteMapWebSafe_ : this.charToByteMap_, r = [], o = 0; o < e.length; ) {
                var i = n[e.charAt(o++)], a = o < e.length ? n[e.charAt(o)] : 0, s = ++o < e.length ? n[e.charAt(o)] : 64, u = ++o < e.length ? n[e.charAt(o)] : 64;
                if (++o, null == i || null == a || null == s || null == u) throw Error();
                var c = i << 2 | a >> 4;
                if (r.push(c), 64 != s) {
                    var l = a << 4 & 240 | s >> 2;
                    if (r.push(l), 64 != u) {
                        var h = s << 6 & 192 | u;
                        r.push(h);
                    }
                }
            }
            return r;
        },
        init_: function() {
            if (!this.byteToCharMap_) {
                this.byteToCharMap_ = {}, this.charToByteMap_ = {}, this.byteToCharMapWebSafe_ = {}, 
                this.charToByteMapWebSafe_ = {};
                for (var e = 0; e < this.ENCODED_VALS.length; e++) this.byteToCharMap_[e] = this.ENCODED_VALS.charAt(e), 
                this.charToByteMap_[this.byteToCharMap_[e]] = e, this.byteToCharMapWebSafe_[e] = this.ENCODED_VALS_WEBSAFE.charAt(e), 
                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]] = e, e >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)] = e, 
                this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)] = e);
            }
        }
    }, t.base64Encode = function(e) {
        var n = r(e);
        return t.base64.encodeByteArray(n, !0);
    }, t.base64Decode = function(e) {
        try {
            return t.base64.decodeString(e, !0);
        } catch (e) {}
        return null;
    };
}, function(e, t, n) {
    "use strict";
    function r(e) {
        return JSON.parse(e);
    }
    function o(e) {
        return JSON.stringify(e);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.jsonEval = r, t.stringify = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.contains = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
    }, t.safeGet = function(e, t) {
        if (Object.prototype.hasOwnProperty.call(e, t)) return e[t];
    }, t.forEach = function(e, t) {
        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t(n, e[n]);
    }, t.extend = function(e, n) {
        return t.forEach(n, function(t, n) {
            e[t] = n;
        }), e;
    }, t.clone = function(e) {
        return t.extend({}, e);
    }, t.isNonNullObject = function(e) {
        return "object" == typeof e && null !== e;
    }, t.isEmpty = function(e) {
        for (var t in e) return !1;
        return !0;
    }, t.getCount = function(e) {
        var t = 0;
        for (var n in e) t++;
        return t;
    }, t.map = function(e, t, n) {
        var r = {};
        for (var o in e) r[o] = t.call(n, e[o], o, e);
        return r;
    }, t.findKey = function(e, t, n) {
        for (var r in e) if (t.call(n, e[r], r, e)) return r;
    }, t.findValue = function(e, n, r) {
        var o = t.findKey(e, n, r);
        return o && e[o];
    }, t.getAnyKey = function(e) {
        for (var t in e) return t;
    }, t.getValues = function(e) {
        var t = [], n = 0;
        for (var r in e) t[n++] = e[r];
        return t;
    }, t.every = function(e, t) {
        for (var n in e) if (Object.prototype.hasOwnProperty.call(e, n) && !t(n, e[n])) return !1;
        return !0;
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3), o = n(55), i = n(5), a = n(41), s = n(36), u = n(46), c = n(0), l = n(19), h = function() {
        function e(e) {
            this.repo_ = e, e instanceof s.Repo || r.fatal("Don't call new Database() directly - please use firebase.database()."), 
            this.root_ = new a.Reference(e, i.Path.Empty), this.INTERNAL = new p(this);
        }
        return Object.defineProperty(e.prototype, "app", {
            get: function() {
                return this.repo_.app;
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.ref = function(e) {
            return this.checkDeleted_("ref"), c.validateArgCount("database.ref", 0, 1, arguments.length), 
            void 0 !== e ? this.root_.child(e) : this.root_;
        }, e.prototype.refFromURL = function(e) {
            var t = "database.refFromURL";
            this.checkDeleted_(t), c.validateArgCount(t, 1, 1, arguments.length);
            var n = o.parseRepoInfo(e);
            l.validateUrl(t, 1, n);
            var i = n.repoInfo;
            return i.host !== this.repo_.repoInfo_.host && r.fatal(t + ": Host name does not match the current database: (found " + i.host + " but expected " + this.repo_.repoInfo_.host + ")"), 
            this.ref(n.path.toString());
        }, e.prototype.checkDeleted_ = function(e) {
            null === this.repo_ && r.fatal("Cannot call " + e + " on a deleted database.");
        }, e.prototype.goOffline = function() {
            c.validateArgCount("database.goOffline", 0, 0, arguments.length), this.checkDeleted_("goOffline"), 
            this.repo_.interrupt();
        }, e.prototype.goOnline = function() {
            c.validateArgCount("database.goOnline", 0, 0, arguments.length), this.checkDeleted_("goOnline"), 
            this.repo_.resume();
        }, e.ServerValue = {
            TIMESTAMP: {
                ".sv": "timestamp"
            }
        }, e;
    }();
    t.Database = h;
    var p = function() {
        function e(e) {
            this.database = e;
        }
        return e.prototype.delete = function() {
            return this.database.checkDeleted_("delete"), u.RepoManager.getInstance().deleteRepo(this.database.repo_), 
            this.database.repo_ = null, this.database.root_ = null, this.database.INTERNAL = null, 
            this.database = null, Promise.resolve();
        }, e;
    }();
    t.DatabaseInternals = p;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(5), o = n(56), i = n(3);
    function a(e) {
        for (var t = "", n = e.split("/"), r = 0; r < n.length; r++) if (n[r].length > 0) {
            var o = n[r];
            try {
                o = decodeURIComponent(o.replace(/\+/g, " "));
            } catch (e) {}
            t += "/" + o;
        }
        return t;
    }
    t.parseRepoInfo = function(e) {
        var n = t.parseURL(e), a = n.subdomain;
        "firebase" === n.domain && i.fatal(n.host + " is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"), 
        a && "undefined" != a || i.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"), 
        n.secure || i.warnIfPageIsSecure();
        var s = "ws" === n.scheme || "wss" === n.scheme;
        return {
            repoInfo: new o.RepoInfo(n.host, n.secure, a, s),
            path: new r.Path(n.pathString)
        };
    }, t.parseURL = function(e) {
        var t = "", n = "", r = "", o = "", i = !0, s = "https", u = 443;
        if ("string" == typeof e) {
            var c = e.indexOf("//");
            c >= 0 && (s = e.substring(0, c - 1), e = e.substring(c + 2));
            var l = e.indexOf("/");
            -1 === l && (l = e.length), t = e.substring(0, l), o = a(e.substring(l));
            var h = t.split(".");
            3 === h.length ? (n = h[1], r = h[0].toLowerCase()) : 2 === h.length && (n = h[0]), 
            (c = t.indexOf(":")) >= 0 && (i = "https" === s || "wss" === s, u = parseInt(t.substring(c + 1), 10));
        }
        return {
            host: t,
            port: u,
            domain: n,
            subdomain: r,
            secure: i,
            scheme: s,
            pathString: o
        };
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(0), i = n(31), a = n(32), s = function() {
        function e(e, t, n, r, o) {
            void 0 === o && (o = ""), this.secure = t, this.namespace = n, this.webSocketOnly = r, 
            this.persistenceKey = o, this.host = e.toLowerCase(), this.domain = this.host.substr(this.host.indexOf(".") + 1), 
            this.internalHost = i.PersistentStorage.get("host:" + e) || this.host;
        }
        return e.prototype.needsQueryParam = function() {
            return this.host !== this.internalHost;
        }, e.prototype.isCacheableHost = function() {
            return "s-" === this.internalHost.substr(0, 2);
        }, e.prototype.isDemoHost = function() {
            return "firebaseio-demo.com" === this.domain;
        }, e.prototype.isCustomHost = function() {
            return "firebaseio.com" !== this.domain && "firebaseio-demo.com" !== this.domain;
        }, e.prototype.updateHost = function(e) {
            e !== this.internalHost && (this.internalHost = e, this.isCacheableHost() && i.PersistentStorage.set("host:" + this.host, this.internalHost));
        }, e.prototype.connectionURL = function(e, t) {
            var n;
            if (r.assert("string" == typeof e, "typeof type must == string"), r.assert("object" == typeof t, "typeof params must == object"), 
            e === a.WEBSOCKET) n = (this.secure ? "wss://" : "ws://") + this.internalHost + "/.ws?"; else {
                if (e !== a.LONG_POLLING) throw new Error("Unknown connection type: " + e);
                n = (this.secure ? "https://" : "http://") + this.internalHost + "/.lp?";
            }
            this.needsQueryParam() && (t.ns = this.namespace);
            var i = [];
            return o.forEach(t, function(e, t) {
                i.push(e + "=" + t);
            }), n + i.join("&");
        }, e.prototype.toString = function() {
            var e = this.toURLString();
            return this.persistenceKey && (e += "<" + this.persistenceKey + ">"), e;
        }, e.prototype.toURLString = function() {
            return (this.secure ? "https://" : "http://") + this.host;
        }, e;
    }();
    t.RepoInfo = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(19), i = n(3), a = n(0), s = function() {
        function e(e, t) {
            this.repo_ = e, this.path_ = t;
        }
        return e.prototype.cancel = function(e) {
            r.validateArgCount("OnDisconnect.cancel", 0, 1, arguments.length), r.validateCallback("OnDisconnect.cancel", 1, e, !0);
            var t = new a.Deferred();
            return this.repo_.onDisconnectCancel(this.path_, t.wrapCallback(e)), t.promise;
        }, e.prototype.remove = function(e) {
            r.validateArgCount("OnDisconnect.remove", 0, 1, arguments.length), o.validateWritablePath("OnDisconnect.remove", this.path_), 
            r.validateCallback("OnDisconnect.remove", 1, e, !0);
            var t = new a.Deferred();
            return this.repo_.onDisconnectSet(this.path_, null, t.wrapCallback(e)), t.promise;
        }, e.prototype.set = function(e, t) {
            r.validateArgCount("OnDisconnect.set", 1, 2, arguments.length), o.validateWritablePath("OnDisconnect.set", this.path_), 
            o.validateFirebaseDataArg("OnDisconnect.set", 1, e, this.path_, !1), r.validateCallback("OnDisconnect.set", 2, t, !0);
            var n = new a.Deferred();
            return this.repo_.onDisconnectSet(this.path_, e, n.wrapCallback(t)), n.promise;
        }, e.prototype.setWithPriority = function(e, t, n) {
            r.validateArgCount("OnDisconnect.setWithPriority", 2, 3, arguments.length), o.validateWritablePath("OnDisconnect.setWithPriority", this.path_), 
            o.validateFirebaseDataArg("OnDisconnect.setWithPriority", 1, e, this.path_, !1), 
            o.validatePriority("OnDisconnect.setWithPriority", 2, t, !1), r.validateCallback("OnDisconnect.setWithPriority", 3, n, !0);
            var i = new a.Deferred();
            return this.repo_.onDisconnectSetWithPriority(this.path_, e, t, i.wrapCallback(n)), 
            i.promise;
        }, e.prototype.update = function(e, t) {
            if (r.validateArgCount("OnDisconnect.update", 1, 2, arguments.length), o.validateWritablePath("OnDisconnect.update", this.path_), 
            Array.isArray(e)) {
                for (var n = {}, s = 0; s < e.length; ++s) n["" + s] = e[s];
                e = n, i.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.");
            }
            o.validateFirebaseMergeDataArg("OnDisconnect.update", 1, e, this.path_, !1), r.validateCallback("OnDisconnect.update", 2, t, !0);
            var u = new a.Deferred();
            return this.repo_.onDisconnectUpdate(this.path_, e, u.wrapCallback(t)), u.promise;
        }, e;
    }();
    t.OnDisconnect = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(0), i = n(28), a = n(8), s = n(60), u = n(64), c = n(3), l = n(5), h = n(19), p = n(0), d = n(131), f = n(0), v = function() {
        function e(e, t, n, r) {
            this.repo = e, this.path = t, this.queryParams_ = n, this.orderByCalled_ = r;
        }
        return Object.defineProperty(e, "__referenceConstructor", {
            get: function() {
                return o.assert(r, "Reference.ts has not been loaded"), r;
            },
            set: function(e) {
                r = e;
            },
            enumerable: !0,
            configurable: !0
        }), e.validateQueryEndpoints_ = function(e) {
            var t = null, n = null;
            if (e.hasStart() && (t = e.getIndexStartValue()), e.hasEnd() && (n = e.getIndexEndValue()), 
            e.getIndex() === i.KEY_INDEX) {
                var r = "Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().", l = "Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";
                if (e.hasStart()) {
                    if (e.getIndexStartName() != c.MIN_NAME) throw new Error(r);
                    if ("string" != typeof t) throw new Error(l);
                }
                if (e.hasEnd()) {
                    if (e.getIndexEndName() != c.MAX_NAME) throw new Error(r);
                    if ("string" != typeof n) throw new Error(l);
                }
            } else if (e.getIndex() === a.PRIORITY_INDEX) {
                if (null != t && !h.isValidPriority(t) || null != n && !h.isValidPriority(n)) throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");
            } else if (o.assert(e.getIndex() instanceof u.PathIndex || e.getIndex() === s.VALUE_INDEX, "unknown index type."), 
            null != t && "object" == typeof t || null != n && "object" == typeof n) throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
        }, e.validateLimit_ = function(e) {
            if (e.hasStart() && e.hasEnd() && e.hasLimit() && !e.hasAnchoredLimit()) throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");
        }, e.prototype.validateNoPreviousOrderByCall_ = function(e) {
            if (!0 === this.orderByCalled_) throw new Error(e + ": You can't combine multiple orderBy calls.");
        }, e.prototype.getQueryParams = function() {
            return this.queryParams_;
        }, e.prototype.getRef = function() {
            return p.validateArgCount("Query.ref", 0, 0, arguments.length), new e.__referenceConstructor(this.repo, this.path);
        }, e.prototype.on = function(t, n, r, o) {
            p.validateArgCount("Query.on", 2, 4, arguments.length), h.validateEventType("Query.on", 1, t, !1), 
            p.validateCallback("Query.on", 2, n, !1);
            var i = e.getCancelAndContextArgs_("Query.on", r, o);
            if ("value" === t) this.onValueEvent(n, i.cancel, i.context); else {
                var a = {};
                a[t] = n, this.onChildEvent(a, i.cancel, i.context);
            }
            return n;
        }, e.prototype.onValueEvent = function(e, t, n) {
            var r = new d.ValueEventRegistration(e, t || null, n || null);
            this.repo.addEventCallbackForQuery(this, r);
        }, e.prototype.onChildEvent = function(e, t, n) {
            var r = new d.ChildEventRegistration(e, t, n);
            this.repo.addEventCallbackForQuery(this, r);
        }, e.prototype.off = function(e, t, n) {
            p.validateArgCount("Query.off", 0, 3, arguments.length), h.validateEventType("Query.off", 1, e, !0), 
            p.validateCallback("Query.off", 2, t, !0), p.validateContextObject("Query.off", 3, n, !0);
            var r = null, o = null;
            if ("value" === e) {
                var i = t || null;
                r = new d.ValueEventRegistration(i, null, n || null);
            } else e && (t && ((o = {})[e] = t), r = new d.ChildEventRegistration(o, null, n || null));
            this.repo.removeEventCallbackForQuery(this, r);
        }, e.prototype.once = function(t, n, r, o) {
            var i = this;
            p.validateArgCount("Query.once", 1, 4, arguments.length), h.validateEventType("Query.once", 1, t, !1), 
            p.validateCallback("Query.once", 2, n, !0);
            var a = e.getCancelAndContextArgs_("Query.once", r, o), s = !0, u = new f.Deferred();
            u.promise.catch(function() {});
            var c = function(e) {
                s && (s = !1, i.off(t, c), n && n.bind(a.context)(e), u.resolve(e));
            };
            return this.on(t, c, function(e) {
                i.off(t, c), a.cancel && a.cancel.bind(a.context)(e), u.reject(e);
            }), u.promise;
        }, e.prototype.limitToFirst = function(t) {
            if (p.validateArgCount("Query.limitToFirst", 1, 1, arguments.length), "number" != typeof t || Math.floor(t) !== t || t <= 0) throw new Error("Query.limitToFirst: First argument must be a positive integer.");
            if (this.queryParams_.hasLimit()) throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");
            return new e(this.repo, this.path, this.queryParams_.limitToFirst(t), this.orderByCalled_);
        }, e.prototype.limitToLast = function(t) {
            if (p.validateArgCount("Query.limitToLast", 1, 1, arguments.length), "number" != typeof t || Math.floor(t) !== t || t <= 0) throw new Error("Query.limitToLast: First argument must be a positive integer.");
            if (this.queryParams_.hasLimit()) throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");
            return new e(this.repo, this.path, this.queryParams_.limitToLast(t), this.orderByCalled_);
        }, e.prototype.orderByChild = function(t) {
            if (p.validateArgCount("Query.orderByChild", 1, 1, arguments.length), "$key" === t) throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');
            if ("$priority" === t) throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');
            if ("$value" === t) throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');
            h.validatePathString("Query.orderByChild", 1, t, !1), this.validateNoPreviousOrderByCall_("Query.orderByChild");
            var n = new l.Path(t);
            if (n.isEmpty()) throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");
            var r = new u.PathIndex(n), o = this.queryParams_.orderBy(r);
            return e.validateQueryEndpoints_(o), new e(this.repo, this.path, o, !0);
        }, e.prototype.orderByKey = function() {
            p.validateArgCount("Query.orderByKey", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByKey");
            var t = this.queryParams_.orderBy(i.KEY_INDEX);
            return e.validateQueryEndpoints_(t), new e(this.repo, this.path, t, !0);
        }, e.prototype.orderByPriority = function() {
            p.validateArgCount("Query.orderByPriority", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByPriority");
            var t = this.queryParams_.orderBy(a.PRIORITY_INDEX);
            return e.validateQueryEndpoints_(t), new e(this.repo, this.path, t, !0);
        }, e.prototype.orderByValue = function() {
            p.validateArgCount("Query.orderByValue", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByValue");
            var t = this.queryParams_.orderBy(s.VALUE_INDEX);
            return e.validateQueryEndpoints_(t), new e(this.repo, this.path, t, !0);
        }, e.prototype.startAt = function(t, n) {
            void 0 === t && (t = null), p.validateArgCount("Query.startAt", 0, 2, arguments.length), 
            h.validateFirebaseDataArg("Query.startAt", 1, t, this.path, !0), h.validateKey("Query.startAt", 2, n, !0);
            var r = this.queryParams_.startAt(t, n);
            if (e.validateLimit_(r), e.validateQueryEndpoints_(r), this.queryParams_.hasStart()) throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");
            return void 0 === t && (t = null, n = null), new e(this.repo, this.path, r, this.orderByCalled_);
        }, e.prototype.endAt = function(t, n) {
            void 0 === t && (t = null), p.validateArgCount("Query.endAt", 0, 2, arguments.length), 
            h.validateFirebaseDataArg("Query.endAt", 1, t, this.path, !0), h.validateKey("Query.endAt", 2, n, !0);
            var r = this.queryParams_.endAt(t, n);
            if (e.validateLimit_(r), e.validateQueryEndpoints_(r), this.queryParams_.hasEnd()) throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");
            return new e(this.repo, this.path, r, this.orderByCalled_);
        }, e.prototype.equalTo = function(e, t) {
            if (p.validateArgCount("Query.equalTo", 1, 2, arguments.length), h.validateFirebaseDataArg("Query.equalTo", 1, e, this.path, !1), 
            h.validateKey("Query.equalTo", 2, t, !0), this.queryParams_.hasStart()) throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");
            if (this.queryParams_.hasEnd()) throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");
            return this.startAt(e, t).endAt(e, t);
        }, e.prototype.toString = function() {
            return p.validateArgCount("Query.toString", 0, 0, arguments.length), this.repo.toString() + this.path.toUrlEncodedString();
        }, e.prototype.toJSON = function() {
            return p.validateArgCount("Query.toJSON", 0, 1, arguments.length), this.toString();
        }, e.prototype.queryObject = function() {
            return this.queryParams_.getQueryObject();
        }, e.prototype.queryIdentifier = function() {
            var e = this.queryObject(), t = c.ObjectToUniqueKey(e);
            return "{}" === t ? "default" : t;
        }, e.prototype.isEqual = function(t) {
            if (p.validateArgCount("Query.isEqual", 1, 1, arguments.length), !(t instanceof e)) throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");
            var n = this.repo === t.repo, r = this.path.equals(t.path), o = this.queryIdentifier() === t.queryIdentifier();
            return n && r && o;
        }, e.getCancelAndContextArgs_ = function(e, t, n) {
            var r = {
                cancel: null,
                context: null
            };
            if (t && n) r.cancel = t, p.validateCallback(e, 3, r.cancel, !0), r.context = n, 
            p.validateContextObject(e, 4, r.context, !0); else if (t) if ("object" == typeof t && null !== t) r.context = t; else {
                if ("function" != typeof t) throw new Error(p.errorPrefix(e, 3, !0) + " must either be a cancel callback or a context object.");
                r.cancel = t;
            }
            return r;
        }, Object.defineProperty(e.prototype, "ref", {
            get: function() {
                return this.getRef();
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }();
    t.Query = v;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(0), i = n(3), a = n(0);
    function s(e) {
        r = e;
    }
    t.setMaxNode = s, t.priorityHashText = function(e) {
        return "number" == typeof e ? "number:" + i.doubleToIEEE754String(e) : "string:" + e;
    }, t.validatePriorityNode = function(e) {
        if (e.isLeafNode()) {
            var t = e.val();
            o.assert("string" == typeof t || "number" == typeof t || "object" == typeof t && a.contains(t, ".sv"), "Priority must be a string or number.");
        } else o.assert(e === r || e.isEmpty(), "priority of unexpected type.");
        o.assert(e === r || e.getPriority().isEmpty(), "Priority nodes can't have a priority of their own.");
    };
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(33), a = n(12), s = n(3), u = n(29), c = function(e) {
        function t() {
            return null !== e && e.apply(this, arguments) || this;
        }
        return o(t, e), t.prototype.compare = function(e, t) {
            var n = e.node.compareTo(t.node);
            return 0 === n ? s.nameCompare(e.name, t.name) : n;
        }, t.prototype.isDefinedOn = function(e) {
            return !0;
        }, t.prototype.indexedValueChanged = function(e, t) {
            return !e.equals(t);
        }, t.prototype.minPost = function() {
            return a.NamedNode.MIN;
        }, t.prototype.maxPost = function() {
            return a.NamedNode.MAX;
        }, t.prototype.makePost = function(e, t) {
            var n = u.nodeFromJSON(e);
            return new a.NamedNode(t, n);
        }, t.prototype.toString = function() {
            return ".value";
        }, t;
    }(i.Index);
    t.ValueIndex = c, t.VALUE_INDEX = new c();
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(0), i = n(62), a = n(0), s = n(12), u = n(8), c = n(28), l = {}, h = function() {
        function e(e, t) {
            this.indexes_ = e, this.indexSet_ = t;
        }
        return Object.defineProperty(e, "Default", {
            get: function() {
                return o.assert(l && u.PRIORITY_INDEX, "ChildrenNode.ts has not been loaded"), r = r || new e({
                    ".priority": l
                }, {
                    ".priority": u.PRIORITY_INDEX
                });
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.get = function(e) {
            var t = a.safeGet(this.indexes_, e);
            if (!t) throw new Error("No index defined for " + e);
            return t === l ? null : t;
        }, e.prototype.hasIndex = function(e) {
            return a.contains(this.indexSet_, e.toString());
        }, e.prototype.addIndex = function(t, n) {
            o.assert(t !== c.KEY_INDEX, "KeyIndex always exists and isn't meant to be added to the IndexMap.");
            for (var r, u = [], h = !1, p = n.getIterator(s.NamedNode.Wrap), d = p.getNext(); d; ) h = h || t.isDefinedOn(d.node), 
            u.push(d), d = p.getNext();
            r = h ? i.buildChildSet(u, t.getCompare()) : l;
            var f = t.toString(), v = a.clone(this.indexSet_);
            v[f] = t;
            var m = a.clone(this.indexes_);
            return m[f] = r, new e(m, v);
        }, e.prototype.addToIndexes = function(t, n) {
            var r = this;
            return new e(a.map(this.indexes_, function(e, u) {
                var c = a.safeGet(r.indexSet_, u);
                if (o.assert(c, "Missing index implementation for " + u), e === l) {
                    if (c.isDefinedOn(t.node)) {
                        for (var h = [], p = n.getIterator(s.NamedNode.Wrap), d = p.getNext(); d; ) d.name != t.name && h.push(d), 
                        d = p.getNext();
                        return h.push(t), i.buildChildSet(h, c.getCompare());
                    }
                    return l;
                }
                var f = n.get(t.name), v = e;
                return f && (v = v.remove(new s.NamedNode(t.name, f))), v.insert(t, t.node);
            }), this.indexSet_);
        }, e.prototype.removeFromIndexes = function(t, n) {
            return new e(a.map(this.indexes_, function(e) {
                if (e === l) return e;
                var r = n.get(t.name);
                return r ? e.remove(new s.NamedNode(t.name, r)) : e;
            }), this.indexSet_);
        }, e;
    }();
    t.IndexMap = h;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(35), o = n(35), i = Math.log(2), a = function() {
        function e(e) {
            var t = function(e) {
                return parseInt(Math.log(e) / i, 10);
            }, n = function(e) {
                return parseInt(Array(e + 1).join("1"), 2);
            };
            this.count = t(e + 1), this.current_ = this.count - 1;
            var r = n(this.count);
            this.bits_ = e + 1 & r;
        }
        return e.prototype.nextBitIsOne = function() {
            var e = !(this.bits_ & 1 << this.current_);
            return this.current_--, e;
        }, e;
    }();
    t.buildChildSet = function(e, t, n, i) {
        e.sort(t);
        var s = function(t, o) {
            var i, a, u = o - t;
            if (0 == u) return null;
            if (1 == u) return i = e[t], a = n ? n(i) : i, new r.LLRBNode(a, i.node, r.LLRBNode.BLACK, null, null);
            var c = parseInt(u / 2, 10) + t, l = s(t, c), h = s(c + 1, o);
            return i = e[c], a = n ? n(i) : i, new r.LLRBNode(a, i.node, r.LLRBNode.BLACK, l, h);
        }, u = function(t) {
            for (var o = null, i = null, a = e.length, u = function(t, o) {
                var i = a - t, u = a;
                a -= t;
                var l = s(i + 1, u), h = e[i], p = n ? n(h) : h;
                c(new r.LLRBNode(p, h.node, o, null, l));
            }, c = function(e) {
                o ? (o.left = e, o = e) : (i = e, o = e);
            }, l = 0; l < t.count; ++l) {
                var h = t.nextBitIsOne(), p = Math.pow(2, t.count - (l + 1));
                h ? u(p, r.LLRBNode.BLACK) : (u(p, r.LLRBNode.BLACK), u(p, r.LLRBNode.RED));
            }
            return i;
        }(new a(e.length));
        return new o.SortedMap(i || t, u);
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3);
    function o(e, t) {
        return r.nameCompare(e.name, t.name);
    }
    function i(e, t) {
        return r.nameCompare(e, t);
    }
    t.NAME_ONLY_COMPARATOR = o, t.NAME_COMPARATOR = i;
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(0), a = n(3), s = n(33), u = n(11), c = n(12), l = n(29), h = function(e) {
        function t(t) {
            var n = e.call(this) || this;
            return n.indexPath_ = t, i.assert(!t.isEmpty() && ".priority" !== t.getFront(), "Can't create PathIndex with empty path or .priority key"), 
            n;
        }
        return o(t, e), t.prototype.extractChild = function(e) {
            return e.getChild(this.indexPath_);
        }, t.prototype.isDefinedOn = function(e) {
            return !e.getChild(this.indexPath_).isEmpty();
        }, t.prototype.compare = function(e, t) {
            var n = this.extractChild(e.node), r = this.extractChild(t.node), o = n.compareTo(r);
            return 0 === o ? a.nameCompare(e.name, t.name) : o;
        }, t.prototype.makePost = function(e, t) {
            var n = l.nodeFromJSON(e), r = u.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_, n);
            return new c.NamedNode(t, r);
        }, t.prototype.maxPost = function() {
            var e = u.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_, u.MAX_NODE);
            return new c.NamedNode(a.MAX_NAME, e);
        }, t.prototype.toString = function() {
            return this.indexPath_.slice().join("/");
        }, t;
    }(s.Index);
    t.PathIndex = h;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(5), i = n(66), a = n(34), s = n(29), u = n(8);
    t.generateWithValues = function(e) {
        return (e = e || {}).timestamp = e.timestamp || new Date().getTime(), e;
    }, t.resolveDeferredValue = function(e, t) {
        return e && "object" == typeof e ? (r.assert(".sv" in e, "Unexpected leaf node or priority contents"), 
        t[e[".sv"]]) : e;
    }, t.resolveDeferredValueTree = function(e, n) {
        var r = new i.SparseSnapshotTree();
        return e.forEachTree(new o.Path(""), function(e, o) {
            r.remember(e, t.resolveDeferredValueSnapshot(o, n));
        }), r;
    }, t.resolveDeferredValueSnapshot = function(e, n) {
        var r, o = e.getPriority().val(), i = t.resolveDeferredValue(o, n);
        if (e.isLeafNode()) {
            var c = e, l = t.resolveDeferredValue(c.getValue(), n);
            return l !== c.getValue() || i !== c.getPriority().val() ? new a.LeafNode(l, s.nodeFromJSON(i)) : e;
        }
        var h = e;
        return r = h, i !== h.getPriority().val() && (r = r.updatePriority(new a.LeafNode(i))), 
        h.forEachChild(u.PRIORITY_INDEX, function(e, o) {
            var i = t.resolveDeferredValueSnapshot(o, n);
            i !== o && (r = r.updateImmediateChild(e, i));
        }), r;
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(5), o = n(8), i = n(67), a = function() {
        function e() {
            this.value_ = null, this.children_ = null;
        }
        return e.prototype.find = function(e) {
            if (null != this.value_) return this.value_.getChild(e);
            if (e.isEmpty() || null == this.children_) return null;
            var t = e.getFront();
            return e = e.popFront(), this.children_.contains(t) ? this.children_.get(t).find(e) : null;
        }, e.prototype.remember = function(t, n) {
            if (t.isEmpty()) this.value_ = n, this.children_ = null; else if (null !== this.value_) this.value_ = this.value_.updateChild(t, n); else {
                null == this.children_ && (this.children_ = new i.CountedSet());
                var r = t.getFront();
                this.children_.contains(r) || this.children_.add(r, new e());
                var o = this.children_.get(r);
                t = t.popFront(), o.remember(t, n);
            }
        }, e.prototype.forget = function(e) {
            if (e.isEmpty()) return this.value_ = null, this.children_ = null, !0;
            if (null !== this.value_) {
                if (this.value_.isLeafNode()) return !1;
                var t = this.value_;
                this.value_ = null;
                var n = this;
                return t.forEachChild(o.PRIORITY_INDEX, function(e, t) {
                    n.remember(new r.Path(e), t);
                }), this.forget(e);
            }
            if (null !== this.children_) {
                var i = e.getFront();
                if (e = e.popFront(), this.children_.contains(i)) this.children_.get(i).forget(e) && this.children_.remove(i);
                return !!this.children_.isEmpty() && (this.children_ = null, !0);
            }
            return !0;
        }, e.prototype.forEachTree = function(e, t) {
            null !== this.value_ ? t(e, this.value_) : this.forEachChild(function(n, o) {
                var i = new r.Path(e.toString() + "/" + n);
                o.forEachTree(i, t);
            });
        }, e.prototype.forEachChild = function(e) {
            null !== this.children_ && this.children_.each(function(t, n) {
                e(t, n);
            });
        }, e;
    }();
    t.SparseSnapshotTree = a;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = function() {
        function e() {
            this.set = {};
        }
        return e.prototype.add = function(e, t) {
            this.set[e] = null === t || t;
        }, e.prototype.contains = function(e) {
            return r.contains(this.set, e);
        }, e.prototype.get = function(e) {
            return this.contains(e) ? this.set[e] : void 0;
        }, e.prototype.remove = function(e) {
            delete this.set[e];
        }, e.prototype.clear = function() {
            this.set = {};
        }, e.prototype.isEmpty = function() {
            return r.isEmpty(this.set);
        }, e.prototype.count = function() {
            return r.getCount(this.set);
        }, e.prototype.each = function(e) {
            r.forEach(this.set, function(t, n) {
                return e(t, n);
            });
        }, e.prototype.keys = function() {
            var e = [];
            return r.forEach(this.set, function(t) {
                e.push(t);
            }), e;
        }, e;
    }();
    t.CountedSet = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(20), o = n(5), i = function() {
        function e(e, t, n) {
            this.source = e, this.path = t, this.snap = n, this.type = r.OperationType.OVERWRITE;
        }
        return e.prototype.operationForChild = function(t) {
            return this.path.isEmpty() ? new e(this.source, o.Path.Empty, this.snap.getImmediateChild(t)) : new e(this.source, this.path.popFront(), this.snap);
        }, e;
    }();
    t.Overwrite = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(37), i = n(11), a = n(0), s = n(0), u = n(70), c = n(137), l = function() {
        function e() {
            this.views_ = {};
        }
        return Object.defineProperty(e, "__referenceConstructor", {
            get: function() {
                return a.assert(r, "Reference.ts has not been loaded"), r;
            },
            set: function(e) {
                a.assert(!r, "__referenceConstructor has already been defined"), r = e;
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.isEmpty = function() {
            return s.isEmpty(this.views_);
        }, e.prototype.applyOperation = function(e, t, n) {
            var r = e.source.queryId;
            if (null !== r) {
                var o = s.safeGet(this.views_, r);
                return a.assert(null != o, "SyncTree gave us an op for an invalid query."), o.applyOperation(e, t, n);
            }
            var i = [];
            return s.forEach(this.views_, function(r, o) {
                i = i.concat(o.applyOperation(e, t, n));
            }), i;
        }, e.prototype.addEventRegistration = function(e, t, n, r, a) {
            var l = e.queryIdentifier(), h = s.safeGet(this.views_, l);
            if (!h) {
                var p = n.calcCompleteEventCache(a ? r : null), d = !1;
                p ? d = !0 : r instanceof i.ChildrenNode ? (p = n.calcCompleteEventChildren(r), 
                d = !1) : (p = i.ChildrenNode.EMPTY_NODE, d = !1);
                var f = new u.ViewCache(new o.CacheNode(p, d, !1), new o.CacheNode(r, a, !1));
                h = new c.View(e, f), this.views_[l] = h;
            }
            return h.addEventRegistration(t), h.getInitialEvents(t);
        }, e.prototype.removeEventRegistration = function(t, n, r) {
            var o = t.queryIdentifier(), i = [], a = [], u = this.hasCompleteView();
            if ("default" === o) {
                var c = this;
                s.forEach(this.views_, function(e, t) {
                    a = a.concat(t.removeEventRegistration(n, r)), t.isEmpty() && (delete c.views_[e], 
                    t.getQuery().getQueryParams().loadsAllData() || i.push(t.getQuery()));
                });
            } else {
                var l = s.safeGet(this.views_, o);
                l && (a = a.concat(l.removeEventRegistration(n, r)), l.isEmpty() && (delete this.views_[o], 
                l.getQuery().getQueryParams().loadsAllData() || i.push(l.getQuery())));
            }
            return u && !this.hasCompleteView() && i.push(new e.__referenceConstructor(t.repo, t.path)), 
            {
                removed: i,
                events: a
            };
        }, e.prototype.getQueryViews = function() {
            var e = this;
            return Object.keys(this.views_).map(function(t) {
                return e.views_[t];
            }).filter(function(e) {
                return !e.getQuery().getQueryParams().loadsAllData();
            });
        }, e.prototype.getCompleteServerCache = function(e) {
            var t = null;
            return s.forEach(this.views_, function(n, r) {
                t = t || r.getCompleteServerCache(e);
            }), t;
        }, e.prototype.viewForQuery = function(e) {
            if (e.getQueryParams().loadsAllData()) return this.getCompleteView();
            var t = e.queryIdentifier();
            return s.safeGet(this.views_, t);
        }, e.prototype.viewExistsForQuery = function(e) {
            return null != this.viewForQuery(e);
        }, e.prototype.hasCompleteView = function() {
            return null != this.getCompleteView();
        }, e.prototype.getCompleteView = function() {
            return s.findValue(this.views_, function(e) {
                return e.getQuery().getQueryParams().loadsAllData();
            }) || null;
        }, e;
    }();
    t.SyncPoint = l;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(11), o = n(37), i = function() {
        function e(e, t) {
            this.eventCache_ = e, this.serverCache_ = t;
        }
        return e.prototype.updateEventSnap = function(t, n, r) {
            return new e(new o.CacheNode(t, n, r), this.serverCache_);
        }, e.prototype.updateServerSnap = function(t, n, r) {
            return new e(this.eventCache_, new o.CacheNode(t, n, r));
        }, e.prototype.getEventCache = function() {
            return this.eventCache_;
        }, e.prototype.getCompleteEventSnap = function() {
            return this.eventCache_.isFullyInitialized() ? this.eventCache_.getNode() : null;
        }, e.prototype.getServerCache = function() {
            return this.serverCache_;
        }, e.prototype.getCompleteServerSnap = function() {
            return this.serverCache_.isFullyInitialized() ? this.serverCache_.getNode() : null;
        }, e.Empty = new e(new o.CacheNode(r.ChildrenNode.EMPTY_NODE, !1, !1), new o.CacheNode(r.ChildrenNode.EMPTY_NODE, !1, !1)), 
        e;
    }();
    t.ViewCache = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = function() {
        function e(e) {
            this.collection_ = e, this.last_ = null;
        }
        return e.prototype.get = function() {
            var e = this.collection_.get(), t = r.clone(e);
            return this.last_ && r.forEach(this.last_, function(e, n) {
                t[e] = t[e] - n;
            }), this.last_ = e, t;
        }, e;
    }();
    t.StatsListener = o;
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(13), a = n(0), s = n(0), u = n(0), c = n(3), l = n(5), h = n(149), p = n(150), d = n(0), f = n(74), v = n(0), m = n(0), y = 1e3, g = 3e5, _ = 3e4, b = 1.3, w = 3e4, E = "server_kill", T = 3, C = function(e) {
        function t(n, r, o, i, a, s) {
            var u = e.call(this) || this;
            if (u.repoInfo_ = n, u.onDataUpdate_ = r, u.onConnectStatus_ = o, u.onServerInfoUpdate_ = i, 
            u.authTokenProvider_ = a, u.authOverride_ = s, u.id = t.nextPersistentConnectionId_++, 
            u.log_ = c.logWrapper("p:" + u.id + ":"), u.interruptReasons_ = {}, u.listens_ = {}, 
            u.outstandingPuts_ = [], u.outstandingPutCount_ = 0, u.onDisconnectRequestQueue_ = [], 
            u.connected_ = !1, u.reconnectDelay_ = y, u.maxReconnectDelay_ = g, u.securityDebugCallback_ = null, 
            u.lastSessionId = null, u.establishConnectionTimer_ = null, u.visible_ = !1, u.requestCBHash_ = {}, 
            u.requestNumber_ = 0, u.realtime_ = null, u.authToken_ = null, u.forceTokenRefresh_ = !1, 
            u.invalidAuthTokenCount_ = 0, u.firstConnection_ = !0, u.lastConnectionAttemptTime_ = null, 
            u.lastConnectionEstablishedTime_ = null, s && !m.isNodeSdk()) throw new Error("Auth override specified in options, but not supported on non Node.js platforms");
            return u.scheduleConnect_(0), h.VisibilityMonitor.getInstance().on("visible", u.onVisible_, u), 
            -1 === n.host.indexOf("fblocal") && p.OnlineMonitor.getInstance().on("online", u.onOnline_, u), 
            u;
        }
        return o(t, e), t.prototype.sendRequest = function(e, t, n) {
            var r = ++this.requestNumber_, o = {
                r: r,
                a: e,
                b: t
            };
            this.log_(s.stringify(o)), u.assert(this.connected_, "sendRequest call when we're not connected not allowed."), 
            this.realtime_.sendRequest(o), n && (this.requestCBHash_[r] = n);
        }, t.prototype.listen = function(e, t, n, r) {
            var o = e.queryIdentifier(), i = e.path.toString();
            this.log_("Listen called for " + i + " " + o), this.listens_[i] = this.listens_[i] || {}, 
            u.assert(e.getQueryParams().isDefault() || !e.getQueryParams().loadsAllData(), "listen() called for non-default but complete query"), 
            u.assert(!this.listens_[i][o], "listen() called twice for same path/queryId.");
            var a = {
                onComplete: r,
                hashFn: t,
                query: e,
                tag: n
            };
            this.listens_[i][o] = a, this.connected_ && this.sendListen_(a);
        }, t.prototype.sendListen_ = function(e) {
            var n = this, r = e.query, o = r.path.toString(), i = r.queryIdentifier();
            this.log_("Listen on " + o + " for " + i);
            var a = {
                p: o
            }, s = "q";
            e.tag && (a.q = r.queryObject(), a.t = e.tag), a.h = e.hashFn(), this.sendRequest(s, a, function(a) {
                var s = a.d, u = a.s;
                t.warnOnListenWarnings_(s, r), (n.listens_[o] && n.listens_[o][i]) === e && (n.log_("listen response", a), 
                "ok" !== u && n.removeListen_(o, i), e.onComplete && e.onComplete(u, s));
            });
        }, t.warnOnListenWarnings_ = function(e, t) {
            if (e && "object" == typeof e && a.contains(e, "w")) {
                var n = a.safeGet(e, "w");
                if (Array.isArray(n) && ~n.indexOf("no_index")) {
                    var r = '".indexOn": "' + t.getQueryParams().getIndex().toString() + '"', o = t.path.toString();
                    c.warn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding " + r + " at " + o + " to your security rules for better performance.");
                }
            }
        }, t.prototype.refreshAuthToken = function(e) {
            this.authToken_ = e, this.log_("Auth token refreshed"), this.authToken_ ? this.tryAuth() : this.connected_ && this.sendRequest("unauth", {}, function() {}), 
            this.reduceReconnectDelayIfAdminCredential_(e);
        }, t.prototype.reduceReconnectDelayIfAdminCredential_ = function(e) {
            (e && 40 === e.length || d.isAdmin(e)) && (this.log_("Admin auth credential detected.  Reducing max reconnect time."), 
            this.maxReconnectDelay_ = _);
        }, t.prototype.tryAuth = function() {
            var e = this;
            if (this.connected_ && this.authToken_) {
                var t = this.authToken_, n = d.isValidFormat(t) ? "auth" : "gauth", r = {
                    cred: t
                };
                null === this.authOverride_ ? r.noauth = !0 : "object" == typeof this.authOverride_ && (r.authvar = this.authOverride_), 
                this.sendRequest(n, r, function(n) {
                    var r = n.s, o = n.d || "error";
                    e.authToken_ === t && ("ok" === r ? e.invalidAuthTokenCount_ = 0 : e.onAuthRevoked_(r, o));
                });
            }
        }, t.prototype.unlisten = function(e, t) {
            var n = e.path.toString(), r = e.queryIdentifier();
            this.log_("Unlisten called for " + n + " " + r), u.assert(e.getQueryParams().isDefault() || !e.getQueryParams().loadsAllData(), "unlisten() called for non-default but complete query"), 
            this.removeListen_(n, r) && this.connected_ && this.sendUnlisten_(n, r, e.queryObject(), t);
        }, t.prototype.sendUnlisten_ = function(e, t, n, r) {
            this.log_("Unlisten on " + e + " for " + t);
            var o = {
                p: e
            }, i = "n";
            r && (o.q = n, o.t = r), this.sendRequest(i, o);
        }, t.prototype.onDisconnectPut = function(e, t, n) {
            this.connected_ ? this.sendOnDisconnect_("o", e, t, n) : this.onDisconnectRequestQueue_.push({
                pathString: e,
                action: "o",
                data: t,
                onComplete: n
            });
        }, t.prototype.onDisconnectMerge = function(e, t, n) {
            this.connected_ ? this.sendOnDisconnect_("om", e, t, n) : this.onDisconnectRequestQueue_.push({
                pathString: e,
                action: "om",
                data: t,
                onComplete: n
            });
        }, t.prototype.onDisconnectCancel = function(e, t) {
            this.connected_ ? this.sendOnDisconnect_("oc", e, null, t) : this.onDisconnectRequestQueue_.push({
                pathString: e,
                action: "oc",
                data: null,
                onComplete: t
            });
        }, t.prototype.sendOnDisconnect_ = function(e, t, n, r) {
            var o = {
                p: t,
                d: n
            };
            this.log_("onDisconnect " + e, o), this.sendRequest(e, o, function(e) {
                r && setTimeout(function() {
                    r(e.s, e.d);
                }, Math.floor(0));
            });
        }, t.prototype.put = function(e, t, n, r) {
            this.putInternal("p", e, t, n, r);
        }, t.prototype.merge = function(e, t, n, r) {
            this.putInternal("m", e, t, n, r);
        }, t.prototype.putInternal = function(e, t, n, r, o) {
            var i = {
                p: t,
                d: n
            };
            void 0 !== o && (i.h = o), this.outstandingPuts_.push({
                action: e,
                request: i,
                onComplete: r
            }), this.outstandingPutCount_++;
            var a = this.outstandingPuts_.length - 1;
            this.connected_ ? this.sendPut_(a) : this.log_("Buffering put: " + t);
        }, t.prototype.sendPut_ = function(e) {
            var t = this, n = this.outstandingPuts_[e].action, r = this.outstandingPuts_[e].request, o = this.outstandingPuts_[e].onComplete;
            this.outstandingPuts_[e].queued = this.connected_, this.sendRequest(n, r, function(r) {
                t.log_(n + " response", r), delete t.outstandingPuts_[e], t.outstandingPutCount_--, 
                0 === t.outstandingPutCount_ && (t.outstandingPuts_ = []), o && o(r.s, r.d);
            });
        }, t.prototype.reportStats = function(e) {
            var t = this;
            if (this.connected_) {
                var n = {
                    c: e
                };
                this.log_("reportStats", n), this.sendRequest("s", n, function(e) {
                    if ("ok" !== e.s) {
                        var n = e.d;
                        t.log_("reportStats", "Error sending stats: " + n);
                    }
                });
            }
        }, t.prototype.onDataMessage_ = function(e) {
            if ("r" in e) {
                this.log_("from server: " + s.stringify(e));
                var t = e.r, n = this.requestCBHash_[t];
                n && (delete this.requestCBHash_[t], n(e.b));
            } else {
                if ("error" in e) throw "A server-side error has occurred: " + e.error;
                "a" in e && this.onDataPush_(e.a, e.b);
            }
        }, t.prototype.onDataPush_ = function(e, t) {
            this.log_("handleServerMessage", e, t), "d" === e ? this.onDataUpdate_(t.p, t.d, !1, t.t) : "m" === e ? this.onDataUpdate_(t.p, t.d, !0, t.t) : "c" === e ? this.onListenRevoked_(t.p, t.q) : "ac" === e ? this.onAuthRevoked_(t.s, t.d) : "sd" === e ? this.onSecurityDebugPacket_(t) : c.error("Unrecognized action received from server: " + s.stringify(e) + "\nAre you using the latest client?");
        }, t.prototype.onReady_ = function(e, t) {
            this.log_("connection ready"), this.connected_ = !0, this.lastConnectionEstablishedTime_ = new Date().getTime(), 
            this.handleTimestamp_(e), this.lastSessionId = t, this.firstConnection_ && this.sendConnectStats_(), 
            this.restoreState_(), this.firstConnection_ = !1, this.onConnectStatus_(!0);
        }, t.prototype.scheduleConnect_ = function(e) {
            var t = this;
            u.assert(!this.realtime_, "Scheduling a connect when we're already connected/ing?"), 
            this.establishConnectionTimer_ && clearTimeout(this.establishConnectionTimer_), 
            this.establishConnectionTimer_ = setTimeout(function() {
                t.establishConnectionTimer_ = null, t.establishConnection_();
            }, Math.floor(e));
        }, t.prototype.onVisible_ = function(e) {
            e && !this.visible_ && this.reconnectDelay_ === this.maxReconnectDelay_ && (this.log_("Window became visible.  Reducing delay."), 
            this.reconnectDelay_ = y, this.realtime_ || this.scheduleConnect_(0)), this.visible_ = e;
        }, t.prototype.onOnline_ = function(e) {
            e ? (this.log_("Browser went online."), this.reconnectDelay_ = y, this.realtime_ || this.scheduleConnect_(0)) : (this.log_("Browser went offline.  Killing connection."), 
            this.realtime_ && this.realtime_.close());
        }, t.prototype.onRealtimeDisconnect_ = function() {
            if (this.log_("data client disconnected"), this.connected_ = !1, this.realtime_ = null, 
            this.cancelSentTransactions_(), this.requestCBHash_ = {}, this.shouldReconnect_()) {
                if (this.visible_) {
                    if (this.lastConnectionEstablishedTime_) {
                        new Date().getTime() - this.lastConnectionEstablishedTime_ > w && (this.reconnectDelay_ = y), 
                        this.lastConnectionEstablishedTime_ = null;
                    }
                } else this.log_("Window isn't visible.  Delaying reconnect."), this.reconnectDelay_ = this.maxReconnectDelay_, 
                this.lastConnectionAttemptTime_ = new Date().getTime();
                var e = new Date().getTime() - this.lastConnectionAttemptTime_, t = Math.max(0, this.reconnectDelay_ - e);
                t = Math.random() * t, this.log_("Trying to reconnect in " + t + "ms"), this.scheduleConnect_(t), 
                this.reconnectDelay_ = Math.min(this.maxReconnectDelay_, this.reconnectDelay_ * b);
            }
            this.onConnectStatus_(!1);
        }, t.prototype.establishConnection_ = function() {
            if (this.shouldReconnect_()) {
                this.log_("Making a connection attempt"), this.lastConnectionAttemptTime_ = new Date().getTime(), 
                this.lastConnectionEstablishedTime_ = null;
                var e = this.onDataMessage_.bind(this), n = this.onReady_.bind(this), r = this.onRealtimeDisconnect_.bind(this), o = this.id + ":" + t.nextConnectionId_++, i = this, a = this.lastSessionId, s = !1, l = null, h = function() {
                    l ? l.close() : (s = !0, r());
                }, p = function(e) {
                    u.assert(l, "sendRequest call when we're not connected not allowed."), l.sendRequest(e);
                };
                this.realtime_ = {
                    close: h,
                    sendRequest: p
                };
                var d = this.forceTokenRefresh_;
                this.forceTokenRefresh_ = !1, this.authTokenProvider_.getToken(d).then(function(t) {
                    s ? c.log("getToken() completed but was canceled") : (c.log("getToken() completed. Creating connection."), 
                    i.authToken_ = t && t.accessToken, l = new f.Connection(o, i.repoInfo_, e, n, r, function(e) {
                        c.warn(e + " (" + i.repoInfo_.toString() + ")"), i.interrupt(E);
                    }, a));
                }).then(null, function(e) {
                    i.log_("Failed to get token: " + e), s || (v.CONSTANTS.NODE_ADMIN && c.warn(e), 
                    h());
                });
            }
        }, t.prototype.interrupt = function(e) {
            c.log("Interrupting connection for reason: " + e), this.interruptReasons_[e] = !0, 
            this.realtime_ ? this.realtime_.close() : (this.establishConnectionTimer_ && (clearTimeout(this.establishConnectionTimer_), 
            this.establishConnectionTimer_ = null), this.connected_ && this.onRealtimeDisconnect_());
        }, t.prototype.resume = function(e) {
            c.log("Resuming connection for reason: " + e), delete this.interruptReasons_[e], 
            a.isEmpty(this.interruptReasons_) && (this.reconnectDelay_ = y, this.realtime_ || this.scheduleConnect_(0));
        }, t.prototype.handleTimestamp_ = function(e) {
            var t = e - new Date().getTime();
            this.onServerInfoUpdate_({
                serverTimeOffset: t
            });
        }, t.prototype.cancelSentTransactions_ = function() {
            for (var e = 0; e < this.outstandingPuts_.length; e++) {
                var t = this.outstandingPuts_[e];
                t && "h" in t.request && t.queued && (t.onComplete && t.onComplete("disconnect"), 
                delete this.outstandingPuts_[e], this.outstandingPutCount_--);
            }
            0 === this.outstandingPutCount_ && (this.outstandingPuts_ = []);
        }, t.prototype.onListenRevoked_ = function(e, t) {
            var n;
            n = t ? t.map(function(e) {
                return c.ObjectToUniqueKey(e);
            }).join("$") : "default";
            var r = this.removeListen_(e, n);
            r && r.onComplete && r.onComplete("permission_denied");
        }, t.prototype.removeListen_ = function(e, t) {
            var n, r = new l.Path(e).toString();
            return void 0 !== this.listens_[r] ? (n = this.listens_[r][t], delete this.listens_[r][t], 
            0 === a.getCount(this.listens_[r]) && delete this.listens_[r]) : n = void 0, n;
        }, t.prototype.onAuthRevoked_ = function(e, t) {
            c.log("Auth token revoked: " + e + "/" + t), this.authToken_ = null, this.forceTokenRefresh_ = !0, 
            this.realtime_.close(), "invalid_token" !== e && "permission_denied" !== e || (this.invalidAuthTokenCount_++, 
            this.invalidAuthTokenCount_ >= T && (this.reconnectDelay_ = _, this.authTokenProvider_.notifyForInvalidToken()));
        }, t.prototype.onSecurityDebugPacket_ = function(e) {
            this.securityDebugCallback_ && this.securityDebugCallback_(e);
        }, t.prototype.restoreState_ = function() {
            var e = this;
            this.tryAuth(), a.forEach(this.listens_, function(t, n) {
                a.forEach(n, function(t, n) {
                    e.sendListen_(n);
                });
            });
            for (var t = 0; t < this.outstandingPuts_.length; t++) this.outstandingPuts_[t] && this.sendPut_(t);
            for (;this.onDisconnectRequestQueue_.length; ) {
                var n = this.onDisconnectRequestQueue_.shift();
                this.sendOnDisconnect_(n.action, n.pathString, n.data, n.onComplete);
            }
        }, t.prototype.sendConnectStats_ = function() {
            var e = {}, t = "js";
            v.CONSTANTS.NODE_ADMIN ? t = "admin_node" : v.CONSTANTS.NODE_CLIENT && (t = "node"), 
            e["sdk." + t + "." + i.default.SDK_VERSION.replace(/\./g, "-")] = 1, m.isMobileCordova() ? e["framework.cordova"] = 1 : m.isReactNative() && (e["framework.reactnative"] = 1), 
            this.reportStats(e);
        }, t.prototype.shouldReconnect_ = function() {
            var e = p.OnlineMonitor.getInstance().currentlyOnline();
            return a.isEmpty(this.interruptReasons_) && e;
        }, t.nextPersistentConnectionId_ = 0, t.nextConnectionId_ = 0, t;
    }(n(77).ServerActions);
    t.PersistentConnection = C;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = function() {
        function e(e) {
            this.allowedEvents_ = e, this.listeners_ = {}, r.assert(Array.isArray(e) && e.length > 0, "Requires a non-empty array");
        }
        return e.prototype.trigger = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            if (Array.isArray(this.listeners_[e])) for (var r = this.listeners_[e].slice(), o = 0; o < r.length; o++) r[o].callback.apply(r[o].context, t);
        }, e.prototype.on = function(e, t, n) {
            this.validateEventType_(e), this.listeners_[e] = this.listeners_[e] || [], this.listeners_[e].push({
                callback: t,
                context: n
            });
            var r = this.getInitialEvent(e);
            r && t.apply(n, r);
        }, e.prototype.off = function(e, t, n) {
            this.validateEventType_(e);
            for (var r = this.listeners_[e] || [], o = 0; o < r.length; o++) if (r[o].callback === t && (!n || n === r[o].context)) return void r.splice(o, 1);
        }, e.prototype.validateEventType_ = function(e) {
            r.assert(this.allowedEvents_.find(function(t) {
                return t === e;
            }), "Unknown event: " + e);
        }, e;
    }();
    t.EventEmitter = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3), o = n(31), i = n(32), a = n(151), s = 6e4, u = 5e3, c = 10240, l = 102400, h = "t", p = "d", d = "s", f = "r", v = "e", m = "o", y = "a", g = "n", _ = "p", b = "h", w = function() {
        function e(e, t, n, o, i, s, u) {
            this.id = e, this.repoInfo_ = t, this.onMessage_ = n, this.onReady_ = o, this.onDisconnect_ = i, 
            this.onKill_ = s, this.lastSessionId = u, this.connectionCount = 0, this.pendingDataMessages = [], 
            this.state_ = 0, this.log_ = r.logWrapper("c:" + this.id + ":"), this.transportManager_ = new a.TransportManager(t), 
            this.log_("Connection created"), this.start_();
        }
        return e.prototype.start_ = function() {
            var e = this, t = this.transportManager_.initialTransport();
            this.conn_ = new t(this.nextTransportId_(), this.repoInfo_, void 0, this.lastSessionId), 
            this.primaryResponsesRequired_ = t.responsesRequiredToBeHealthy || 0;
            var n = this.connReceiver_(this.conn_), o = this.disconnReceiver_(this.conn_);
            this.tx_ = this.conn_, this.rx_ = this.conn_, this.secondaryConn_ = null, this.isHealthy_ = !1, 
            setTimeout(function() {
                e.conn_ && e.conn_.open(n, o);
            }, Math.floor(0));
            var i = t.healthyTimeout || 0;
            i > 0 && (this.healthyTimeout_ = r.setTimeoutNonBlocking(function() {
                e.healthyTimeout_ = null, e.isHealthy_ || (e.conn_ && e.conn_.bytesReceived > l ? (e.log_("Connection exceeded healthy timeout but has received " + e.conn_.bytesReceived + " bytes.  Marking connection healthy."), 
                e.isHealthy_ = !0, e.conn_.markConnectionHealthy()) : e.conn_ && e.conn_.bytesSent > c ? e.log_("Connection exceeded healthy timeout but has sent " + e.conn_.bytesSent + " bytes.  Leaving connection alive.") : (e.log_("Closing unhealthy connection after timeout."), 
                e.close()));
            }, Math.floor(i)));
        }, e.prototype.nextTransportId_ = function() {
            return "c:" + this.id + ":" + this.connectionCount++;
        }, e.prototype.disconnReceiver_ = function(e) {
            var t = this;
            return function(n) {
                e === t.conn_ ? t.onConnectionLost_(n) : e === t.secondaryConn_ ? (t.log_("Secondary connection lost."), 
                t.onSecondaryConnectionLost_()) : t.log_("closing an old connection");
            };
        }, e.prototype.connReceiver_ = function(e) {
            var t = this;
            return function(n) {
                2 != t.state_ && (e === t.rx_ ? t.onPrimaryMessageReceived_(n) : e === t.secondaryConn_ ? t.onSecondaryMessageReceived_(n) : t.log_("message on old connection"));
            };
        }, e.prototype.sendRequest = function(e) {
            var t = {
                t: "d",
                d: e
            };
            this.sendData_(t);
        }, e.prototype.tryCleanupConnection = function() {
            this.tx_ === this.secondaryConn_ && this.rx_ === this.secondaryConn_ && (this.log_("cleaning up and promoting a connection: " + this.secondaryConn_.connId), 
            this.conn_ = this.secondaryConn_, this.secondaryConn_ = null);
        }, e.prototype.onSecondaryControl_ = function(e) {
            if (h in e) {
                var t = e[h];
                t === y ? this.upgradeIfSecondaryHealthy_() : t === f ? (this.log_("Got a reset on secondary, closing it"), 
                this.secondaryConn_.close(), this.tx_ !== this.secondaryConn_ && this.rx_ !== this.secondaryConn_ || this.close()) : t === m && (this.log_("got pong on secondary."), 
                this.secondaryResponsesRequired_--, this.upgradeIfSecondaryHealthy_());
            }
        }, e.prototype.onSecondaryMessageReceived_ = function(e) {
            var t = r.requireKey("t", e), n = r.requireKey("d", e);
            if ("c" == t) this.onSecondaryControl_(n); else {
                if ("d" != t) throw new Error("Unknown protocol layer: " + t);
                this.pendingDataMessages.push(n);
            }
        }, e.prototype.upgradeIfSecondaryHealthy_ = function() {
            this.secondaryResponsesRequired_ <= 0 ? (this.log_("Secondary connection is healthy."), 
            this.isHealthy_ = !0, this.secondaryConn_.markConnectionHealthy(), this.proceedWithUpgrade_()) : (this.log_("sending ping on secondary."), 
            this.secondaryConn_.send({
                t: "c",
                d: {
                    t: _,
                    d: {}
                }
            }));
        }, e.prototype.proceedWithUpgrade_ = function() {
            this.secondaryConn_.start(), this.log_("sending client ack on secondary"), this.secondaryConn_.send({
                t: "c",
                d: {
                    t: y,
                    d: {}
                }
            }), this.log_("Ending transmission on primary"), this.conn_.send({
                t: "c",
                d: {
                    t: g,
                    d: {}
                }
            }), this.tx_ = this.secondaryConn_, this.tryCleanupConnection();
        }, e.prototype.onPrimaryMessageReceived_ = function(e) {
            var t = r.requireKey("t", e), n = r.requireKey("d", e);
            "c" == t ? this.onControl_(n) : "d" == t && this.onDataMessage_(n);
        }, e.prototype.onDataMessage_ = function(e) {
            this.onPrimaryResponse_(), this.onMessage_(e);
        }, e.prototype.onPrimaryResponse_ = function() {
            this.isHealthy_ || (this.primaryResponsesRequired_--, this.primaryResponsesRequired_ <= 0 && (this.log_("Primary connection is healthy."), 
            this.isHealthy_ = !0, this.conn_.markConnectionHealthy()));
        }, e.prototype.onControl_ = function(e) {
            var t = r.requireKey(h, e);
            if (p in e) {
                var n = e[p];
                if (t === b) this.onHandshake_(n); else if (t === g) {
                    this.log_("recvd end transmission on primary"), this.rx_ = this.secondaryConn_;
                    for (var o = 0; o < this.pendingDataMessages.length; ++o) this.onDataMessage_(this.pendingDataMessages[o]);
                    this.pendingDataMessages = [], this.tryCleanupConnection();
                } else t === d ? this.onConnectionShutdown_(n) : t === f ? this.onReset_(n) : t === v ? r.error("Server Error: " + n) : t === m ? (this.log_("got pong on primary."), 
                this.onPrimaryResponse_(), this.sendPingOnPrimaryIfNecessary_()) : r.error("Unknown control packet command: " + t);
            }
        }, e.prototype.onHandshake_ = function(e) {
            var t = e.ts, n = e.v, o = e.h;
            this.sessionId = e.s, this.repoInfo_.updateHost(o), 0 == this.state_ && (this.conn_.start(), 
            this.onConnectionEstablished_(this.conn_, t), i.PROTOCOL_VERSION !== n && r.warn("Protocol version mismatch detected"), 
            this.tryStartUpgrade_());
        }, e.prototype.tryStartUpgrade_ = function() {
            var e = this.transportManager_.upgradeTransport();
            e && this.startUpgrade_(e);
        }, e.prototype.startUpgrade_ = function(e) {
            var t = this;
            this.secondaryConn_ = new e(this.nextTransportId_(), this.repoInfo_, this.sessionId), 
            this.secondaryResponsesRequired_ = e.responsesRequiredToBeHealthy || 0;
            var n = this.connReceiver_(this.secondaryConn_), o = this.disconnReceiver_(this.secondaryConn_);
            this.secondaryConn_.open(n, o), r.setTimeoutNonBlocking(function() {
                t.secondaryConn_ && (t.log_("Timed out trying to upgrade."), t.secondaryConn_.close());
            }, Math.floor(s));
        }, e.prototype.onReset_ = function(e) {
            this.log_("Reset packet received.  New host: " + e), this.repoInfo_.updateHost(e), 
            1 === this.state_ ? this.close() : (this.closeConnections_(), this.start_());
        }, e.prototype.onConnectionEstablished_ = function(e, t) {
            var n = this;
            this.log_("Realtime connection established."), this.conn_ = e, this.state_ = 1, 
            this.onReady_ && (this.onReady_(t, this.sessionId), this.onReady_ = null), 0 === this.primaryResponsesRequired_ ? (this.log_("Primary connection is healthy."), 
            this.isHealthy_ = !0) : r.setTimeoutNonBlocking(function() {
                n.sendPingOnPrimaryIfNecessary_();
            }, Math.floor(u));
        }, e.prototype.sendPingOnPrimaryIfNecessary_ = function() {
            this.isHealthy_ || 1 !== this.state_ || (this.log_("sending ping on primary."), 
            this.sendData_({
                t: "c",
                d: {
                    t: _,
                    d: {}
                }
            }));
        }, e.prototype.onSecondaryConnectionLost_ = function() {
            var e = this.secondaryConn_;
            this.secondaryConn_ = null, this.tx_ !== e && this.rx_ !== e || this.close();
        }, e.prototype.onConnectionLost_ = function(e) {
            this.conn_ = null, e || 0 !== this.state_ ? 1 === this.state_ && this.log_("Realtime connection lost.") : (this.log_("Realtime connection failed."), 
            this.repoInfo_.isCacheableHost() && (o.PersistentStorage.remove("host:" + this.repoInfo_.host), 
            this.repoInfo_.internalHost = this.repoInfo_.host)), this.close();
        }, e.prototype.onConnectionShutdown_ = function(e) {
            this.log_("Connection shutdown command received. Shutting down..."), this.onKill_ && (this.onKill_(e), 
            this.onKill_ = null), this.onDisconnect_ = null, this.close();
        }, e.prototype.sendData_ = function(e) {
            if (1 !== this.state_) throw "Connection is not connected";
            this.tx_.send(e);
        }, e.prototype.close = function() {
            2 !== this.state_ && (this.log_("Closing realtime connection."), this.state_ = 2, 
            this.closeConnections_(), this.onDisconnect_ && (this.onDisconnect_(), this.onDisconnect_ = null));
        }, e.prototype.closeConnections_ = function() {
            this.log_("Shutting down all connections"), this.conn_ && (this.conn_.close(), this.conn_ = null), 
            this.secondaryConn_ && (this.secondaryConn_.close(), this.secondaryConn_ = null), 
            this.healthyTimeout_ && (clearTimeout(this.healthyTimeout_), this.healthyTimeout_ = null);
        }, e;
    }();
    t.Connection = w;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3), o = n(67), i = n(45), a = n(152), s = n(32), u = n(0), c = n(0);
    t.FIREBASE_LONGPOLL_START_PARAM = "start", t.FIREBASE_LONGPOLL_CLOSE_COMMAND = "close", 
    t.FIREBASE_LONGPOLL_COMMAND_CB_NAME = "pLPCommand", t.FIREBASE_LONGPOLL_DATA_CB_NAME = "pRTLPCB", 
    t.FIREBASE_LONGPOLL_ID_PARAM = "id", t.FIREBASE_LONGPOLL_PW_PARAM = "pw", t.FIREBASE_LONGPOLL_SERIAL_PARAM = "ser", 
    t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM = "cb", t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM = "seg", 
    t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET = "ts", t.FIREBASE_LONGPOLL_DATA_PARAM = "d", 
    t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM = "disconn", t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM = "dframe";
    var l = 1870, h = 30, p = l - h, d = 25e3, f = 3e4, v = function() {
        function e(e, t, n, o) {
            this.connId = e, this.repoInfo = t, this.transportSessionId = n, this.lastSessionId = o, 
            this.bytesSent = 0, this.bytesReceived = 0, this.everConnected_ = !1, this.log_ = r.logWrapper(e), 
            this.stats_ = i.StatsManager.getCollection(t), this.urlFn = function(e) {
                return t.connectionURL(s.LONG_POLLING, e);
            };
        }
        return e.prototype.open = function(e, n) {
            var o = this;
            this.curSegmentNum = 0, this.onDisconnect_ = n, this.myPacketOrderer = new a.PacketReceiver(e), 
            this.isClosed_ = !1, this.connectTimeoutTimer_ = setTimeout(function() {
                o.log_("Timed out trying to connect."), o.onClosed_(), o.connectTimeoutTimer_ = null;
            }, Math.floor(f)), r.executeWhenDOMReady(function() {
                if (!o.isClosed_) {
                    o.scriptTagHolder = new m(function() {
                        for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                        var r = e[0], i = e[1], a = e[2];
                        e[3], e[4];
                        if (o.incrementIncomingBytes_(e), o.scriptTagHolder) if (o.connectTimeoutTimer_ && (clearTimeout(o.connectTimeoutTimer_), 
                        o.connectTimeoutTimer_ = null), o.everConnected_ = !0, r == t.FIREBASE_LONGPOLL_START_PARAM) o.id = i, 
                        o.password = a; else {
                            if (r !== t.FIREBASE_LONGPOLL_CLOSE_COMMAND) throw new Error("Unrecognized command received: " + r);
                            i ? (o.scriptTagHolder.sendNewPolls = !1, o.myPacketOrderer.closeAfter(i, function() {
                                o.onClosed_();
                            })) : o.onClosed_();
                        }
                    }, function() {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0], r = e[1];
                        o.incrementIncomingBytes_(e), o.myPacketOrderer.handleResponse(n, r);
                    }, function() {
                        o.onClosed_();
                    }, o.urlFn);
                    var e = {};
                    e[t.FIREBASE_LONGPOLL_START_PARAM] = "t", e[t.FIREBASE_LONGPOLL_SERIAL_PARAM] = Math.floor(1e8 * Math.random()), 
                    o.scriptTagHolder.uniqueCallbackIdentifier && (e[t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM] = o.scriptTagHolder.uniqueCallbackIdentifier), 
                    e[s.VERSION_PARAM] = s.PROTOCOL_VERSION, o.transportSessionId && (e[s.TRANSPORT_SESSION_PARAM] = o.transportSessionId), 
                    o.lastSessionId && (e[s.LAST_SESSION_PARAM] = o.lastSessionId), !c.isNodeSdk() && "undefined" != typeof location && location.href && -1 !== location.href.indexOf(s.FORGE_DOMAIN) && (e[s.REFERER_PARAM] = s.FORGE_REF);
                    var n = o.urlFn(e);
                    o.log_("Connecting via long-poll to " + n), o.scriptTagHolder.addTag(n, function() {});
                }
            });
        }, e.prototype.start = function() {
            this.scriptTagHolder.startLongPoll(this.id, this.password), this.addDisconnectPingFrame(this.id, this.password);
        }, e.forceAllow = function() {
            e.forceAllow_ = !0;
        }, e.forceDisallow = function() {
            e.forceDisallow_ = !0;
        }, e.isAvailable = function() {
            return e.forceAllow_ || !e.forceDisallow_ && "undefined" != typeof document && null != document.createElement && !r.isChromeExtensionContentScript() && !r.isWindowsStoreApp() && !c.isNodeSdk();
        }, e.prototype.markConnectionHealthy = function() {}, e.prototype.shutdown_ = function() {
            this.isClosed_ = !0, this.scriptTagHolder && (this.scriptTagHolder.close(), this.scriptTagHolder = null), 
            this.myDisconnFrame && (document.body.removeChild(this.myDisconnFrame), this.myDisconnFrame = null), 
            this.connectTimeoutTimer_ && (clearTimeout(this.connectTimeoutTimer_), this.connectTimeoutTimer_ = null);
        }, e.prototype.onClosed_ = function() {
            this.isClosed_ || (this.log_("Longpoll is closing itself"), this.shutdown_(), this.onDisconnect_ && (this.onDisconnect_(this.everConnected_), 
            this.onDisconnect_ = null));
        }, e.prototype.close = function() {
            this.isClosed_ || (this.log_("Longpoll is being closed."), this.shutdown_());
        }, e.prototype.send = function(e) {
            var t = u.stringify(e);
            this.bytesSent += t.length, this.stats_.incrementCounter("bytes_sent", t.length);
            for (var n = u.base64Encode(t), o = r.splitStringBySize(n, p), i = 0; i < o.length; i++) this.scriptTagHolder.enqueueSegment(this.curSegmentNum, o.length, o[i]), 
            this.curSegmentNum++;
        }, e.prototype.addDisconnectPingFrame = function(e, n) {
            if (!c.isNodeSdk()) {
                this.myDisconnFrame = document.createElement("iframe");
                var r = {};
                r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM] = "t", r[t.FIREBASE_LONGPOLL_ID_PARAM] = e, 
                r[t.FIREBASE_LONGPOLL_PW_PARAM] = n, this.myDisconnFrame.src = this.urlFn(r), this.myDisconnFrame.style.display = "none", 
                document.body.appendChild(this.myDisconnFrame);
            }
        }, e.prototype.incrementIncomingBytes_ = function(e) {
            var t = u.stringify(e).length;
            this.bytesReceived += t, this.stats_.incrementCounter("bytes_received", t);
        }, e;
    }();
    t.BrowserPollConnection = v;
    var m = function() {
        function e(n, i, a, s) {
            if (this.onDisconnect = a, this.urlFn = s, this.outstandingRequests = new o.CountedSet(), 
            this.pendingSegs = [], this.currentSerial = Math.floor(1e8 * Math.random()), this.sendNewPolls = !0, 
            c.isNodeSdk()) this.commandCB = n, this.onMessageCB = i; else {
                this.uniqueCallbackIdentifier = r.LUIDGenerator(), window[t.FIREBASE_LONGPOLL_COMMAND_CB_NAME + this.uniqueCallbackIdentifier] = n, 
                window[t.FIREBASE_LONGPOLL_DATA_CB_NAME + this.uniqueCallbackIdentifier] = i, this.myIFrame = e.createIFrame_();
                var u = "";
                if (this.myIFrame.src && "javascript:" === this.myIFrame.src.substr(0, "javascript:".length)) u = '<script>document.domain="' + document.domain + '";<\/script>';
                var l = "<html><body>" + u + "</body></html>";
                try {
                    this.myIFrame.doc.open(), this.myIFrame.doc.write(l), this.myIFrame.doc.close();
                } catch (e) {
                    r.log("frame writing exception"), e.stack && r.log(e.stack), r.log(e);
                }
            }
        }
        return e.createIFrame_ = function() {
            var e = document.createElement("iframe");
            if (e.style.display = "none", !document.body) throw "Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
            document.body.appendChild(e);
            try {
                e.contentWindow.document || r.log("No IE domain setting required");
            } catch (n) {
                var t = document.domain;
                e.src = "javascript:void((function(){document.open();document.domain='" + t + "';document.close();})())";
            }
            return e.contentDocument ? e.doc = e.contentDocument : e.contentWindow ? e.doc = e.contentWindow.document : e.document && (e.doc = e.document), 
            e;
        }, e.prototype.close = function() {
            var n = this;
            if (this.alive = !1, this.myIFrame && (this.myIFrame.doc.body.innerHTML = "", setTimeout(function() {
                null !== n.myIFrame && (document.body.removeChild(n.myIFrame), n.myIFrame = null);
            }, Math.floor(0))), c.isNodeSdk() && this.myID) {
                var r = {};
                r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM] = "t", r[t.FIREBASE_LONGPOLL_ID_PARAM] = this.myID, 
                r[t.FIREBASE_LONGPOLL_PW_PARAM] = this.myPW;
                var o = this.urlFn(r);
                e.nodeRestRequest(o);
            }
            var i = this.onDisconnect;
            i && (this.onDisconnect = null, i());
        }, e.prototype.startLongPoll = function(e, t) {
            for (this.myID = e, this.myPW = t, this.alive = !0; this.newRequest_(); ) ;
        }, e.prototype.newRequest_ = function() {
            if (this.alive && this.sendNewPolls && this.outstandingRequests.count() < (this.pendingSegs.length > 0 ? 2 : 1)) {
                this.currentSerial++;
                var e = {};
                e[t.FIREBASE_LONGPOLL_ID_PARAM] = this.myID, e[t.FIREBASE_LONGPOLL_PW_PARAM] = this.myPW, 
                e[t.FIREBASE_LONGPOLL_SERIAL_PARAM] = this.currentSerial;
                for (var n = this.urlFn(e), r = "", o = 0; this.pendingSegs.length > 0; ) {
                    if (!(this.pendingSegs[0].d.length + h + r.length <= l)) break;
                    var i = this.pendingSegs.shift();
                    r = r + "&" + t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM + o + "=" + i.seg + "&" + t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET + o + "=" + i.ts + "&" + t.FIREBASE_LONGPOLL_DATA_PARAM + o + "=" + i.d, 
                    o++;
                }
                return n += r, this.addLongPollTag_(n, this.currentSerial), !0;
            }
            return !1;
        }, e.prototype.enqueueSegment = function(e, t, n) {
            this.pendingSegs.push({
                seg: e,
                ts: t,
                d: n
            }), this.alive && this.newRequest_();
        }, e.prototype.addLongPollTag_ = function(e, t) {
            var n = this;
            this.outstandingRequests.add(t, 1);
            var r = function() {
                n.outstandingRequests.remove(t), n.newRequest_();
            }, o = setTimeout(r, Math.floor(d)), i = function() {
                clearTimeout(o), r();
            };
            this.addTag(e, i);
        }, e.prototype.addTag = function(e, t) {
            var n = this;
            c.isNodeSdk() ? this.doNodeLongPoll(e, t) : setTimeout(function() {
                try {
                    if (!n.sendNewPolls) return;
                    var o = n.myIFrame.doc.createElement("script");
                    o.type = "text/javascript", o.async = !0, o.src = e, o.onload = o.onreadystatechange = function() {
                        var e = o.readyState;
                        e && "loaded" !== e && "complete" !== e || (o.onload = o.onreadystatechange = null, 
                        o.parentNode && o.parentNode.removeChild(o), t());
                    }, o.onerror = function() {
                        r.log("Long-poll script failed to load: " + e), n.sendNewPolls = !1, n.close();
                    }, n.myIFrame.doc.body.appendChild(o);
                } catch (e) {}
            }, Math.floor(1));
        }, e;
    }();
    t.FirebaseIFrameScriptHolder = m;
}, function(e, t, n) {
    "use strict";
    (function(e) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = n(13), o = n(0), i = n(3), a = n(45), s = n(32), u = n(0), c = n(31), l = n(0), h = n(0), p = 16384, d = 45e3, f = null;
        function v(e) {
            f = e;
        }
        "undefined" != typeof MozWebSocket ? f = MozWebSocket : "undefined" != typeof WebSocket && (f = WebSocket), 
        t.setWebSocketImpl = v;
        var m = function() {
            function t(e, n, r, o) {
                this.connId = e, this.keepaliveTimer = null, this.frames = null, this.totalFrames = 0, 
                this.bytesSent = 0, this.bytesReceived = 0, this.log_ = i.logWrapper(this.connId), 
                this.stats_ = a.StatsManager.getCollection(n), this.connURL = t.connectionURL_(n, r, o);
            }
            return t.connectionURL_ = function(e, t, n) {
                var r = {};
                return r[s.VERSION_PARAM] = s.PROTOCOL_VERSION, !h.isNodeSdk() && "undefined" != typeof location && location.href && -1 !== location.href.indexOf(s.FORGE_DOMAIN) && (r[s.REFERER_PARAM] = s.FORGE_REF), 
                t && (r[s.TRANSPORT_SESSION_PARAM] = t), n && (r[s.LAST_SESSION_PARAM] = n), e.connectionURL(s.WEBSOCKET, r);
            }, t.prototype.open = function(t, n) {
                var o = this;
                this.onDisconnect = n, this.onMessage = t, this.log_("Websocket connecting to " + this.connURL), 
                this.everConnected_ = !1, c.PersistentStorage.set("previous_websocket_failure", !0);
                try {
                    if (h.isNodeSdk()) {
                        var i = u.CONSTANTS.NODE_ADMIN ? "AdminNode" : "Node", a = {
                            headers: {
                                "User-Agent": "Firebase/" + s.PROTOCOL_VERSION + "/" + r.default.SDK_VERSION + "/" + e.platform + "/" + i
                            }
                        }, l = Object({
                            BASE_URL: "chrome-extension://hjngolefdpdnooamgdldlkjgmdcmcjnc",
                            VERSION: "17.0.0"
                        }), p = 0 == this.connURL.indexOf("wss://") ? l.HTTPS_PROXY || l.https_proxy : l.HTTP_PROXY || l.http_proxy;
                        p && (a.proxy = {
                            origin: p
                        }), this.mySock = new f(this.connURL, [], a);
                    } else this.mySock = new f(this.connURL);
                } catch (e) {
                    this.log_("Error instantiating WebSocket.");
                    var d = e.message || e.data;
                    return d && this.log_(d), void this.onClosed_();
                }
                this.mySock.onopen = function() {
                    o.log_("Websocket connected."), o.everConnected_ = !0;
                }, this.mySock.onclose = function() {
                    o.log_("Websocket connection was disconnected."), o.mySock = null, o.onClosed_();
                }, this.mySock.onmessage = function(e) {
                    o.handleIncomingFrame(e);
                }, this.mySock.onerror = function(e) {
                    o.log_("WebSocket error.  Closing connection.");
                    var t = e.message || e.data;
                    t && o.log_(t), o.onClosed_();
                };
            }, t.prototype.start = function() {}, t.forceDisallow = function() {
                t.forceDisallow_ = !0;
            }, t.isAvailable = function() {
                var e = !1;
                if ("undefined" != typeof navigator && navigator.userAgent) {
                    var n = /Android ([0-9]{0,}\.[0-9]{0,})/, r = navigator.userAgent.match(n);
                    r && r.length > 1 && parseFloat(r[1]) < 4.4 && (e = !0);
                }
                return !e && null !== f && !t.forceDisallow_;
            }, t.previouslyFailed = function() {
                return c.PersistentStorage.isInMemoryStorage || !0 === c.PersistentStorage.get("previous_websocket_failure");
            }, t.prototype.markConnectionHealthy = function() {
                c.PersistentStorage.remove("previous_websocket_failure");
            }, t.prototype.appendFrame_ = function(e) {
                if (this.frames.push(e), this.frames.length == this.totalFrames) {
                    var t = this.frames.join("");
                    this.frames = null;
                    var n = l.jsonEval(t);
                    this.onMessage(n);
                }
            }, t.prototype.handleNewFrameCount_ = function(e) {
                this.totalFrames = e, this.frames = [];
            }, t.prototype.extractFrameCount_ = function(e) {
                if (o.assert(null === this.frames, "We already have a frame buffer"), e.length <= 6) {
                    var t = Number(e);
                    if (!isNaN(t)) return this.handleNewFrameCount_(t), null;
                }
                return this.handleNewFrameCount_(1), e;
            }, t.prototype.handleIncomingFrame = function(e) {
                if (null !== this.mySock) {
                    var t = e.data;
                    if (this.bytesReceived += t.length, this.stats_.incrementCounter("bytes_received", t.length), 
                    this.resetKeepAlive(), null !== this.frames) this.appendFrame_(t); else {
                        var n = this.extractFrameCount_(t);
                        null !== n && this.appendFrame_(n);
                    }
                }
            }, t.prototype.send = function(e) {
                this.resetKeepAlive();
                var t = l.stringify(e);
                this.bytesSent += t.length, this.stats_.incrementCounter("bytes_sent", t.length);
                var n = i.splitStringBySize(t, p);
                n.length > 1 && this.sendString_(String(n.length));
                for (var r = 0; r < n.length; r++) this.sendString_(n[r]);
            }, t.prototype.shutdown_ = function() {
                this.isClosed_ = !0, this.keepaliveTimer && (clearInterval(this.keepaliveTimer), 
                this.keepaliveTimer = null), this.mySock && (this.mySock.close(), this.mySock = null);
            }, t.prototype.onClosed_ = function() {
                this.isClosed_ || (this.log_("WebSocket is closing itself"), this.shutdown_(), this.onDisconnect && (this.onDisconnect(this.everConnected_), 
                this.onDisconnect = null));
            }, t.prototype.close = function() {
                this.isClosed_ || (this.log_("WebSocket is being closed"), this.shutdown_());
            }, t.prototype.resetKeepAlive = function() {
                var e = this;
                clearInterval(this.keepaliveTimer), this.keepaliveTimer = setInterval(function() {
                    e.mySock && e.sendString_("0"), e.resetKeepAlive();
                }, Math.floor(d));
            }, t.prototype.sendString_ = function(e) {
                try {
                    this.mySock.send(e);
                } catch (e) {
                    this.log_("Exception thrown from WebSocket.send():", e.message || e.data, "Closing connection."), 
                    setTimeout(this.onClosed_.bind(this), 0);
                }
            }, t.responsesRequiredToBeHealthy = 2, t.healthyTimeout = 3e4, t;
        }();
        t.WebSocketConnection = m;
    }).call(this, n(39));
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function() {
        function e() {}
        return e.prototype.put = function(e, t, n, r) {}, e.prototype.merge = function(e, t, n, r) {}, 
        e.prototype.refreshAuthToken = function(e) {}, e.prototype.onDisconnectPut = function(e, t, n) {}, 
        e.prototype.onDisconnectMerge = function(e, t, n) {}, e.prototype.onDisconnectCancel = function(e, t) {}, 
        e.prototype.reportStats = function(e) {}, e;
    }();
    t.ServerActions = r;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(44), o = n(8), i = n(12), a = n(11), s = function() {
        function e(t) {
            this.indexedFilter_ = new r.IndexedFilter(t.getIndex()), this.index_ = t.getIndex(), 
            this.startPost_ = e.getStartPost_(t), this.endPost_ = e.getEndPost_(t);
        }
        return e.prototype.getStartPost = function() {
            return this.startPost_;
        }, e.prototype.getEndPost = function() {
            return this.endPost_;
        }, e.prototype.matches = function(e) {
            return this.index_.compare(this.getStartPost(), e) <= 0 && this.index_.compare(e, this.getEndPost()) <= 0;
        }, e.prototype.updateChild = function(e, t, n, r, o, s) {
            return this.matches(new i.NamedNode(t, n)) || (n = a.ChildrenNode.EMPTY_NODE), this.indexedFilter_.updateChild(e, t, n, r, o, s);
        }, e.prototype.updateFullNode = function(e, t, n) {
            t.isLeafNode() && (t = a.ChildrenNode.EMPTY_NODE);
            var r = t.withIndex(this.index_);
            r = r.updatePriority(a.ChildrenNode.EMPTY_NODE);
            var s = this;
            return t.forEachChild(o.PRIORITY_INDEX, function(e, t) {
                s.matches(new i.NamedNode(e, t)) || (r = r.updateImmediateChild(e, a.ChildrenNode.EMPTY_NODE));
            }), this.indexedFilter_.updateFullNode(e, r, n);
        }, e.prototype.updatePriority = function(e, t) {
            return e;
        }, e.prototype.filtersNodes = function() {
            return !0;
        }, e.prototype.getIndexedFilter = function() {
            return this.indexedFilter_;
        }, e.prototype.getIndex = function() {
            return this.index_;
        }, e.getStartPost_ = function(e) {
            if (e.hasStart()) {
                var t = e.getIndexStartName();
                return e.getIndex().makePost(e.getIndexStartValue(), t);
            }
            return e.getIndex().minPost();
        }, e.getEndPost_ = function(e) {
            if (e.hasEnd()) {
                var t = e.getIndexEndName();
                return e.getIndex().makePost(e.getIndexEndValue(), t);
            }
            return e.getIndex().maxPost();
        }, e;
    }();
    t.RangedFilter = s;
}, function(e, t, n) {
    "use strict";
    t.extend = o;
    var r = Object.prototype.hasOwnProperty;
    function o(e) {
        var t, n, o, i, a = Array.prototype.slice.call(arguments, 1);
        for (t = 0, n = a.length; t < n; t += 1) if (o = a[t]) for (i in o) r.call(o, i) && (e[i] = o[i]);
        return e;
    }
    t.hop = r;
}, function(e, t, n) {
    var r = n(182), o = 36e5, i = 6e4, a = 2, s = /[T ]/, u = /:/, c = /^(\d{2})$/, l = [ /^([+-]\d{2})$/, /^([+-]\d{3})$/, /^([+-]\d{4})$/ ], h = /^(\d{4})/, p = [ /^([+-]\d{4})/, /^([+-]\d{5})/, /^([+-]\d{6})/ ], d = /^-(\d{2})$/, f = /^-?(\d{3})$/, v = /^-?(\d{2})-?(\d{2})$/, m = /^-?W(\d{2})$/, y = /^-?W(\d{2})-?(\d{1})$/, g = /^(\d{2}([.,]\d*)?)$/, _ = /^(\d{2}):?(\d{2}([.,]\d*)?)$/, b = /^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/, w = /([Z+-].*)$/, E = /^(Z)$/, T = /^([+-])(\d{2})$/, C = /^([+-])(\d{2}):?(\d{2})$/;
    function S(e, t) {
        if (r(e)) return new Date(e.getTime());
        if ("string" != typeof e) return new Date(e);
        var n = (t || {}).additionalDigits;
        n = null == n ? a : Number(n);
        var o = N(e), s = I(o.date, n), u = s.year, c = O(s.restDateString, u);
        if (c) {
            var l, h = c.getTime(), p = 0;
            return o.time && (p = P(o.time)), o.timezone ? l = R(o.timezone) : (l = new Date(h + p).getTimezoneOffset(), 
            l = new Date(h + p + l * i).getTimezoneOffset()), new Date(h + p + l * i);
        }
        return new Date(e);
    }
    function N(e) {
        var t, n = {}, r = e.split(s);
        if (u.test(r[0]) ? (n.date = null, t = r[0]) : (n.date = r[0], t = r[1]), t) {
            var o = w.exec(t);
            o ? (n.time = t.replace(o[1], ""), n.timezone = o[1]) : n.time = t;
        }
        return n;
    }
    function I(e, t) {
        var n, r = l[t], o = p[t];
        if (n = h.exec(e) || o.exec(e)) {
            var i = n[1];
            return {
                year: parseInt(i, 10),
                restDateString: e.slice(i.length)
            };
        }
        if (n = c.exec(e) || r.exec(e)) {
            var a = n[1];
            return {
                year: 100 * parseInt(a, 10),
                restDateString: e.slice(a.length)
            };
        }
        return {
            year: null
        };
    }
    function O(e, t) {
        if (null === t) return null;
        var n, r, o;
        if (0 === e.length) return (r = new Date(0)).setUTCFullYear(t), r;
        if (n = d.exec(e)) return r = new Date(0), o = parseInt(n[1], 10) - 1, r.setUTCFullYear(t, o), 
        r;
        if (n = f.exec(e)) {
            r = new Date(0);
            var i = parseInt(n[1], 10);
            return r.setUTCFullYear(t, 0, i), r;
        }
        if (n = v.exec(e)) {
            r = new Date(0), o = parseInt(n[1], 10) - 1;
            var a = parseInt(n[2], 10);
            return r.setUTCFullYear(t, o, a), r;
        }
        return (n = m.exec(e)) ? A(t, parseInt(n[1], 10) - 1) : (n = y.exec(e)) ? A(t, parseInt(n[1], 10) - 1, parseInt(n[2], 10) - 1) : null;
    }
    function P(e) {
        var t, n, r;
        if (t = g.exec(e)) return (n = parseFloat(t[1].replace(",", "."))) % 24 * o;
        if (t = _.exec(e)) return n = parseInt(t[1], 10), r = parseFloat(t[2].replace(",", ".")), 
        n % 24 * o + r * i;
        if (t = b.exec(e)) {
            n = parseInt(t[1], 10), r = parseInt(t[2], 10);
            var a = parseFloat(t[3].replace(",", "."));
            return n % 24 * o + r * i + 1e3 * a;
        }
        return null;
    }
    function R(e) {
        var t, n;
        return (t = E.exec(e)) ? 0 : (t = T.exec(e)) ? (n = 60 * parseInt(t[2], 10), "+" === t[1] ? -n : n) : (t = C.exec(e)) ? (n = 60 * parseInt(t[2], 10) + parseInt(t[3], 10), 
        "+" === t[1] ? -n : n) : 0;
    }
    function A(e, t, n) {
        t = t || 0, n = n || 0;
        var r = new Date(0);
        r.setUTCFullYear(e, 0, 4);
        var o = 7 * t + n + 1 - (r.getUTCDay() || 7);
        return r.setUTCDate(r.getUTCDate() + o), r;
    }
    e.exports = S;
}, function(e, t, n) {
    var r;
    !function() {
        "use strict";
        var n = {}.hasOwnProperty;
        function o() {
            for (var e = [], t = 0; t < arguments.length; t++) {
                var r = arguments[t];
                if (r) {
                    var i = typeof r;
                    if ("string" === i || "number" === i) e.push(r); else if (Array.isArray(r)) e.push(o.apply(null, r)); else if ("object" === i) for (var a in r) n.call(r, a) && r[a] && e.push(a);
                }
            }
            return e.join(" ");
        }
        void 0 !== e && e.exports ? e.exports = o : void 0 === (r = function() {
            return o;
        }.apply(t, [])) || (e.exports = r);
    }();
}, function(e, t) {}, function(e, t, n) {
    var r;
    r = function() {
        "use strict";
        return [ {
            locale: "en",
            pluralRuleFunction: function(e, t) {
                var n = String(e).split("."), r = !n[1], o = Number(n[0]) == e, i = o && n[0].slice(-1), a = o && n[0].slice(-2);
                return t ? 1 == i && 11 != a ? "one" : 2 == i && 12 != a ? "two" : 3 == i && 13 != a ? "few" : "other" : 1 == e && r ? "one" : "other";
            },
            fields: {
                year: {
                    displayName: "year",
                    relative: {
                        0: "this year",
                        1: "next year",
                        "-1": "last year"
                    },
                    relativeTime: {
                        future: {
                            one: "in {0} year",
                            other: "in {0} years"
                        },
                        past: {
                            one: "{0} year ago",
                            other: "{0} years ago"
                        }
                    }
                },
                month: {
                    displayName: "month",
                    relative: {
                        0: "this month",
                        1: "next month",
                        "-1": "last month"
                    },
                    relativeTime: {
                        future: {
                            one: "in {0} month",
                            other: "in {0} months"
                        },
                        past: {
                            one: "{0} month ago",
                            other: "{0} months ago"
                        }
                    }
                },
                day: {
                    displayName: "day",
                    relative: {
                        0: "today",
                        1: "tomorrow",
                        "-1": "yesterday"
                    },
                    relativeTime: {
                        future: {
                            one: "in {0} day",
                            other: "in {0} days"
                        },
                        past: {
                            one: "{0} day ago",
                            other: "{0} days ago"
                        }
                    }
                },
                hour: {
                    displayName: "hour",
                    relative: {
                        0: "this hour"
                    },
                    relativeTime: {
                        future: {
                            one: "in {0} hour",
                            other: "in {0} hours"
                        },
                        past: {
                            one: "{0} hour ago",
                            other: "{0} hours ago"
                        }
                    }
                },
                minute: {
                    displayName: "minute",
                    relative: {
                        0: "this minute"
                    },
                    relativeTime: {
                        future: {
                            one: "in {0} minute",
                            other: "in {0} minutes"
                        },
                        past: {
                            one: "{0} minute ago",
                            other: "{0} minutes ago"
                        }
                    }
                },
                second: {
                    displayName: "second",
                    relative: {
                        0: "now"
                    },
                    relativeTime: {
                        future: {
                            one: "in {0} second",
                            other: "in {0} seconds"
                        },
                        past: {
                            one: "{0} second ago",
                            other: "{0} seconds ago"
                        }
                    }
                }
            }
        }, {
            locale: "en-001",
            parentLocale: "en"
        }, {
            locale: "en-150",
            parentLocale: "en-001"
        }, {
            locale: "en-AG",
            parentLocale: "en-001"
        }, {
            locale: "en-AI",
            parentLocale: "en-001"
        }, {
            locale: "en-AS",
            parentLocale: "en"
        }, {
            locale: "en-AT",
            parentLocale: "en-150"
        }, {
            locale: "en-AU",
            parentLocale: "en-001"
        }, {
            locale: "en-BB",
            parentLocale: "en-001"
        }, {
            locale: "en-BE",
            parentLocale: "en-001"
        }, {
            locale: "en-BI",
            parentLocale: "en"
        }, {
            locale: "en-BM",
            parentLocale: "en-001"
        }, {
            locale: "en-BS",
            parentLocale: "en-001"
        }, {
            locale: "en-BW",
            parentLocale: "en-001"
        }, {
            locale: "en-BZ",
            parentLocale: "en-001"
        }, {
            locale: "en-CA",
            parentLocale: "en-001"
        }, {
            locale: "en-CC",
            parentLocale: "en-001"
        }, {
            locale: "en-CH",
            parentLocale: "en-150"
        }, {
            locale: "en-CK",
            parentLocale: "en-001"
        }, {
            locale: "en-CM",
            parentLocale: "en-001"
        }, {
            locale: "en-CX",
            parentLocale: "en-001"
        }, {
            locale: "en-CY",
            parentLocale: "en-001"
        }, {
            locale: "en-DE",
            parentLocale: "en-150"
        }, {
            locale: "en-DG",
            parentLocale: "en-001"
        }, {
            locale: "en-DK",
            parentLocale: "en-150"
        }, {
            locale: "en-DM",
            parentLocale: "en-001"
        }, {
            locale: "en-Dsrt",
            pluralRuleFunction: function(e, t) {
                return "other";
            },
            fields: {
                year: {
                    displayName: "Year",
                    relative: {
                        0: "this year",
                        1: "next year",
                        "-1": "last year"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} y"
                        },
                        past: {
                            other: "-{0} y"
                        }
                    }
                },
                month: {
                    displayName: "Month",
                    relative: {
                        0: "this month",
                        1: "next month",
                        "-1": "last month"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} m"
                        },
                        past: {
                            other: "-{0} m"
                        }
                    }
                },
                day: {
                    displayName: "Day",
                    relative: {
                        0: "today",
                        1: "tomorrow",
                        "-1": "yesterday"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} d"
                        },
                        past: {
                            other: "-{0} d"
                        }
                    }
                },
                hour: {
                    displayName: "Hour",
                    relative: {
                        0: "this hour"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} h"
                        },
                        past: {
                            other: "-{0} h"
                        }
                    }
                },
                minute: {
                    displayName: "Minute",
                    relative: {
                        0: "this minute"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} min"
                        },
                        past: {
                            other: "-{0} min"
                        }
                    }
                },
                second: {
                    displayName: "Second",
                    relative: {
                        0: "now"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} s"
                        },
                        past: {
                            other: "-{0} s"
                        }
                    }
                }
            }
        }, {
            locale: "en-ER",
            parentLocale: "en-001"
        }, {
            locale: "en-FI",
            parentLocale: "en-150"
        }, {
            locale: "en-FJ",
            parentLocale: "en-001"
        }, {
            locale: "en-FK",
            parentLocale: "en-001"
        }, {
            locale: "en-FM",
            parentLocale: "en-001"
        }, {
            locale: "en-GB",
            parentLocale: "en-001"
        }, {
            locale: "en-GD",
            parentLocale: "en-001"
        }, {
            locale: "en-GG",
            parentLocale: "en-001"
        }, {
            locale: "en-GH",
            parentLocale: "en-001"
        }, {
            locale: "en-GI",
            parentLocale: "en-001"
        }, {
            locale: "en-GM",
            parentLocale: "en-001"
        }, {
            locale: "en-GU",
            parentLocale: "en"
        }, {
            locale: "en-GY",
            parentLocale: "en-001"
        }, {
            locale: "en-HK",
            parentLocale: "en-001"
        }, {
            locale: "en-IE",
            parentLocale: "en-001"
        }, {
            locale: "en-IL",
            parentLocale: "en-001"
        }, {
            locale: "en-IM",
            parentLocale: "en-001"
        }, {
            locale: "en-IN",
            parentLocale: "en-001"
        }, {
            locale: "en-IO",
            parentLocale: "en-001"
        }, {
            locale: "en-JE",
            parentLocale: "en-001"
        }, {
            locale: "en-JM",
            parentLocale: "en-001"
        }, {
            locale: "en-KE",
            parentLocale: "en-001"
        }, {
            locale: "en-KI",
            parentLocale: "en-001"
        }, {
            locale: "en-KN",
            parentLocale: "en-001"
        }, {
            locale: "en-KY",
            parentLocale: "en-001"
        }, {
            locale: "en-LC",
            parentLocale: "en-001"
        }, {
            locale: "en-LR",
            parentLocale: "en-001"
        }, {
            locale: "en-LS",
            parentLocale: "en-001"
        }, {
            locale: "en-MG",
            parentLocale: "en-001"
        }, {
            locale: "en-MH",
            parentLocale: "en"
        }, {
            locale: "en-MO",
            parentLocale: "en-001"
        }, {
            locale: "en-MP",
            parentLocale: "en"
        }, {
            locale: "en-MS",
            parentLocale: "en-001"
        }, {
            locale: "en-MT",
            parentLocale: "en-001"
        }, {
            locale: "en-MU",
            parentLocale: "en-001"
        }, {
            locale: "en-MW",
            parentLocale: "en-001"
        }, {
            locale: "en-MY",
            parentLocale: "en-001"
        }, {
            locale: "en-NA",
            parentLocale: "en-001"
        }, {
            locale: "en-NF",
            parentLocale: "en-001"
        }, {
            locale: "en-NG",
            parentLocale: "en-001"
        }, {
            locale: "en-NL",
            parentLocale: "en-150"
        }, {
            locale: "en-NR",
            parentLocale: "en-001"
        }, {
            locale: "en-NU",
            parentLocale: "en-001"
        }, {
            locale: "en-NZ",
            parentLocale: "en-001"
        }, {
            locale: "en-PG",
            parentLocale: "en-001"
        }, {
            locale: "en-PH",
            parentLocale: "en-001"
        }, {
            locale: "en-PK",
            parentLocale: "en-001"
        }, {
            locale: "en-PN",
            parentLocale: "en-001"
        }, {
            locale: "en-PR",
            parentLocale: "en"
        }, {
            locale: "en-PW",
            parentLocale: "en-001"
        }, {
            locale: "en-RW",
            parentLocale: "en-001"
        }, {
            locale: "en-SB",
            parentLocale: "en-001"
        }, {
            locale: "en-SC",
            parentLocale: "en-001"
        }, {
            locale: "en-SD",
            parentLocale: "en-001"
        }, {
            locale: "en-SE",
            parentLocale: "en-150"
        }, {
            locale: "en-SG",
            parentLocale: "en-001"
        }, {
            locale: "en-SH",
            parentLocale: "en-001"
        }, {
            locale: "en-SI",
            parentLocale: "en-150"
        }, {
            locale: "en-SL",
            parentLocale: "en-001"
        }, {
            locale: "en-SS",
            parentLocale: "en-001"
        }, {
            locale: "en-SX",
            parentLocale: "en-001"
        }, {
            locale: "en-SZ",
            parentLocale: "en-001"
        }, {
            locale: "en-Shaw",
            pluralRuleFunction: function(e, t) {
                return "other";
            },
            fields: {
                year: {
                    displayName: "Year",
                    relative: {
                        0: "this year",
                        1: "next year",
                        "-1": "last year"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} y"
                        },
                        past: {
                            other: "-{0} y"
                        }
                    }
                },
                month: {
                    displayName: "Month",
                    relative: {
                        0: "this month",
                        1: "next month",
                        "-1": "last month"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} m"
                        },
                        past: {
                            other: "-{0} m"
                        }
                    }
                },
                day: {
                    displayName: "Day",
                    relative: {
                        0: "today",
                        1: "tomorrow",
                        "-1": "yesterday"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} d"
                        },
                        past: {
                            other: "-{0} d"
                        }
                    }
                },
                hour: {
                    displayName: "Hour",
                    relative: {
                        0: "this hour"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} h"
                        },
                        past: {
                            other: "-{0} h"
                        }
                    }
                },
                minute: {
                    displayName: "Minute",
                    relative: {
                        0: "this minute"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} min"
                        },
                        past: {
                            other: "-{0} min"
                        }
                    }
                },
                second: {
                    displayName: "Second",
                    relative: {
                        0: "now"
                    },
                    relativeTime: {
                        future: {
                            other: "+{0} s"
                        },
                        past: {
                            other: "-{0} s"
                        }
                    }
                }
            }
        }, {
            locale: "en-TC",
            parentLocale: "en-001"
        }, {
            locale: "en-TK",
            parentLocale: "en-001"
        }, {
            locale: "en-TO",
            parentLocale: "en-001"
        }, {
            locale: "en-TT",
            parentLocale: "en-001"
        }, {
            locale: "en-TV",
            parentLocale: "en-001"
        }, {
            locale: "en-TZ",
            parentLocale: "en-001"
        }, {
            locale: "en-UG",
            parentLocale: "en-001"
        }, {
            locale: "en-UM",
            parentLocale: "en"
        }, {
            locale: "en-US",
            parentLocale: "en"
        }, {
            locale: "en-VC",
            parentLocale: "en-001"
        }, {
            locale: "en-VG",
            parentLocale: "en-001"
        }, {
            locale: "en-VI",
            parentLocale: "en"
        }, {
            locale: "en-VU",
            parentLocale: "en-001"
        }, {
            locale: "en-WS",
            parentLocale: "en-001"
        }, {
            locale: "en-ZA",
            parentLocale: "en-001"
        }, {
            locale: "en-ZM",
            parentLocale: "en-001"
        }, {
            locale: "en-ZW",
            parentLocale: "en-001"
        } ];
    }, e.exports = r();
}, function(e, t, n) {
    var r;
    r = function() {
        "use strict";
        return [ {
            locale: "es",
            pluralRuleFunction: function(e, t) {
                return t ? "other" : 1 == e ? "one" : "other";
            },
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "anteayer",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-419",
            parentLocale: "es"
        }, {
            locale: "es-AR",
            parentLocale: "es-419"
        }, {
            locale: "es-BO",
            parentLocale: "es-419"
        }, {
            locale: "es-BR",
            parentLocale: "es-419"
        }, {
            locale: "es-BZ",
            parentLocale: "es-419"
        }, {
            locale: "es-CL",
            parentLocale: "es-419"
        }, {
            locale: "es-CO",
            parentLocale: "es-419"
        }, {
            locale: "es-CR",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antier",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-CU",
            parentLocale: "es-419"
        }, {
            locale: "es-DO",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "A\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "Mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "D\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "anteayer",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "Minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "Segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-EA",
            parentLocale: "es"
        }, {
            locale: "es-EC",
            parentLocale: "es-419"
        }, {
            locale: "es-GQ",
            parentLocale: "es"
        }, {
            locale: "es-GT",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antier",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-HN",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antier",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-IC",
            parentLocale: "es"
        }, {
            locale: "es-MX",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el a\xf1o pr\xf3ximo",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el mes pr\xf3ximo",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "en {0} mes",
                            other: "en {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antier",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-NI",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antier",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-PA",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antier",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-PE",
            parentLocale: "es-419"
        }, {
            locale: "es-PH",
            parentLocale: "es"
        }, {
            locale: "es-PR",
            parentLocale: "es-419"
        }, {
            locale: "es-PY",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antes de ayer",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-SV",
            parentLocale: "es-419",
            fields: {
                year: {
                    displayName: "a\xf1o",
                    relative: {
                        0: "este a\xf1o",
                        1: "el pr\xf3ximo a\xf1o",
                        "-1": "el a\xf1o pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} a\xf1o",
                            other: "dentro de {0} a\xf1os"
                        },
                        past: {
                            one: "hace {0} a\xf1o",
                            other: "hace {0} a\xf1os"
                        }
                    }
                },
                month: {
                    displayName: "mes",
                    relative: {
                        0: "este mes",
                        1: "el pr\xf3ximo mes",
                        "-1": "el mes pasado"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} mes",
                            other: "dentro de {0} meses"
                        },
                        past: {
                            one: "hace {0} mes",
                            other: "hace {0} meses"
                        }
                    }
                },
                day: {
                    displayName: "d\xeda",
                    relative: {
                        0: "hoy",
                        1: "ma\xf1ana",
                        2: "pasado ma\xf1ana",
                        "-2": "antier",
                        "-1": "ayer"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} d\xeda",
                            other: "dentro de {0} d\xedas"
                        },
                        past: {
                            one: "hace {0} d\xeda",
                            other: "hace {0} d\xedas"
                        }
                    }
                },
                hour: {
                    displayName: "hora",
                    relative: {
                        0: "esta hora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} hora",
                            other: "dentro de {0} horas"
                        },
                        past: {
                            one: "hace {0} hora",
                            other: "hace {0} horas"
                        }
                    }
                },
                minute: {
                    displayName: "minuto",
                    relative: {
                        0: "este minuto"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} minuto",
                            other: "dentro de {0} minutos"
                        },
                        past: {
                            one: "hace {0} minuto",
                            other: "hace {0} minutos"
                        }
                    }
                },
                second: {
                    displayName: "segundo",
                    relative: {
                        0: "ahora"
                    },
                    relativeTime: {
                        future: {
                            one: "dentro de {0} segundo",
                            other: "dentro de {0} segundos"
                        },
                        past: {
                            one: "hace {0} segundo",
                            other: "hace {0} segundos"
                        }
                    }
                }
            }
        }, {
            locale: "es-US",
            parentLocale: "es-419"
        }, {
            locale: "es-UY",
            parentLocale: "es-419"
        }, {
            locale: "es-VE",
            parentLocale: "es-419"
        } ];
    }, e.exports = r();
}, function(e, t, n) {
    var r;
    r = function() {
        "use strict";
        return [ {
            locale: "fr",
            pluralRuleFunction: function(e, t) {
                return t ? 1 == e ? "one" : "other" : e >= 0 && e < 2 ? "one" : "other";
            },
            fields: {
                year: {
                    displayName: "ann\xe9e",
                    relative: {
                        0: "cette ann\xe9e",
                        1: "l\u2019ann\xe9e prochaine",
                        "-1": "l\u2019ann\xe9e derni\xe8re"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} an",
                            other: "dans {0} ans"
                        },
                        past: {
                            one: "il y a {0} an",
                            other: "il y a {0} ans"
                        }
                    }
                },
                month: {
                    displayName: "mois",
                    relative: {
                        0: "ce mois-ci",
                        1: "le mois prochain",
                        "-1": "le mois dernier"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} mois",
                            other: "dans {0} mois"
                        },
                        past: {
                            one: "il y a {0} mois",
                            other: "il y a {0} mois"
                        }
                    }
                },
                day: {
                    displayName: "jour",
                    relative: {
                        0: "aujourd\u2019hui",
                        1: "demain",
                        2: "apr\xe8s-demain",
                        "-2": "avant-hier",
                        "-1": "hier"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} jour",
                            other: "dans {0} jours"
                        },
                        past: {
                            one: "il y a {0} jour",
                            other: "il y a {0} jours"
                        }
                    }
                },
                hour: {
                    displayName: "heure",
                    relative: {
                        0: "cette heure-ci"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} heure",
                            other: "dans {0} heures"
                        },
                        past: {
                            one: "il y a {0} heure",
                            other: "il y a {0} heures"
                        }
                    }
                },
                minute: {
                    displayName: "minute",
                    relative: {
                        0: "cette minute-ci"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} minute",
                            other: "dans {0} minutes"
                        },
                        past: {
                            one: "il y a {0} minute",
                            other: "il y a {0} minutes"
                        }
                    }
                },
                second: {
                    displayName: "seconde",
                    relative: {
                        0: "maintenant"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} seconde",
                            other: "dans {0} secondes"
                        },
                        past: {
                            one: "il y a {0} seconde",
                            other: "il y a {0} secondes"
                        }
                    }
                }
            }
        }, {
            locale: "fr-BE",
            parentLocale: "fr"
        }, {
            locale: "fr-BF",
            parentLocale: "fr"
        }, {
            locale: "fr-BI",
            parentLocale: "fr"
        }, {
            locale: "fr-BJ",
            parentLocale: "fr"
        }, {
            locale: "fr-BL",
            parentLocale: "fr"
        }, {
            locale: "fr-CA",
            parentLocale: "fr",
            fields: {
                year: {
                    displayName: "ann\xe9e",
                    relative: {
                        0: "cette ann\xe9e",
                        1: "l\u2019ann\xe9e prochaine",
                        "-1": "l\u2019ann\xe9e derni\xe8re"
                    },
                    relativeTime: {
                        future: {
                            one: "Dans {0}\xa0an",
                            other: "Dans {0}\xa0ans"
                        },
                        past: {
                            one: "Il y a {0}\xa0an",
                            other: "Il y a {0}\xa0ans"
                        }
                    }
                },
                month: {
                    displayName: "mois",
                    relative: {
                        0: "ce mois-ci",
                        1: "le mois prochain",
                        "-1": "le mois dernier"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} mois",
                            other: "dans {0} mois"
                        },
                        past: {
                            one: "il y a {0} mois",
                            other: "il y a {0} mois"
                        }
                    }
                },
                day: {
                    displayName: "jour",
                    relative: {
                        0: "aujourd\u2019hui",
                        1: "demain",
                        2: "apr\xe8s-demain",
                        "-2": "avant-hier",
                        "-1": "hier"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} jour",
                            other: "dans {0} jours"
                        },
                        past: {
                            one: "il y a {0} jour",
                            other: "il y a {0} jours"
                        }
                    }
                },
                hour: {
                    displayName: "heure",
                    relative: {
                        0: "cette heure-ci"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} heure",
                            other: "dans {0} heures"
                        },
                        past: {
                            one: "il y a {0} heure",
                            other: "il y a {0} heures"
                        }
                    }
                },
                minute: {
                    displayName: "minute",
                    relative: {
                        0: "cette minute-ci"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} minute",
                            other: "dans {0} minutes"
                        },
                        past: {
                            one: "il y a {0} minute",
                            other: "il y a {0} minutes"
                        }
                    }
                },
                second: {
                    displayName: "seconde",
                    relative: {
                        0: "maintenant"
                    },
                    relativeTime: {
                        future: {
                            one: "dans {0} seconde",
                            other: "dans {0} secondes"
                        },
                        past: {
                            one: "il y a {0} seconde",
                            other: "il y a {0} secondes"
                        }
                    }
                }
            }
        }, {
            locale: "fr-CD",
            parentLocale: "fr"
        }, {
            locale: "fr-CF",
            parentLocale: "fr"
        }, {
            locale: "fr-CG",
            parentLocale: "fr"
        }, {
            locale: "fr-CH",
            parentLocale: "fr"
        }, {
            locale: "fr-CI",
            parentLocale: "fr"
        }, {
            locale: "fr-CM",
            parentLocale: "fr"
        }, {
            locale: "fr-DJ",
            parentLocale: "fr"
        }, {
            locale: "fr-DZ",
            parentLocale: "fr"
        }, {
            locale: "fr-GA",
            parentLocale: "fr"
        }, {
            locale: "fr-GF",
            parentLocale: "fr"
        }, {
            locale: "fr-GN",
            parentLocale: "fr"
        }, {
            locale: "fr-GP",
            parentLocale: "fr"
        }, {
            locale: "fr-GQ",
            parentLocale: "fr"
        }, {
            locale: "fr-HT",
            parentLocale: "fr"
        }, {
            locale: "fr-KM",
            parentLocale: "fr"
        }, {
            locale: "fr-LU",
            parentLocale: "fr"
        }, {
            locale: "fr-MA",
            parentLocale: "fr"
        }, {
            locale: "fr-MC",
            parentLocale: "fr"
        }, {
            locale: "fr-MF",
            parentLocale: "fr"
        }, {
            locale: "fr-MG",
            parentLocale: "fr"
        }, {
            locale: "fr-ML",
            parentLocale: "fr"
        }, {
            locale: "fr-MQ",
            parentLocale: "fr"
        }, {
            locale: "fr-MR",
            parentLocale: "fr"
        }, {
            locale: "fr-MU",
            parentLocale: "fr"
        }, {
            locale: "fr-NC",
            parentLocale: "fr"
        }, {
            locale: "fr-NE",
            parentLocale: "fr"
        }, {
            locale: "fr-PF",
            parentLocale: "fr"
        }, {
            locale: "fr-PM",
            parentLocale: "fr"
        }, {
            locale: "fr-RE",
            parentLocale: "fr"
        }, {
            locale: "fr-RW",
            parentLocale: "fr"
        }, {
            locale: "fr-SC",
            parentLocale: "fr"
        }, {
            locale: "fr-SN",
            parentLocale: "fr"
        }, {
            locale: "fr-SY",
            parentLocale: "fr"
        }, {
            locale: "fr-TD",
            parentLocale: "fr"
        }, {
            locale: "fr-TG",
            parentLocale: "fr"
        }, {
            locale: "fr-TN",
            parentLocale: "fr"
        }, {
            locale: "fr-VU",
            parentLocale: "fr"
        }, {
            locale: "fr-WF",
            parentLocale: "fr"
        }, {
            locale: "fr-YT",
            parentLocale: "fr"
        } ];
    }, e.exports = r();
}, function(e) {
    e.exports = {
        "browser-action-popup.unsupported-app.list-prediction": "The advanced maths and chemistry prediction engine",
        "intro.introduction-line1": "Finally, you can create digital maths! {learnMoreLink}.",
        "upgrade-overlay-iconset-advanced-math": "The advanced maths and chemistry prediction engine"
    };
}, function(e) {
    e.exports = {
        "intro.introduction-line1": "Ya puedes crear expresiones matem\xe1ticas digitales! {learnMoreLink}.",
        "intro.introduction-learn-more-link": "Aprende m\xe1s",
        "intro.student-button": "Alumno",
        "intro.teacher-button": "Profesor",
        "intro.dismiss-button": "Prefiero no escoger ahora. Simplemente ll\xe9vame a EquatIO.",
        "intro.loading-doc.thanks": "Thanks!",
        "intro.loading-doc.message": "We're taking you to your first EquatIO-enabled Google Doc..."
    };
}, function(e) {
    e.exports = {
        "browser-action-popup.disabled-app.title": "Hey!",
        "browser-action-popup.disabled-app.message": "On dirait que cette int\xe9gration de Google App ait \xe9t\xe9 d\xe9sactiv\xe9e. Si tu souhaites utiliser cette fonctionnalit\xe9, demande \xe0 ton administrateur de l'activer!",
        "browser-action-popup.disabled-app.dismiss": "OK",
        "browser-action-popup.forms.title": "Quiz time?!",
        "browser-action-popup.forms.message": "Ouvre EquatIO dans Google Forms en cliquant sur l'ic\xf4ne {equationIcon} \xe0 c\xf4t\xe9 de la question ou de la r\xe9ponse sur laquelle tu souhaites travailler.",
        "browser-action-popup.forms.dismiss": "OK",
        "browser-action-popup.invalid-page.title": "Uh oh!",
        "browser-action-popup.invalid-page.description": "EquatIO n'est pas disponible sur cette page. Pour l'instant, tu peux seulement utiliser EquatIO avec:",
        "browser-action-popup.invalid-page.options.docs": "Google Docs",
        "browser-action-popup.invalid-page.options.forms": "Google Forms",
        "browser-action-popup.invalid-page.options.sheets": "Google Sheets",
        "browser-action-popup.invalid-page.options.slides": "Google Slides",
        "browser-action-popup.invalid-page.options.drawings": "Google Drawings",
        "browser-action-popup.invalid-page.dismiss": "OK",
        "browser-action-popup.not-signed-into-chrome.title": "Hey!",
        "browser-action-popup.not-signed-into-chrome.message": "On dirait que tu n'es pas connect\xe9 avec Google Chrome :(",
        "browser-action-popup.not-signed-into-chrome.sign-in-message": "Il est n\xe9cessaire que tu sois connect\xe9, afin de pouvoir utiliser toutes les fonctionnalit\xe9s d'EquatIO. {readMoreLink}.",
        "browser-action-popup.not-signed-into-chrome.read-more": "En savoir plus",
        "browser-action-popup.not-signed-into-chrome.dismiss": "OK",
        "browser-action-popup.unsupported-app.title": "Oh non!",
        "browser-action-popup.unsupported-app.description": "Ton abonnement EquatIO actuel ne prend pas en charge cette application Google. Effectue une mise \xe0 niveau d\xe8s aujourd'hui pour pouvoir utiliser EquatIO avec Google Forms, Google Sheets, Google Slides et Google Drawings. Si tu es un enseignant, {freeForTeachersLink} pour en savoir plus sur notre programme Free for Teachers avant de renouveler ton abonnement.",
        "browser-action-popup.unsupported-app.fft-link": "clique ici",
        "browser-action-popup.unsupported-app.list-prediction": "Le moteur de pr\xe9diction avanc\xe9 en math\xe9matiques et chimie",
        "browser-action-popup.unsupported-app.list-handwriting": "Entr\xe9es manuscrites illimit\xe9es",
        "browser-action-popup.unsupported-app.upgrade": "En savoir plus",
        "browser-action-popup.unsupported-app.not-today": "Pas aujourd'hui, merci.",
        "browser-action-popup.web-premium.title": "Hey!",
        "browser-action-popup.web-premium.message": "Tu as besoin d'un {premiumSubscription} pour pouvoir utiliser EquatIO dans des pages web",
        "browser-action-popup.web-premium.premium-subscription": "Abonnement Premium",
        "browser-action-popup.web-premium.upgrade": "En savoir plus",
        "browser-action-popup.web-premium.dismiss": "OK",
        "web-toolbar.popup-menu.menu.close": "Cacher EquatIO",
        "screenshot-reader.context-menu.buttons.copy-latex": "Copier LaTeX",
        "screenshot-reader.context-menu.buttons.copy-mathml": "Copier MatML",
        "screenshot-reader.context-menu.buttons.send-to-equation": "Editer avec EquatIO",
        "screenshot-reader.mathjax.actions.play": "Jouer",
        "screenshot-reader.mathjax.actions.stop": "Arr\xeat",
        "screenshot-reader.mathjax.actions.more-options": "Plus d'options",
        "screenshot-reader.mathjax.actions.close": "Fermer",
        "screenshot-reader.mathjax.error-display.title": "Uh oh! Nous n'avons pu d\xe9tecter aucun calcul pour cette s\xe9lection",
        "web-toolbar.toolbar.move-toolbar": "D\xe9placer la barre d'outils",
        "web-toolbar.toolbar.screenshot-reader": "Lecteur de capture d'\xe9cran",
        "web-toolbar.toolbar.calculator": "Calculatrice",
        "intro.introduction-line1": "Enfin, tu peux cr\xe9er des math\xe9matiques num\xe9riques! {learnMoreLink}.",
        "intro.introduction-learn-more-link": "En savoir plus",
        "intro.student-button": "El\xe8ve",
        "intro.teacher-button": "Enseignant",
        "intro.dismiss-button": "Je pr\xe9f\xe8re ne pas dire. Emm\xe8ne-moi simplement \xe0 EquatIO!",
        "intro.loading-doc.thanks": "Merci!",
        "intro.loading-doc.message": "Nous t'emmenons \xe0 ton premier Google Doc compatible avec EquatIO...",
        "sheetsAuthorization.introduction-line1": "Salut!",
        "sheetsAuthorization.introduction-line2": "Comme c'est la premi\xe8re fois tu vous utilises EquatIO avec Google Forms, tu dois d'abord donner ton autorisation \xe0 Google. Clique sur le bouton ci-dessous lorsque tu es pr\xeat.",
        "sheetsAuthorization.authorize-button": "Autoriser Google",
        "popup-menu.try-mathspace": "Essayez EquatIO Mathspace",
        "popup-menu.close": "Fermer EquatIO",
        "screenshot-reader-button.title": "Lecteur de capture d'\xe9cran",
        "screenshot-reader-button.title_premium": "Lecteur de capture d'\xe9cran (Fonctionnalit\xe9 Premium)",
        "upgrade-overlay-iconset-advanced-math": "Le moteur de pr\xe9diction avanc\xe9 en math\xe9matiques et chimie",
        "upgrade-overlay-iconset-built-in-integration": "Integration avec Google Forms, Google Slides, Google Sheets & Google Drawings",
        "upgrade-overlay-iconset-free-for-teachers-click-here": "clique ici",
        "upgrade-overlay-iconset-unlimited-handwriting": "Entr\xe9es manuscrites illimit\xe9es",
        "upgrade-overlay-used-by-teachers": "Utilis\xe9 par les enseignants{lineBreak}et les \xe9l\xe8ves du monde entier",
        "upgrade-overlay-fft-sign-up": "Inscris-toi \xe0 Free for Teachers",
        "upgrade-overlay-fft-dismiss": "Pas aujourd'hui, merci",
        "upgrade-overlay-student-learn-more": "En savoir plus",
        "upgrade-overlay-student-dismiss": "Je suis pr\xeat. Ram\xe8ne-moi \xe0 EquatIO.",
        "upgrade-overlay-privacy-policy": "Politique de confidentialit\xe9",
        "upgrade-overlay-student-expired.text": "On dirait que ton acc\xe8s gratuit de 30 jours aux fonctionnalit\xe9s premium d'EquatIO ait expir\xe9. Vois avec ton enseignant pour pouvoir continuer \xe0 utiliser toutes les fonctionnalit\xe9s d'EquatIO, y compris l'\xe9criture manuscrite et la pr\xe9vision math\xe9matique. Si tu es un enseignant, {upgradeLink} pour en savoir plus sur notre programme Free for Teachers.",
        "upgrade-overlay-student-handwriting-exceeded.text": "Oups! Tu as d\xe9j\xe0 utilis\xe9 tes deux entr\xe9es manuscrites pour la journ\xe9e. Vois avec ton enseignant pour en savoir plus sur tes options d'\xe9criture. Si tu es un enseignant, {upgradeLink} pour en savoir plus sur notre programme Free for Teachers.",
        "upgrade-overlay-student-upgrade-reminder.text": "Vois avec ton enseignant pour en savoir plus sur les fonctionnalit\xe9s premium d'EquatIO. Si tu es un enseignant, {upgradeLink} pour en savoir plus sur notre programme Free for Teachers.",
        "upgrade-overlay-teacher-expiring.title": "Ton abonnement premium \xe0 EquatIO expire dans moins de 5 jours.",
        "upgrade-overlay-teacher-expiring.text": "Mais pourquoi renouveler quand tu peux t'inscrire gratuitement en tant qu'enseignants? Tu obtiendras ainsi GRATUITEMENT toutes les fonctionnalit\xe9s de ton abonnement premium EquatIO que tu connais et appr\xe9cies d\xe9j\xe0!",
        "upgrade-overlay-teacher-first-time-expiry.line1": "On dirait que ton acc\xe8s de 30 jours aux fonctionnalit\xe9s premium d'EquatIO ait expir\xe9.",
        "upgrade-overlay-teacher-first-time-expiry.line2": "Mais pas besoin de s'inqui\xe9ter. En tant qu'enseignant, tu peux obtenir gratuitement toutes ces fonctionnalit\xe9s gr\xe2ce \xe0 notre programme Free for Teacher. Inscris-toi aujourd'hui pour continuer \xe0 utiliser toutes les fonctionnalit\xe9s d'EquatIO!",
        "upgrade-overlay-teacher-forms-periodic-reminder.title": "Eureka!",
        "upgrade-overlay-teacher-forms-periodic-reminder.text": "Si tu t'inscris \xe0 EquatIO Free for Teachers, tu peux transformer ton processus d'\xe9valuation gr\xe2ce \xe0 notre int\xe9gration avec Google Forms, et ceci sans frais suppl\xe9mentaires! Inscris-toi aujourd'hui pour acc\xe9der gratuitement \xe0 toutes les fonctionnalit\xe9s premium d'EquatIO.",
        "upgrade-overlay-teacher-forms-periodic-reminder.integration-with-apps": "Integration avec Google Slides, Google Sheets & Google Drawings",
        "upgrade-overlay-teacher-general-periodic-reminder.line1": "Inscris-toi \xe0 EquatIO Free for Teachers d\xe8s aujourd'hui pour faire passer tes maths num\xe9riques au niveau sup\xe9rieur!",
        "upgrade-overlay-teacher-general-periodic-reminder.line2": "En t'inscrivant, tu recevras un acc\xe8s gratuit \xe0...",
        "upgrade-overlay-teacher-handwriting-exceeded.whoops": "Oups!",
        "upgrade-overlay-teacher-handwriting-exceeded.text": "Tu as d\xe9j\xe0 utilis\xe9 tes deux entr\xe9es manuscrites gratuites pour la journ\xe9e. Mais savais-tu que gr\xe2ce \xe0 notre programme Free for Teacher, tu peux avoir acc\xe8s \xe0 toutes les fonctionnalit\xe9s premium GRATUITEMENT, et pour toujours? Inscris-toi d\xe8s aujourd'hui!",
        "upgrade-overlay-teacher-prediction-periodic-reminder.title": "Imagine le temps que tu gagnerais si tu pouvais g\xe9n\xe9rer des \xe9quations plus rapidement.",
        "upgrade-overlay-teacher-prediction-periodic-reminder.text": "Heureusement pour toi, le moteur avanc\xe9 de calcul de math\xe9matiques et de chimie d'EquatIO est fait pour toi! Inscris-toi \xe0 notre programme Free for Teachers d\xe8s aujourd'hui pour acc\xe9der GRATUITEMENT \xe0 cette fonctionnalit\xe9, et \xe0 toutes les autres fonctionnalit\xe9s premium d'EquatIO!",
        "upgrade-overlay-teacher-review.title": "A pr\xe9sent tu es une star\u2b50\ufe0f des maths!",
        "upgrade-overlay-teacher-review.text": "Fais don d'une fraction de ton rayonnement en donnant \xe0 EquatIO une note de 5 \xe9toiles!",
        "upgrade-overlay-teacher-review-action": "Evalue EquatIO!",
        "upgrade-overlay-teacher-review-no-thanks": "Rapp\xe8le-moi plus tard",
        "upgrade-overlay-teacher-review-dismiss": "Non merci."
    };
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(10), o = n(90), i = n(91), a = n(92), s = n(93), u = n(94), c = n(95), l = n(96), h = n(97), p = n(98), d = n(99), f = new Map();
        f.set(r.a.Teacher.FirstTimeExpiry, o.a), f.set(r.a.Teacher.HandwritingExceeded, i.a), 
        f.set(r.a.Teacher.FormsPeriodicReminder, a.a), f.set(r.a.Teacher.PredictionPeriodicReminder, s.a), 
        f.set(r.a.Teacher.GeneralPeriodicReminder, u.a), f.set(r.a.Teacher.Expiring, c.a), 
        f.set(r.a.Teacher.Review, d.a), f.set(r.a.Student.Expired, l.a), f.set(r.a.Student.HandwritingExceeded, h.a), 
        f.set(r.a.Student.UpgradeReminder, p.a), t.a = function(t, n) {
            var r = f.get(t);
            return r ? e(r, {
                hideNotification: n
            }) : null;
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(17), i = n(18), a = n(14);
        t.a = function() {
            return e("div", {
                id: "EquatioUpgradeMessageFirstTimeExpiry"
            }, e("p", {
                className: "equatio-upgrade-teacher-message"
            }, e("strong", null, e(r.a, {
                id: "upgrade-overlay-teacher-first-time-expiry.line1",
                defaultMessage: "It looks like your 30-day access to EquatIO's premium features has expired."
            })), " ", e(r.a, {
                id: "upgrade-overlay-teacher-first-time-expiry.line2",
                defaultMessage: "But no need to worry. As a teacher, you can get all those features free forever through our Free for Teacher program. Sign up today to keep using all of EquatIO's features!"
            })), e("ul", {
                className: "equatio-upgrade-iconset"
            }, e(o.a, null), e(i.a, null), e(a.a, null)));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-teacher-message"
            }, e("strong", null, e(r.a, {
                id: "upgrade-overlay-teacher-handwriting-exceeded.whoops",
                defaultMessage: "Whoops!"
            })), " ", e(r.a, {
                id: "upgrade-overlay-teacher-handwriting-exceeded.text",
                defaultMessage: "You've already used your two free handwriting inputs for the day. But did you know that through our Free for Teacher program you can get unlimited handwriting - along with all of the other premium features - FREE forever? Sign up today!"
            })));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(17), i = n(14);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-teacher-message"
            }, e("strong", null, e(r.a, {
                id: "upgrade-overlay-teacher-forms-periodic-reminder.title",
                defaultMessage: "Eureka!"
            })), " ", e(r.a, {
                id: "upgrade-overlay-teacher-forms-periodic-reminder.text",
                defaultMessage: "If you sign up for EquatIO Free for Teachers, you can transform your assessment process through built-in integration with Google Forms - for no additional cost! Sign up today to access all of EquatIO's premium features for free."
            })), e("ul", {
                className: "equatio-upgrade-iconset"
            }, e("li", {
                className: "equatio-upgrade-iconset__item"
            }, e("svg", {
                viewBox: "0 0 47.758 47.761",
                className: "equatio-upgrade-iconset-image",
                style: {
                    minWidth: "50px",
                    minHeight: "50px"
                }
            }, e("use", {
                xlinkHref: "#equatio-svg-upgrade-draw-shapes"
            })), e("p", {
                className: "equatio-upgrade-iconset-message"
            }, e(r.a, {
                id: "upgrade-overlay-teacher-forms-periodic-reminder.integration-with-apps",
                defaultMessage: "Integration with Google Slides, Sheets & Drawings"
            }))), e(o.a, null), e(i.a, null)));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(18), i = n(14);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-teacher-message"
            }, e("strong", null, e(r.a, {
                id: "upgrade-overlay-teacher-prediction-periodic-reminder.title",
                defaultMessage: "Just think of the time you would save if you could generate equations faster."
            })), " ", e(r.a, {
                id: "upgrade-overlay-teacher-prediction-periodic-reminder.text",
                defaultMessage: "Lucky for you, EquatIO's advanced math and chemistry prediction engine does just that! Sign up for Free for Teachers today to access this radical feature - and all of EquatIO's premium features - for FREE!"
            })), e("ul", {
                className: "equatio-upgrade-iconset"
            }, e(o.a, null), e(i.a, null)));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(17), i = n(18), a = n(14);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-teacher-message"
            }, e("strong", null, e(r.a, {
                id: "upgrade-overlay-teacher-general-periodic-reminder.line1",
                defaultMessage: "Sign up for EquatIO Free for Teachers today to take your digital math to the next level!"
            })), " ", e(r.a, {
                id: "upgrade-overlay-teacher-general-periodic-reminder.line2",
                defaultMessage: "By signing up, you'll receive FREE access to..."
            })), e("ul", {
                className: "equatio-upgrade-iconset"
            }, e(o.a, null), e(i.a, null), e(a.a, null)));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(17), i = n(18), a = n(14);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-teacher-message"
            }, e("strong", null, e(r.a, {
                id: "upgrade-overlay-teacher-expiring.title",
                defaultMessage: "Your premium subscription to EquatIO expires in less than 5 days."
            })), " ", e(r.a, {
                id: "upgrade-overlay-teacher-expiring.text",
                defaultMessage: "But why renew when you can sign up for Free for Teachers? As a teacher, you'll get all the features you've come to know and love with your premium subscription of EquatIO for FREE!"
            })), e("ul", {
                className: "equatio-upgrade-iconset"
            }, e(o.a, null), e(i.a, null), e(a.a, null)));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(23);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-student-message"
            }, e(r.a, {
                id: "upgrade-overlay-student-expired.text",
                defaultMessage: "It looks like your 30-day access to EquatIO's premium features has expired. Talk with your teacher to learn how you can keep using all of EquatIO's awesome features, including handwriting and math prediction. If you are a teacher, {upgradeLink} to learn about our Free for Teachers program.",
                values: {
                    upgradeLink: e(o.a, null)
                }
            })));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(23);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-student-message"
            }, e(r.a, {
                id: "upgrade-overlay-student-handwriting-exceeded.text",
                defaultMessage: "Whoops! You've already used your two handwriting inputs for the day. Talk with your teacher to learn more about your handwriting options. If you are a teacher, {upgradeLink} to learn about our Free for Teachers program.",
                values: {
                    upgradeLink: e(o.a, null)
                }
            })));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(23);
        t.a = function() {
            return e("div", null, e("p", {
                className: "equatio-upgrade-student-message"
            }, e(r.a, {
                id: "upgrade-overlay-student-upgrade-reminder.text",
                defaultMessage: "Talk with your teacher to learn more about EquatIO's premium features. If you are a teacher, {upgradeLink} to learn about our Free for Teachers program.",
                values: {
                    upgradeLink: e(o.a, null)
                }
            })));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var r = n(2), o = n(48);
        t.a = function(t) {
            var n = t.hideNotification;
            return e("div", null, e("p", {
                className: "equatio-upgrade-teacher-message"
            }, e("strong", null, e(r.a, {
                id: "upgrade-overlay-teacher-review.title",
                defaultMessage: "Feeling like a star \u2b50\ufe0f?"
            })), " ", e(r.a, {
                id: "upgrade-overlay-teacher-review.text",
                defaultMessage: "Share your star-power by giving EquatIO a 5-star rating!"
            })), e("ul", {
                className: "equatio-buttonset equatio-upgrade-buttonset"
            }, e("li", {
                className: "equatio-buttonset__item"
            }, e("a", {
                className: "equatio-button equatio-button--gold equatio-button--small",
                onClick: function() {
                    n(), Object(o.a)();
                },
                href: "https://chrome.google.com/webstore/detail/equatio-math-made-digital/hjngolefdpdnooamgdldlkjgmdcmcjnc/reviews",
                style: {
                    color: "#FFF",
                    textDecoration: "none",
                    fontWeight: 600
                },
                target: "_blank",
                rel: "noopener noreferrer"
            }, e(r.a, {
                id: "upgrade-overlay-teacher-review-action",
                defaultMessage: "Rate EquatIO!"
            }))), e("li", {
                className: "equatio-buttonset__item"
            }, e("button", {
                className: "equatio-upgrade-linkbutton",
                onClick: function() {
                    return n();
                },
                style: {
                    fontWeight: 600
                }
            }, e(r.a, {
                id: "upgrade-overlay-teacher-review-no-thanks",
                defaultMessage: "Remind me later."
            }))), e("li", {
                className: "equatio-buttonset__item"
            }, e("button", {
                className: "equatio-upgrade-linkbutton",
                onClick: function() {
                    n(), Object(o.a)();
                }
            }, e(r.a, {
                id: "upgrade-overlay-teacher-review-dismiss",
                defaultMessage: "No, thanks."
            })))));
        };
    }).call(this, n(4).h);
}, function(e, t, n) {
    var r = n(80);
    function o(e, t) {
        var n = r(e), o = r(t);
        return n.getTime() < o.getTime();
    }
    e.exports = o;
}, function(e, t, n) {
    var r = n(183), o = 6e4;
    function i(e, t) {
        var n = Number(t);
        return r(e, n * o);
    }
    e.exports = i;
}, function(e, t, n) {
    var r, o;
    void 0 === (o = "function" == typeof (r = function() {
        "use strict";
        function e(e) {
            var t, n = Object.prototype.hasOwnProperty, r = [];
            for (t in e) n.call(e, t) && r.push(t);
            return r;
        }
        function t(e) {
            return void 0 === e ? null : e ? decodeURIComponent(e) : e;
        }
        function n(e) {
            switch (typeof e) {
              case "string":
                return encodeURIComponent(e);

              case "boolean":
                return e ? "true" : "false";

              case "number":
                return isFinite(e) ? e : "";

              case "object":
                return void 0 === e || null === e ? "" : JSON && JSON.stringify ? encodeURIComponent(JSON.stringify(e)) : "";

              default:
                return "";
            }
        }
        return Array.isArray || (Array.isArray = function(e) {
            return "[object Array]" === Object.prototype.toString.call(e);
        }), {
            version: "1.3.2",
            parse: function(e, n, r) {
                var o;
                n = n || "&", r = r || "=";
                var i = Object.create(null);
                if ("string" != typeof e) return i;
                if ((o = e.indexOf("?")) < 0 && e.indexOf(r) < 0) return i;
                o >= 0 && (e = e.substr(o + 1)), e = e.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g, ""), 
                (o = e.lastIndexOf("#")) > 0 && (e = e.substr(0, o));
                var a = e.split(n);
                for (o = 0; o < a.length; ++o) {
                    var s, u, c = a[o].replace(/\+/g, " "), l = c.indexOf(r);
                    if (0 !== l && 0 !== c.length) {
                        l < 0 ? (s = t(c), u = null) : (s = t(c.substr(0, l)), u = t(c.substr(l + 1)));
                        var h = i[s];
                        void 0 === h ? i[s] = u : Array.isArray(h) ? h.push(u) : i[s] = [ h, u ];
                    }
                }
                return i;
            },
            stringify: function(t, r, o) {
                if (r = r || "&", o = o || "=", "object" != typeof t && "function" != typeof t || null === t) return "";
                var i = e(t);
                if (!i || !i.length) return "";
                for (var a, s, u, c = [], l = 0; l < i.length; l++) if (s = n(i[l]), void 0 !== (u = t[s]) && "function" != typeof u) if (Array.isArray(u)) for (a = 0; a < u.length; ++a) c.push(s + o + (u[a] ? n(u[a]) : "")); else null !== u && (u = n(u)), 
                c.push(null === u || void 0 === u ? s : s + o + u);
                return c.join(r);
            }
        };
    }) ? r.call(t, n, t, e) : r) || (e.exports = o);
}, function(e, t, n) {
    e.exports = n.p + "background/google-analytics-bundle.js";
}, function(e, t, n) {
    n(105), e.exports = n(13).default;
}, function(e, t, n) {
    "use strict";
    n.r(t);
    n(106), n(110), n(111);
}, function(e, t, n) {
    (function(e) {
        var t = function() {
            if (void 0 !== e) return e;
            if ("undefined" != typeof window) return window;
            if ("undefined" != typeof self) return self;
            throw new Error("unable to locate global object");
        }();
        "undefined" == typeof Promise && (t.Promise = Promise = n(107));
    }).call(this, n(27));
}, function(e, t, n) {
    (function(t) {
        !function(n) {
            var r = setTimeout;
            function o() {}
            function i(e, t) {
                return function() {
                    e.apply(t, arguments);
                };
            }
            function a(e) {
                if (!(this instanceof a)) throw new TypeError("Promises must be constructed via new");
                if ("function" != typeof e) throw new TypeError("not a function");
                this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], 
                p(e, this);
            }
            function s(e, t) {
                for (;3 === e._state; ) e = e._value;
                0 !== e._state ? (e._handled = !0, a._immediateFn(function() {
                    var n = 1 === e._state ? t.onFulfilled : t.onRejected;
                    if (null !== n) {
                        var r;
                        try {
                            r = n(e._value);
                        } catch (e) {
                            return void c(t.promise, e);
                        }
                        u(t.promise, r);
                    } else (1 === e._state ? u : c)(t.promise, e._value);
                })) : e._deferreds.push(t);
            }
            function u(e, t) {
                try {
                    if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
                    if (t && ("object" == typeof t || "function" == typeof t)) {
                        var n = t.then;
                        if (t instanceof a) return e._state = 3, e._value = t, void l(e);
                        if ("function" == typeof n) return void p(i(n, t), e);
                    }
                    e._state = 1, e._value = t, l(e);
                } catch (t) {
                    c(e, t);
                }
            }
            function c(e, t) {
                e._state = 2, e._value = t, l(e);
            }
            function l(e) {
                2 === e._state && 0 === e._deferreds.length && a._immediateFn(function() {
                    e._handled || a._unhandledRejectionFn(e._value);
                });
                for (var t = 0, n = e._deferreds.length; t < n; t++) s(e, e._deferreds[t]);
                e._deferreds = null;
            }
            function h(e, t, n) {
                this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, 
                this.promise = n;
            }
            function p(e, t) {
                var n = !1;
                try {
                    e(function(e) {
                        n || (n = !0, u(t, e));
                    }, function(e) {
                        n || (n = !0, c(t, e));
                    });
                } catch (e) {
                    if (n) return;
                    n = !0, c(t, e);
                }
            }
            a.prototype.catch = function(e) {
                return this.then(null, e);
            }, a.prototype.then = function(e, t) {
                var n = new this.constructor(o);
                return s(this, new h(e, t, n)), n;
            }, a.all = function(e) {
                return new a(function(t, n) {
                    if (!e || void 0 === e.length) throw new TypeError("Promise.all accepts an array");
                    var r = Array.prototype.slice.call(e);
                    if (0 === r.length) return t([]);
                    var o = r.length;
                    function i(e, a) {
                        try {
                            if (a && ("object" == typeof a || "function" == typeof a)) {
                                var s = a.then;
                                if ("function" == typeof s) return void s.call(a, function(t) {
                                    i(e, t);
                                }, n);
                            }
                            r[e] = a, 0 == --o && t(r);
                        } catch (e) {
                            n(e);
                        }
                    }
                    for (var a = 0; a < r.length; a++) i(a, r[a]);
                });
            }, a.resolve = function(e) {
                return e && "object" == typeof e && e.constructor === a ? e : new a(function(t) {
                    t(e);
                });
            }, a.reject = function(e) {
                return new a(function(t, n) {
                    n(e);
                });
            }, a.race = function(e) {
                return new a(function(t, n) {
                    for (var r = 0, o = e.length; r < o; r++) e[r].then(t, n);
                });
            }, a._immediateFn = "function" == typeof t && function(e) {
                t(e);
            } || function(e) {
                r(e, 0);
            }, a._unhandledRejectionFn = function(e) {
                "undefined" != typeof console && console;
            }, a._setImmediateFn = function(e) {
                a._immediateFn = e;
            }, a._setUnhandledRejectionFn = function(e) {
                a._unhandledRejectionFn = e;
            }, void 0 !== e && e.exports ? e.exports = a : n.Promise || (n.Promise = a);
        }(this);
    }).call(this, n(108).setImmediate);
}, function(e, t, n) {
    (function(e) {
        var r = void 0 !== e && e || "undefined" != typeof self && self || window, o = Function.prototype.apply;
        function i(e, t) {
            this._id = e, this._clearFn = t;
        }
        t.setTimeout = function() {
            return new i(o.call(setTimeout, r, arguments), clearTimeout);
        }, t.setInterval = function() {
            return new i(o.call(setInterval, r, arguments), clearInterval);
        }, t.clearTimeout = t.clearInterval = function(e) {
            e && e.close();
        }, i.prototype.unref = i.prototype.ref = function() {}, i.prototype.close = function() {
            this._clearFn.call(r, this._id);
        }, t.enroll = function(e, t) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = t;
        }, t.unenroll = function(e) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;
        }, t._unrefActive = t.active = function(e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            t >= 0 && (e._idleTimeoutId = setTimeout(function() {
                e._onTimeout && e._onTimeout();
            }, t));
        }, n(109), t.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, 
        t.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate;
    }).call(this, n(27));
}, function(e, t, n) {
    (function(e, t) {
        !function(e, n) {
            "use strict";
            if (!e.setImmediate) {
                var r, o = 1, i = {}, a = !1, s = e.document, u = Object.getPrototypeOf && Object.getPrototypeOf(e);
                u = u && u.setTimeout ? u : e, "[object process]" === {}.toString.call(e.process) ? d() : f() ? v() : e.MessageChannel ? m() : s && "onreadystatechange" in s.createElement("script") ? y() : g(), 
                u.setImmediate = c, u.clearImmediate = l;
            }
            function c(e) {
                "function" != typeof e && (e = new Function("" + e));
                for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];
                var a = {
                    callback: e,
                    args: t
                };
                return i[o] = a, r(o), o++;
            }
            function l(e) {
                delete i[e];
            }
            function h(e) {
                var t = e.callback, r = e.args;
                switch (r.length) {
                  case 0:
                    t();
                    break;

                  case 1:
                    t(r[0]);
                    break;

                  case 2:
                    t(r[0], r[1]);
                    break;

                  case 3:
                    t(r[0], r[1], r[2]);
                    break;

                  default:
                    t.apply(n, r);
                }
            }
            function p(e) {
                if (a) setTimeout(p, 0, e); else {
                    var t = i[e];
                    if (t) {
                        a = !0;
                        try {
                            h(t);
                        } finally {
                            l(e), a = !1;
                        }
                    }
                }
            }
            function d() {
                r = function(e) {
                    t.nextTick(function() {
                        p(e);
                    });
                };
            }
            function f() {
                if (e.postMessage && !e.importScripts) {
                    var t = !0, n = e.onmessage;
                    return e.onmessage = function() {
                        t = !1;
                    }, e.postMessage("", "*"), e.onmessage = n, t;
                }
            }
            function v() {
                var t = "setImmediate$" + Math.random() + "$", n = function(n) {
                    n.source === e && "string" == typeof n.data && 0 === n.data.indexOf(t) && p(+n.data.slice(t.length));
                };
                e.addEventListener ? e.addEventListener("message", n, !1) : e.attachEvent("onmessage", n), 
                r = function(n) {
                    e.postMessage(t + n, "*");
                };
            }
            function m() {
                var e = new MessageChannel();
                e.port1.onmessage = function(e) {
                    p(e.data);
                }, r = function(t) {
                    e.port2.postMessage(t);
                };
            }
            function y() {
                var e = s.documentElement;
                r = function(t) {
                    var n = s.createElement("script");
                    n.onreadystatechange = function() {
                        p(t), n.onreadystatechange = null, e.removeChild(n), n = null;
                    }, e.appendChild(n);
                };
            }
            function g() {
                r = function(e) {
                    setTimeout(p, 0, e);
                };
            }
        }("undefined" == typeof self ? void 0 === e ? this : e : self);
    }).call(this, n(27), n(39));
}, function(e, t) {
    Array.prototype.find || Object.defineProperty(Array.prototype, "find", {
        value: function(e) {
            if (null == this) throw new TypeError('"this" is null or not defined');
            var t = Object(this), n = t.length >>> 0;
            if ("function" != typeof e) throw new TypeError("predicate must be a function");
            for (var r = arguments[1], o = 0; o < n; ) {
                var i = t[o];
                if (e.call(r, i, o, t)) return i;
                o++;
            }
        }
    });
}, function(e, t) {
    Array.prototype.findIndex || Object.defineProperty(Array.prototype, "findIndex", {
        value: function(e) {
            if (null == this) throw new TypeError('"this" is null or not defined');
            var t = Object(this), n = t.length >>> 0;
            if ("function" != typeof e) throw new TypeError("predicate must be a function");
            for (var r = arguments[1], o = 0; o < n; ) {
                var i = t[o];
                if (e.call(r, i, o, t)) return o;
                o++;
            }
            return -1;
        }
    });
}, function(e, t, n) {
    "use strict";
    function r(e) {
        return o(void 0, e);
    }
    function o(e, t) {
        if (!(t instanceof Object)) return t;
        switch (t.constructor) {
          case Date:
            return new Date(t.getTime());

          case Object:
            void 0 === e && (e = {});
            break;

          case Array:
            e = [];
            break;

          default:
            return t;
        }
        for (var n in t) t.hasOwnProperty(n) && (e[n] = o(e[n], t[n]));
        return e;
    }
    function i(e, t, n) {
        e[t] = n;
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.deepCopy = r, t.deepExtend = o, t.patchProperty = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function() {
        function e() {
            var e = this;
            this.promise = new Promise(function(t, n) {
                e.resolve = t, e.reject = n;
            });
        }
        return e.prototype.wrapCallback = function(e) {
            var t = this;
            return function(n, r) {
                n ? t.reject(n) : t.resolve(r), "function" == typeof e && (t.promise.catch(function() {}), 
                1 === e.length ? e(n) : e(n, r));
            };
        }, e;
    }();
    t.Deferred = r;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(40);
    t.getUA = function() {
        return "undefined" != typeof navigator && "string" == typeof navigator.userAgent ? navigator.userAgent : "";
    }, t.isMobileCordova = function() {
        return "undefined" != typeof window && !!(window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(t.getUA());
    }, t.isReactNative = function() {
        return "object" == typeof navigator && "ReactNative" === navigator.product;
    }, t.isNodeSdk = function() {
        return !0 === r.CONSTANTS.NODE_CLIENT || !0 === r.CONSTANTS.NODE_ADMIN;
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = "FirebaseError", o = Error.captureStackTrace;
    function i(e) {
        var t = o;
        return o = e, t;
    }
    t.patchCapture = i;
    var a = function() {
        function e(e, t) {
            if (this.code = e, this.message = t, o) o(this, s.prototype.create); else {
                var n = Error.apply(this, arguments);
                this.name = r, Object.defineProperty(this, "stack", {
                    get: function() {
                        return n.stack;
                    }
                });
            }
        }
        return e;
    }();
    t.FirebaseError = a, a.prototype = Object.create(Error.prototype), a.prototype.constructor = a, 
    a.prototype.name = r;
    var s = function() {
        function e(e, t, n) {
            this.service = e, this.serviceName = t, this.errors = n, this.pattern = /\{\$([^}]+)}/g;
        }
        return e.prototype.create = function(e, t) {
            void 0 === t && (t = {});
            var n, r = this.errors[e], o = this.service + "/" + e;
            n = void 0 === r ? "Error" : r.replace(this.pattern, function(e, n) {
                var r = t[n];
                return void 0 !== r ? r.toString() : "<" + n + "?>";
            }), n = this.serviceName + ": " + n + " (" + o + ").";
            var i = new a(o, n);
            for (var s in t) t.hasOwnProperty(s) && "_" !== s.slice(-1) && (i[s] = t[s]);
            return i;
        }, e;
    }();
    t.ErrorFactory = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(51), o = n(52);
    t.decode = function(e) {
        var t = {}, n = {}, i = {}, a = "";
        try {
            var s = e.split(".");
            t = o.jsonEval(r.base64Decode(s[0]) || ""), n = o.jsonEval(r.base64Decode(s[1]) || ""), 
            a = s[2], i = n.d || {}, delete n.d;
        } catch (e) {}
        return {
            header: t,
            claims: n,
            data: i,
            signature: a
        };
    }, t.isValidTimestamp = function(e) {
        var n, r, o = t.decode(e).claims, i = Math.floor(new Date().getTime() / 1e3);
        return "object" == typeof o && (o.hasOwnProperty("nbf") ? n = o.nbf : o.hasOwnProperty("iat") && (n = o.iat), 
        r = o.hasOwnProperty("exp") ? o.exp : n + 86400), i && n && r && i >= n && i <= r;
    }, t.issuedAtTime = function(e) {
        var n = t.decode(e).claims;
        return "object" == typeof n && n.hasOwnProperty("iat") ? n.iat : null;
    }, t.isValidFormat = function(e) {
        var n = t.decode(e), r = n.claims;
        return !!n.signature && !!r && "object" == typeof r && r.hasOwnProperty("iat");
    }, t.isAdmin = function(e) {
        var n = t.decode(e).claims;
        return "object" == typeof n && !0 === n.admin;
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(53);
    t.querystring = function(e) {
        var t = [];
        return r.forEach(e, function(e, n) {
            Array.isArray(n) ? n.forEach(function(n) {
                t.push(encodeURIComponent(e) + "=" + encodeURIComponent(n));
            }) : t.push(encodeURIComponent(e) + "=" + encodeURIComponent(n));
        }), t.length ? "&" + t.join("&") : "";
    }, t.querystringDecode = function(e) {
        var t = {};
        return e.replace(/^\?/, "").split("&").forEach(function(e) {
            if (e) {
                var n = e.split("=");
                t[n[0]] = n[1];
            }
        }), t;
    };
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = function(e) {
        function t() {
            var t = e.call(this) || this;
            t.chain_ = [], t.buf_ = [], t.W_ = [], t.pad_ = [], t.inbuf_ = 0, t.total_ = 0, 
            t.blockSize = 64, t.pad_[0] = 128;
            for (var n = 1; n < t.blockSize; ++n) t.pad_[n] = 0;
            return t.reset(), t;
        }
        return o(t, e), t.prototype.reset = function() {
            this.chain_[0] = 1732584193, this.chain_[1] = 4023233417, this.chain_[2] = 2562383102, 
            this.chain_[3] = 271733878, this.chain_[4] = 3285377520, this.inbuf_ = 0, this.total_ = 0;
        }, t.prototype.compress_ = function(e, t) {
            t || (t = 0);
            var n = this.W_;
            if ("string" == typeof e) for (var r = 0; r < 16; r++) n[r] = e.charCodeAt(t) << 24 | e.charCodeAt(t + 1) << 16 | e.charCodeAt(t + 2) << 8 | e.charCodeAt(t + 3), 
            t += 4; else for (r = 0; r < 16; r++) n[r] = e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3], 
            t += 4;
            for (r = 16; r < 80; r++) {
                var o = n[r - 3] ^ n[r - 8] ^ n[r - 14] ^ n[r - 16];
                n[r] = 4294967295 & (o << 1 | o >>> 31);
            }
            var i, a, s = this.chain_[0], u = this.chain_[1], c = this.chain_[2], l = this.chain_[3], h = this.chain_[4];
            for (r = 0; r < 80; r++) {
                r < 40 ? r < 20 ? (i = l ^ u & (c ^ l), a = 1518500249) : (i = u ^ c ^ l, a = 1859775393) : r < 60 ? (i = u & c | l & (u | c), 
                a = 2400959708) : (i = u ^ c ^ l, a = 3395469782);
                o = (s << 5 | s >>> 27) + i + h + a + n[r] & 4294967295;
                h = l, l = c, c = 4294967295 & (u << 30 | u >>> 2), u = s, s = o;
            }
            this.chain_[0] = this.chain_[0] + s & 4294967295, this.chain_[1] = this.chain_[1] + u & 4294967295, 
            this.chain_[2] = this.chain_[2] + c & 4294967295, this.chain_[3] = this.chain_[3] + l & 4294967295, 
            this.chain_[4] = this.chain_[4] + h & 4294967295;
        }, t.prototype.update = function(e, t) {
            if (null != e) {
                void 0 === t && (t = e.length);
                for (var n = t - this.blockSize, r = 0, o = this.buf_, i = this.inbuf_; r < t; ) {
                    if (0 == i) for (;r <= n; ) this.compress_(e, r), r += this.blockSize;
                    if ("string" == typeof e) {
                        for (;r < t; ) if (o[i] = e.charCodeAt(r), ++r, ++i == this.blockSize) {
                            this.compress_(o), i = 0;
                            break;
                        }
                    } else for (;r < t; ) if (o[i] = e[r], ++r, ++i == this.blockSize) {
                        this.compress_(o), i = 0;
                        break;
                    }
                }
                this.inbuf_ = i, this.total_ += t;
            }
        }, t.prototype.digest = function() {
            var e = [], t = 8 * this.total_;
            this.inbuf_ < 56 ? this.update(this.pad_, 56 - this.inbuf_) : this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));
            for (var n = this.blockSize - 1; n >= 56; n--) this.buf_[n] = 255 & t, t /= 256;
            this.compress_(this.buf_);
            var r = 0;
            for (n = 0; n < 5; n++) for (var o = 24; o >= 0; o -= 8) e[r] = this.chain_[n] >> o & 255, 
            ++r;
            return e;
        }, t;
    }(n(119).Hash);
    t.Sha1 = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = function() {
        function e() {
            this.blockSize = -1;
        }
        return e;
    }();
    t.Hash = r;
}, function(e, t, n) {
    "use strict";
    function r(e, t) {
        var n = new o(e, t);
        return n.subscribe.bind(n);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.createSubscribe = r;
    var o = function() {
        function e(e, t) {
            var n = this;
            this.observers = [], this.unsubscribes = [], this.observerCount = 0, this.task = Promise.resolve(), 
            this.finalized = !1, this.onNoObservers = t, this.task.then(function() {
                e(n);
            }).catch(function(e) {
                n.error(e);
            });
        }
        return e.prototype.next = function(e) {
            this.forEachObserver(function(t) {
                t.next(e);
            });
        }, e.prototype.error = function(e) {
            this.forEachObserver(function(t) {
                t.error(e);
            }), this.close(e);
        }, e.prototype.complete = function() {
            this.forEachObserver(function(e) {
                e.complete();
            }), this.close();
        }, e.prototype.subscribe = function(e, t, n) {
            var r, o = this;
            if (void 0 === e && void 0 === t && void 0 === n) throw new Error("Missing Observer.");
            void 0 === (r = a(e, [ "next", "error", "complete" ]) ? e : {
                next: e,
                error: t,
                complete: n
            }).next && (r.next = s), void 0 === r.error && (r.error = s), void 0 === r.complete && (r.complete = s);
            var i = this.unsubscribeOne.bind(this, this.observers.length);
            return this.finalized && this.task.then(function() {
                try {
                    o.finalError ? r.error(o.finalError) : r.complete();
                } catch (e) {}
            }), this.observers.push(r), i;
        }, e.prototype.unsubscribeOne = function(e) {
            void 0 !== this.observers && void 0 !== this.observers[e] && (delete this.observers[e], 
            this.observerCount -= 1, 0 === this.observerCount && void 0 !== this.onNoObservers && this.onNoObservers(this));
        }, e.prototype.forEachObserver = function(e) {
            if (!this.finalized) for (var t = 0; t < this.observers.length; t++) this.sendOne(t, e);
        }, e.prototype.sendOne = function(e, t) {
            var n = this;
            this.task.then(function() {
                if (void 0 !== n.observers && void 0 !== n.observers[e]) try {
                    t(n.observers[e]);
                } catch (e) {
                    "undefined" != typeof console && console.error;
                }
            });
        }, e.prototype.close = function(e) {
            var t = this;
            this.finalized || (this.finalized = !0, void 0 !== e && (this.finalError = e), this.task.then(function() {
                t.observers = void 0, t.onNoObservers = void 0;
            }));
        }, e;
    }();
    function i(e, t) {
        return function() {
            for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
            Promise.resolve(!0).then(function() {
                e.apply(void 0, n);
            }).catch(function(e) {
                t && t(e);
            });
        };
    }
    function a(e, t) {
        if ("object" != typeof e || null === e) return !1;
        for (var n = 0, r = t; n < r.length; n++) {
            var o = r[n];
            if (o in e && "function" == typeof e[o]) return !0;
        }
        return !1;
    }
    function s() {}
    t.async = i;
}, function(e, t, n) {
    "use strict";
    function r(e, t, n) {
        var r = "";
        switch (t) {
          case 1:
            r = n ? "first" : "First";
            break;

          case 2:
            r = n ? "second" : "Second";
            break;

          case 3:
            r = n ? "third" : "Third";
            break;

          case 4:
            r = n ? "fourth" : "Fourth";
            break;

          default:
            throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?");
        }
        var o = e + " failed: ";
        return o += r + " argument ";
    }
    function o(e, t, n, o) {
        if ((!o || n) && "string" != typeof n) throw new Error(r(e, t, o) + "must be a valid firebase namespace.");
    }
    function i(e, t, n, o) {
        if ((!o || n) && "function" != typeof n) throw new Error(r(e, t, o) + "must be a valid function.");
    }
    function a(e, t, n, o) {
        if ((!o || n) && ("object" != typeof n || null === n)) throw new Error(r(e, t, o) + "must be a valid context object.");
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.validateArgCount = function(e, t, n, r) {
        var o;
        if (r < t ? o = "at least " + t : r > n && (o = 0 === n ? "none" : "no more than " + n), 
        o) throw new Error(e + " failed: Was called with " + r + (1 === r ? " argument." : " arguments.") + " Expects " + o + ".");
    }, t.errorPrefix = r, t.validateNamespace = o, t.validateCallback = i, t.validateContextObject = a;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(50);
    t.stringToByteArray = function(e) {
        for (var t = [], n = 0, o = 0; o < e.length; o++) {
            var i = e.charCodeAt(o);
            if (i >= 55296 && i <= 56319) {
                var a = i - 55296;
                o++, r.assert(o < e.length, "Surrogate pair missing trail surrogate."), i = 65536 + (a << 10) + (e.charCodeAt(o) - 56320);
            }
            i < 128 ? t[n++] = i : i < 2048 ? (t[n++] = i >> 6 | 192, t[n++] = 63 & i | 128) : i < 65536 ? (t[n++] = i >> 12 | 224, 
            t[n++] = i >> 6 & 63 | 128, t[n++] = 63 & i | 128) : (t[n++] = i >> 18 | 240, t[n++] = i >> 12 & 63 | 128, 
            t[n++] = i >> 6 & 63 | 128, t[n++] = 63 & i | 128);
        }
        return t;
    }, t.stringLength = function(e) {
        for (var t = 0, n = 0; n < e.length; n++) {
            var r = e.charCodeAt(n);
            r < 128 ? t++ : r < 2048 ? t += 2 : r >= 55296 && r <= 56319 ? (t += 4, n++) : t += 3;
        }
        return t;
    };
}, function(e, t, n) {
    n(124);
}, function(e, t, n) {
    (function(e) {
        (function() {
            var e, t = n(13).default, r = r || {}, o = this;
            function i(e) {
                return "string" == typeof e;
            }
            function a(e) {
                return "boolean" == typeof e;
            }
            function s() {}
            function u(e) {
                var t = typeof e;
                if ("object" == t) {
                    if (!e) return "null";
                    if (e instanceof Array) return "array";
                    if (e instanceof Object) return t;
                    var n = Object.prototype.toString.call(e);
                    if ("[object Window]" == n) return "object";
                    if ("[object Array]" == n || "number" == typeof e.length && void 0 !== e.splice && void 0 !== e.propertyIsEnumerable && !e.propertyIsEnumerable("splice")) return "array";
                    if ("[object Function]" == n || void 0 !== e.call && void 0 !== e.propertyIsEnumerable && !e.propertyIsEnumerable("call")) return "function";
                } else if ("function" == t && void 0 === e.call) return "object";
                return t;
            }
            function c(e) {
                return null === e;
            }
            function l(e) {
                return "array" == u(e);
            }
            function h(e) {
                var t = u(e);
                return "array" == t || "object" == t && "number" == typeof e.length;
            }
            function p(e) {
                return "function" == u(e);
            }
            function d(e) {
                var t = typeof e;
                return "object" == t && null != e || "function" == t;
            }
            var f = "closure_uid_" + (1e9 * Math.random() >>> 0), v = 0;
            function m(e, t, n) {
                return e.call.apply(e.bind, arguments);
            }
            function y(e, t, n) {
                if (!e) throw Error();
                if (2 < arguments.length) {
                    var r = Array.prototype.slice.call(arguments, 2);
                    return function() {
                        var n = Array.prototype.slice.call(arguments);
                        return Array.prototype.unshift.apply(n, r), e.apply(t, n);
                    };
                }
                return function() {
                    return e.apply(t, arguments);
                };
            }
            function g(e, t, n) {
                return (g = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? m : y).apply(null, arguments);
            }
            function _(e, t) {
                var n = Array.prototype.slice.call(arguments, 1);
                return function() {
                    var t = n.slice();
                    return t.push.apply(t, arguments), e.apply(this, t);
                };
            }
            var b = Date.now || function() {
                return +new Date();
            };
            function w(e, t) {
                function n() {}
                n.prototype = t.prototype, e.ib = t.prototype, e.prototype = new n(), e.prototype.constructor = e, 
                e.Rc = function(e, n, r) {
                    for (var o = Array(arguments.length - 2), i = 2; i < arguments.length; i++) o[i - 2] = arguments[i];
                    return t.prototype[n].apply(e, o);
                };
            }
            function E(e) {
                if (Error.captureStackTrace) Error.captureStackTrace(this, E); else {
                    var t = Error().stack;
                    t && (this.stack = t);
                }
                e && (this.message = String(e));
            }
            function T(e, t) {
                for (var n = e.split("%s"), r = "", o = Array.prototype.slice.call(arguments, 1); o.length && 1 < n.length; ) r += n.shift() + o.shift();
                return r + n.join("%s");
            }
            w(E, Error), E.prototype.name = "CustomError";
            var C = String.prototype.trim ? function(e) {
                return e.trim();
            } : function(e) {
                return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
            };
            function S(e) {
                return k.test(e) ? (-1 != e.indexOf("&") && (e = e.replace(N, "&amp;")), -1 != e.indexOf("<") && (e = e.replace(I, "&lt;")), 
                -1 != e.indexOf(">") && (e = e.replace(O, "&gt;")), -1 != e.indexOf('"') && (e = e.replace(P, "&quot;")), 
                -1 != e.indexOf("'") && (e = e.replace(R, "&#39;")), -1 != e.indexOf("\0") && (e = e.replace(A, "&#0;")), 
                e) : e;
            }
            var N = /&/g, I = /</g, O = />/g, P = /"/g, R = /'/g, A = /\x00/g, k = /[\x00&<>"']/;
            function x(e, t) {
                return -1 != e.indexOf(t);
            }
            function D(e, t) {
                return e < t ? -1 : e > t ? 1 : 0;
            }
            function L(e, t) {
                t.unshift(e), E.call(this, T.apply(null, t)), t.shift();
            }
            function M(e, t) {
                throw new L("Failure" + (e ? ": " + e : ""), Array.prototype.slice.call(arguments, 1));
            }
            w(L, E), L.prototype.name = "AssertionError";
            var F = Array.prototype.indexOf ? function(e, t, n) {
                return Array.prototype.indexOf.call(e, t, n);
            } : function(e, t, n) {
                if (n = null == n ? 0 : 0 > n ? Math.max(0, e.length + n) : n, i(e)) return i(t) && 1 == t.length ? e.indexOf(t, n) : -1;
                for (;n < e.length; n++) if (n in e && e[n] === t) return n;
                return -1;
            }, U = Array.prototype.forEach ? function(e, t, n) {
                Array.prototype.forEach.call(e, t, n);
            } : function(e, t, n) {
                for (var r = e.length, o = i(e) ? e.split("") : e, a = 0; a < r; a++) a in o && t.call(n, o[a], a, e);
            };
            function j(e, t) {
                var n = e.length, r = i(e) ? e.split("") : e;
                for (--n; 0 <= n; --n) n in r && t.call(void 0, r[n], n, e);
            }
            var q, W = Array.prototype.map ? function(e, t, n) {
                return Array.prototype.map.call(e, t, n);
            } : function(e, t, n) {
                for (var r = e.length, o = Array(r), a = i(e) ? e.split("") : e, s = 0; s < r; s++) s in a && (o[s] = t.call(n, a[s], s, e));
                return o;
            }, B = Array.prototype.some ? function(e, t, n) {
                return Array.prototype.some.call(e, t, n);
            } : function(e, t, n) {
                for (var r = e.length, o = i(e) ? e.split("") : e, a = 0; a < r; a++) if (a in o && t.call(n, o[a], a, e)) return !0;
                return !1;
            };
            function V(e) {
                e: {
                    for (var t = fo, n = e.length, r = i(e) ? e.split("") : e, o = 0; o < n; o++) if (o in r && t.call(void 0, r[o], o, e)) {
                        t = o;
                        break e;
                    }
                    t = -1;
                }
                return 0 > t ? null : i(e) ? e.charAt(t) : e[t];
            }
            function G(e, t) {
                return 0 <= F(e, t);
            }
            function H(e, t) {
                var n;
                return (n = 0 <= (t = F(e, t))) && Array.prototype.splice.call(e, t, 1), n;
            }
            function K(e, t) {
                j(e, function(n, r) {
                    t.call(void 0, n, r, e) && 1 == Array.prototype.splice.call(e, r, 1).length && 0;
                });
            }
            function Q(e) {
                return Array.prototype.concat.apply([], arguments);
            }
            function Y(e) {
                var t = e.length;
                if (0 < t) {
                    for (var n = Array(t), r = 0; r < t; r++) n[r] = e[r];
                    return n;
                }
                return [];
            }
            e: {
                var X = o.navigator;
                if (X) {
                    var z = X.userAgent;
                    if (z) {
                        q = z;
                        break e;
                    }
                }
                q = "";
            }
            function J(e) {
                return x(q, e);
            }
            function $(e, t) {
                for (var n in e) t.call(void 0, e[n], n, e);
            }
            function Z(e) {
                var t, n = [], r = 0;
                for (t in e) n[r++] = e[t];
                return n;
            }
            function ee(e) {
                var t, n = [], r = 0;
                for (t in e) n[r++] = t;
                return n;
            }
            function te(e) {
                for (var t in e) return !1;
                return !0;
            }
            function ne(e, t) {
                for (var n in e) if (!(n in t) || e[n] !== t[n]) return !1;
                for (n in t) if (!(n in e)) return !1;
                return !0;
            }
            function re(e) {
                var t, n = {};
                for (t in e) n[t] = e[t];
                return n;
            }
            var oe = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
            function ie(e, t) {
                for (var n, r, o = 1; o < arguments.length; o++) {
                    for (n in r = arguments[o]) e[n] = r[n];
                    for (var i = 0; i < oe.length; i++) n = oe[i], Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
                }
            }
            function ae(e) {
                return ae[" "](e), e;
            }
            function se(e, t) {
                var n = we;
                return Object.prototype.hasOwnProperty.call(n, e) ? n[e] : n[e] = t(e);
            }
            ae[" "] = s;
            var ue, ce, le = J("Opera"), he = J("Trident") || J("MSIE"), pe = J("Edge"), de = pe || he, fe = J("Gecko") && !(x(q.toLowerCase(), "webkit") && !J("Edge")) && !(J("Trident") || J("MSIE")) && !J("Edge"), ve = x(q.toLowerCase(), "webkit") && !J("Edge");
            function me() {
                var e = o.document;
                return e ? e.documentMode : void 0;
            }
            e: {
                var ye = "", ge = (ce = q, fe ? /rv\:([^\);]+)(\)|;)/.exec(ce) : pe ? /Edge\/([\d\.]+)/.exec(ce) : he ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ce) : ve ? /WebKit\/(\S+)/.exec(ce) : le ? /(?:Version)[ \/]?(\S+)/.exec(ce) : void 0);
                if (ge && (ye = ge ? ge[1] : ""), he) {
                    var _e = me();
                    if (null != _e && _e > parseFloat(ye)) {
                        ue = String(_e);
                        break e;
                    }
                }
                ue = ye;
            }
            var be, we = {};
            function Ee(e) {
                return se(e, function() {
                    for (var t = 0, n = C(String(ue)).split("."), r = C(String(e)).split("."), o = Math.max(n.length, r.length), i = 0; 0 == t && i < o; i++) {
                        var a = n[i] || "", s = r[i] || "";
                        do {
                            if (a = /(\d*)(\D*)(.*)/.exec(a) || [ "", "", "", "" ], s = /(\d*)(\D*)(.*)/.exec(s) || [ "", "", "", "" ], 
                            0 == a[0].length && 0 == s[0].length) break;
                            t = D(0 == a[1].length ? 0 : parseInt(a[1], 10), 0 == s[1].length ? 0 : parseInt(s[1], 10)) || D(0 == a[2].length, 0 == s[2].length) || D(a[2], s[2]), 
                            a = a[3], s = s[3];
                        } while (0 == t);
                    }
                    return 0 <= t;
                });
            }
            var Te = o.document;
            function Ce(e) {
                e.prototype.then = e.prototype.then, e.prototype.$goog_Thenable = !0;
            }
            function Se(e) {
                if (!e) return !1;
                try {
                    return !!e.$goog_Thenable;
                } catch (e) {
                    return !1;
                }
            }
            function Ne(e, t, n) {
                this.f = n, this.c = e, this.g = t, this.b = 0, this.a = null;
            }
            function Ie(e, t) {
                e.g(t), e.b < e.f && (e.b++, t.next = e.a, e.a = t);
            }
            be = Te && he ? me() || ("CSS1Compat" == Te.compatMode ? parseInt(ue, 10) : 5) : void 0, 
            Ne.prototype.get = function() {
                if (0 < this.b) {
                    this.b--;
                    var e = this.a;
                    this.a = e.next, e.next = null;
                } else e = this.c();
                return e;
            };
            var Oe, Pe, Re = new Ne(function() {
                return new ke();
            }, function(e) {
                e.reset();
            }, 100);
            function Ae() {
                var e = Ue, t = null;
                return e.a && (t = e.a, e.a = e.a.next, e.a || (e.b = null), t.next = null), t;
            }
            function ke() {
                this.next = this.b = this.a = null;
            }
            function xe(e) {
                o.setTimeout(function() {
                    throw e;
                }, 0);
            }
            function De() {
                var e = o.MessageChannel;
                if (void 0 === e && "undefined" != typeof window && window.postMessage && window.addEventListener && !J("Presto") && (e = function() {
                    var e = document.createElement("IFRAME");
                    e.style.display = "none", e.src = "", document.documentElement.appendChild(e);
                    var t = e.contentWindow;
                    (e = t.document).open(), e.write(""), e.close();
                    var n = "callImmediate" + Math.random(), r = "file:" == t.location.protocol ? "*" : t.location.protocol + "//" + t.location.host;
                    e = g(function(e) {
                        "*" != r && e.origin != r || e.data != n || this.port1.onmessage();
                    }, this), t.addEventListener("message", e, !1), this.port1 = {}, this.port2 = {
                        postMessage: function() {
                            t.postMessage(n, r);
                        }
                    };
                }), void 0 !== e && !J("Trident") && !J("MSIE")) {
                    var t = new e(), n = {}, r = n;
                    return t.port1.onmessage = function() {
                        if (void 0 !== n.next) {
                            var e = (n = n.next).pb;
                            n.pb = null, e();
                        }
                    }, function(e) {
                        r.next = {
                            pb: e
                        }, r = r.next, t.port2.postMessage(0);
                    };
                }
                return "undefined" != typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function(e) {
                    var t = document.createElement("SCRIPT");
                    t.onreadystatechange = function() {
                        t.onreadystatechange = null, t.parentNode.removeChild(t), t = null, e(), e = null;
                    }, document.documentElement.appendChild(t);
                } : function(e) {
                    o.setTimeout(e, 0);
                };
            }
            function Le(e, t) {
                Pe || Me(), Fe || (Pe(), Fe = !0);
                var n = Ue, r = Re.get();
                r.set(e, t), n.b ? n.b.next = r : n.a = r, n.b = r;
            }
            function Me() {
                if (-1 != String(o.Promise).indexOf("[native code]")) {
                    var e = o.Promise.resolve(void 0);
                    Pe = function() {
                        e.then(je);
                    };
                } else Pe = function() {
                    var e = je;
                    !p(o.setImmediate) || o.Window && o.Window.prototype && !J("Edge") && o.Window.prototype.setImmediate == o.setImmediate ? (Oe || (Oe = De()), 
                    Oe(e)) : o.setImmediate(e);
                };
            }
            ke.prototype.set = function(e, t) {
                this.a = e, this.b = t, this.next = null;
            }, ke.prototype.reset = function() {
                this.next = this.b = this.a = null;
            };
            var Fe = !1, Ue = new function() {
                this.b = this.a = null;
            }();
            function je() {
                for (var e; e = Ae(); ) {
                    try {
                        e.a.call(e.b);
                    } catch (e) {
                        xe(e);
                    }
                    Ie(Re, e);
                }
                Fe = !1;
            }
            function qe(e, t) {
                if (this.a = We, this.i = void 0, this.f = this.b = this.c = null, this.g = this.h = !1, 
                e != s) try {
                    var n = this;
                    e.call(t, function(e) {
                        nt(n, Be, e);
                    }, function(e) {
                        if (!(e instanceof ht)) try {
                            if (e instanceof Error) throw e;
                            throw Error("Promise rejected.");
                        } catch (e) {}
                        nt(n, Ve, e);
                    });
                } catch (e) {
                    nt(this, Ve, e);
                }
            }
            var We = 0, Be = 2, Ve = 3;
            function Ge() {
                this.next = this.f = this.b = this.g = this.a = null, this.c = !1;
            }
            Ge.prototype.reset = function() {
                this.f = this.b = this.g = this.a = null, this.c = !1;
            };
            var He = new Ne(function() {
                return new Ge();
            }, function(e) {
                e.reset();
            }, 100);
            function Ke(e, t, n) {
                var r = He.get();
                return r.g = e, r.b = t, r.f = n, r;
            }
            function Qe(e) {
                if (e instanceof qe) return e;
                var t = new qe(s);
                return nt(t, Be, e), t;
            }
            function Ye(e) {
                return new qe(function(t, n) {
                    n(e);
                });
            }
            function Xe(e, t, n) {
                rt(e, t, n, null) || Le(_(t, e));
            }
            function ze(e) {
                return new qe(function(t, n) {
                    var r = e.length, o = [];
                    if (r) for (var i = function(e, n) {
                        r--, o[e] = n, 0 == r && t(o);
                    }, a = function(e) {
                        n(e);
                    }, s = 0; s < e.length; s++) Xe(e[s], _(i, s), a); else t(o);
                });
            }
            function Je(e) {
                return new qe(function(t) {
                    var n = e.length, r = [];
                    if (n) for (var o = function(e, o, i) {
                        n--, r[e] = o ? {
                            Ub: !0,
                            value: i
                        } : {
                            Ub: !1,
                            reason: i
                        }, 0 == n && t(r);
                    }, i = 0; i < e.length; i++) Xe(e[i], _(o, i, !0), _(o, i, !1)); else t(r);
                });
            }
            function $e(e, t) {
                return (t = Ke(t, t, void 0)).c = !0, et(e, t), e;
            }
            function Ze(e, t) {
                if (e.a == We) if (e.c) {
                    var n = e.c;
                    if (n.b) {
                        for (var r = 0, o = null, i = null, a = n.b; a && (a.c || (r++, a.a == e && (o = a), 
                        !(o && 1 < r))); a = a.next) o || (i = a);
                        o && (n.a == We && 1 == r ? Ze(n, t) : (i ? ((r = i).next == n.f && (n.f = r), r.next = r.next.next) : at(n), 
                        st(n, o, Ve, t)));
                    }
                    e.c = null;
                } else nt(e, Ve, t);
            }
            function et(e, t) {
                e.b || e.a != Be && e.a != Ve || it(e), e.f ? e.f.next = t : e.b = t, e.f = t;
            }
            function tt(e, t, n, r) {
                var o = Ke(null, null, null);
                return o.a = new qe(function(e, i) {
                    o.g = t ? function(n) {
                        try {
                            var o = t.call(r, n);
                            e(o);
                        } catch (e) {
                            i(e);
                        }
                    } : e, o.b = n ? function(t) {
                        try {
                            var o = n.call(r, t);
                            void 0 === o && t instanceof ht ? i(t) : e(o);
                        } catch (e) {
                            i(e);
                        }
                    } : i;
                }), o.a.c = e, et(e, o), o.a;
            }
            function nt(e, t, n) {
                e.a == We && (e === n && (t = Ve, n = new TypeError("Promise cannot resolve to itself")), 
                e.a = 1, rt(n, e.Ac, e.Bc, e) || (e.i = n, e.a = t, e.c = null, it(e), t != Ve || n instanceof ht || ct(e, n)));
            }
            function rt(e, t, n, r) {
                if (e instanceof qe) return et(e, Ke(t || s, n || null, r)), !0;
                if (Se(e)) return e.then(t, n, r), !0;
                if (d(e)) try {
                    var o = e.then;
                    if (p(o)) return ot(e, o, t, n, r), !0;
                } catch (e) {
                    return n.call(r, e), !0;
                }
                return !1;
            }
            function ot(e, t, n, r, o) {
                function i(e) {
                    s || (s = !0, r.call(o, e));
                }
                function a(e) {
                    s || (s = !0, n.call(o, e));
                }
                var s = !1;
                try {
                    t.call(e, a, i);
                } catch (e) {
                    i(e);
                }
            }
            function it(e) {
                e.h || (e.h = !0, Le(e.Qb, e));
            }
            function at(e) {
                var t = null;
                return e.b && (t = e.b, e.b = t.next, t.next = null), e.b || (e.f = null), t;
            }
            function st(e, t, n, r) {
                if (n == Ve && t.b && !t.c) for (;e && e.g; e = e.c) e.g = !1;
                if (t.a) t.a.c = null, ut(t, n, r); else try {
                    t.c ? t.g.call(t.f) : ut(t, n, r);
                } catch (e) {
                    lt.call(null, e);
                }
                Ie(He, t);
            }
            function ut(e, t, n) {
                t == Be ? e.g.call(e.f, n) : e.b && e.b.call(e.f, n);
            }
            function ct(e, t) {
                e.g = !0, Le(function() {
                    e.g && lt.call(null, t);
                });
            }
            qe.prototype.then = function(e, t, n) {
                return tt(this, p(e) ? e : null, p(t) ? t : null, n);
            }, Ce(qe), (e = qe.prototype).s = function(e, t) {
                return tt(this, null, e, t);
            }, e.cancel = function(e) {
                this.a == We && Le(function() {
                    Ze(this, new ht(e));
                }, this);
            }, e.Ac = function(e) {
                this.a = We, nt(this, Be, e);
            }, e.Bc = function(e) {
                this.a = We, nt(this, Ve, e);
            }, e.Qb = function() {
                for (var e; e = at(this); ) st(this, e, this.a, this.i);
                this.h = !1;
            };
            var lt = xe;
            function ht(e) {
                E.call(this, e);
            }
            w(ht, E), ht.prototype.name = "cancel";
            var pt = !he || 9 <= Number(be);
            function dt() {
                this.a = "", this.b = vt;
            }
            function ft(e) {
                return e instanceof dt && e.constructor === dt && e.b === vt ? e.a : (M("expected object of type Const, got '" + e + "'"), 
                "type_error:Const");
            }
            dt.prototype.la = !0, dt.prototype.ja = function() {
                return this.a;
            }, dt.prototype.toString = function() {
                return "Const{" + this.a + "}";
            };
            var vt = {};
            function mt(e) {
                var t = new dt();
                return t.a = e, t;
            }
            function yt() {
                this.a = "", this.b = Tt;
            }
            function gt(e) {
                return e instanceof yt && e.constructor === yt && e.b === Tt ? e.a : (M("expected object of type TrustedResourceUrl, got '" + e + "' of type " + u(e)), 
                "type_error:TrustedResourceUrl");
            }
            function _t(e, t) {
                return e = bt(e, t), (t = new yt()).a = e, t;
            }
            function bt(e, t) {
                var n = ft(e);
                if (!Et.test(n)) throw Error("Invalid TrustedResourceUrl format: " + n);
                return n.replace(wt, function(e, r) {
                    if (!Object.prototype.hasOwnProperty.call(t, r)) throw Error('Found marker, "' + r + '", in format string, "' + n + '", but no valid label mapping found in args: ' + JSON.stringify(t));
                    return (e = t[r]) instanceof dt ? ft(e) : encodeURIComponent(String(e));
                });
            }
            mt(""), yt.prototype.la = !0, yt.prototype.ja = function() {
                return this.a;
            }, yt.prototype.toString = function() {
                return "TrustedResourceUrl{" + this.a + "}";
            };
            var wt = /%{(\w+)}/g, Et = /^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i, Tt = {};
            function Ct() {
                this.a = "", this.b = Ot;
            }
            function St(e) {
                return e instanceof Ct && e.constructor === Ct && e.b === Ot ? e.a : (M("expected object of type SafeUrl, got '" + e + "' of type " + u(e)), 
                "type_error:SafeUrl");
            }
            Ct.prototype.la = !0, Ct.prototype.ja = function() {
                return this.a;
            }, Ct.prototype.toString = function() {
                return "SafeUrl{" + this.a + "}";
            };
            var Nt = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;
            function It(e) {
                return e instanceof Ct ? e : (e = e.la ? e.ja() : String(e), Nt.test(e) || (e = "about:invalid#zClosurez"), 
                Pt(e));
            }
            var Ot = {};
            function Pt(e) {
                var t = new Ct();
                return t.a = e, t;
            }
            function Rt() {
                this.a = "", this.b = kt;
            }
            function At(e) {
                return e instanceof Rt && e.constructor === Rt && e.b === kt ? e.a : (M("expected object of type SafeHtml, got '" + e + "' of type " + u(e)), 
                "type_error:SafeHtml");
            }
            Pt("about:blank"), Rt.prototype.la = !0, Rt.prototype.ja = function() {
                return this.a;
            }, Rt.prototype.toString = function() {
                return "SafeHtml{" + this.a + "}";
            };
            var kt = {};
            function xt(e) {
                var t = new Rt();
                return t.a = e, t;
            }
            function Dt(e) {
                var t = document;
                return i(e) ? t.getElementById(e) : e;
            }
            function Lt(e, t) {
                $(t, function(t, n) {
                    t && t.la && (t = t.ja()), "style" == n ? e.style.cssText = t : "class" == n ? e.className = t : "for" == n ? e.htmlFor = t : Mt.hasOwnProperty(n) ? e.setAttribute(Mt[n], t) : 0 == n.lastIndexOf("aria-", 0) || 0 == n.lastIndexOf("data-", 0) ? e.setAttribute(n, t) : e[n] = t;
                });
            }
            xt("<!DOCTYPE html>"), xt(""), xt("<br>");
            var Mt = {
                cellpadding: "cellPadding",
                cellspacing: "cellSpacing",
                colspan: "colSpan",
                frameborder: "frameBorder",
                height: "height",
                maxlength: "maxLength",
                nonce: "nonce",
                role: "role",
                rowspan: "rowSpan",
                type: "type",
                usemap: "useMap",
                valign: "vAlign",
                width: "width"
            };
            function Ft(e, t, n) {
                var r = arguments, o = document, a = String(r[0]), s = r[1];
                if (!pt && s && (s.name || s.type)) {
                    if (a = [ "<", a ], s.name && a.push(' name="', S(s.name), '"'), s.type) {
                        a.push(' type="', S(s.type), '"');
                        var u = {};
                        ie(u, s), delete u.type, s = u;
                    }
                    a.push(">"), a = a.join("");
                }
                return a = o.createElement(a), s && (i(s) ? a.className = s : l(s) ? a.className = s.join(" ") : Lt(a, s)), 
                2 < r.length && Ut(o, a, r), a;
            }
            function Ut(e, t, n) {
                function r(n) {
                    n && t.appendChild(i(n) ? e.createTextNode(n) : n);
                }
                for (var o = 2; o < n.length; o++) {
                    var a = n[o];
                    !h(a) || d(a) && 0 < a.nodeType ? r(a) : U(jt(a) ? Y(a) : a, r);
                }
            }
            function jt(e) {
                if (e && "number" == typeof e.length) {
                    if (d(e)) return "function" == typeof e.item || "string" == typeof e.item;
                    if (p(e)) return "function" == typeof e.item;
                }
                return !1;
            }
            function qt(e) {
                var t = [];
                return Bt(new Wt(), e, t), t.join("");
            }
            function Wt() {}
            function Bt(e, t, n) {
                if (null == t) n.push("null"); else {
                    if ("object" == typeof t) {
                        if (l(t)) {
                            var r = t;
                            t = r.length, n.push("[");
                            for (var o = "", i = 0; i < t; i++) n.push(o), Bt(e, r[i], n), o = ",";
                            return void n.push("]");
                        }
                        if (!(t instanceof String || t instanceof Number || t instanceof Boolean)) {
                            for (r in n.push("{"), o = "", t) Object.prototype.hasOwnProperty.call(t, r) && ("function" != typeof (i = t[r]) && (n.push(o), 
                            Ht(r, n), n.push(":"), Bt(e, i, n), o = ","));
                            return void n.push("}");
                        }
                        t = t.valueOf();
                    }
                    switch (typeof t) {
                      case "string":
                        Ht(t, n);
                        break;

                      case "number":
                        n.push(isFinite(t) && !isNaN(t) ? String(t) : "null");
                        break;

                      case "boolean":
                        n.push(String(t));
                        break;

                      case "function":
                        n.push("null");
                        break;

                      default:
                        throw Error("Unknown type: " + typeof t);
                    }
                }
            }
            var Vt = {
                '"': '\\"',
                "\\": "\\\\",
                "/": "\\/",
                "\b": "\\b",
                "\f": "\\f",
                "\n": "\\n",
                "\r": "\\r",
                "\t": "\\t",
                "\v": "\\u000b"
            }, Gt = /\uffff/.test("\uffff") ? /[\\\"\x00-\x1f\x7f-\uffff]/g : /[\\\"\x00-\x1f\x7f-\xff]/g;
            function Ht(e, t) {
                t.push('"', e.replace(Gt, function(e) {
                    var t = Vt[e];
                    return t || (t = "\\u" + (65536 | e.charCodeAt(0)).toString(16).substr(1), Vt[e] = t), 
                    t;
                }), '"');
            }
            function Kt() {
                0 != Qt && (Yt[this[f] || (this[f] = ++v)] = this), this.oa = this.oa, this.Fa = this.Fa;
            }
            var Qt = 0, Yt = {};
            function Xt(e) {
                e.oa || (e.oa = !0, e.ta(), 0 != Qt && (e = e[f] || (e[f] = ++v), delete Yt[e]));
            }
            Kt.prototype.oa = !1, Kt.prototype.ta = function() {
                if (this.Fa) for (;this.Fa.length; ) this.Fa.shift()();
            };
            var zt = Object.freeze || function(e) {
                return e;
            }, Jt = !he || 9 <= Number(be), $t = he && !Ee("9"), Zt = function() {
                if (!o.addEventListener || !Object.defineProperty) return !1;
                var e = !1, t = Object.defineProperty({}, "passive", {
                    get: function() {
                        e = !0;
                    }
                });
                return o.addEventListener("test", s, t), o.removeEventListener("test", s, t), e;
            }();
            function en(e, t) {
                this.type = e, this.b = this.target = t, this.Bb = !0;
            }
            function tn(e, t) {
                if (en.call(this, e ? e.type : ""), this.relatedTarget = this.b = this.target = null, 
                this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", 
                this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.pointerId = 0, 
                this.pointerType = "", this.a = null, e) {
                    var n = this.type = e.type, r = e.changedTouches ? e.changedTouches[0] : null;
                    if (this.target = e.target || e.srcElement, this.b = t, t = e.relatedTarget) {
                        if (fe) {
                            e: {
                                try {
                                    ae(t.nodeName);
                                    var o = !0;
                                    break e;
                                } catch (e) {}
                                o = !1;
                            }
                            o || (t = null);
                        }
                    } else "mouseover" == n ? t = e.fromElement : "mouseout" == n && (t = e.toElement);
                    this.relatedTarget = t, null === r ? (this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, 
                    this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, 
                    this.screenY = e.screenY || 0) : (this.clientX = void 0 !== r.clientX ? r.clientX : r.pageX, 
                    this.clientY = void 0 !== r.clientY ? r.clientY : r.pageY, this.screenX = r.screenX || 0, 
                    this.screenY = r.screenY || 0), this.button = e.button, this.key = e.key || "", 
                    this.ctrlKey = e.ctrlKey, this.altKey = e.altKey, this.shiftKey = e.shiftKey, this.metaKey = e.metaKey, 
                    this.pointerId = e.pointerId || 0, this.pointerType = i(e.pointerType) ? e.pointerType : nn[e.pointerType] || "", 
                    this.a = e, e.defaultPrevented && this.c();
                }
            }
            en.prototype.c = function() {
                this.Bb = !1;
            }, w(tn, en);
            var nn = zt({
                2: "touch",
                3: "pen",
                4: "mouse"
            });
            tn.prototype.c = function() {
                tn.ib.c.call(this);
                var e = this.a;
                if (e.preventDefault) e.preventDefault(); else if (e.returnValue = !1, $t) try {
                    (e.ctrlKey || 112 <= e.keyCode && 123 >= e.keyCode) && (e.keyCode = -1);
                } catch (e) {}
            }, tn.prototype.g = function() {
                return this.a;
            };
            var rn = "closure_listenable_" + (1e6 * Math.random() | 0), on = 0;
            function an(e, t, n, r, o) {
                this.listener = e, this.a = null, this.src = t, this.type = n, this.capture = !!r, 
                this.La = o, this.key = ++on, this.ma = this.Ha = !1;
            }
            function sn(e) {
                e.ma = !0, e.listener = null, e.a = null, e.src = null, e.La = null;
            }
            function un(e) {
                this.src = e, this.a = {}, this.b = 0;
            }
            function cn(e, t, n, r, o, i) {
                var a = t.toString();
                (t = e.a[a]) || (t = e.a[a] = [], e.b++);
                var s = hn(t, n, o, i);
                return -1 < s ? (e = t[s], r || (e.Ha = !1)) : ((e = new an(n, e.src, a, !!o, i)).Ha = r, 
                t.push(e)), e;
            }
            function ln(e, t) {
                var n = t.type;
                n in e.a && H(e.a[n], t) && (sn(t), 0 == e.a[n].length && (delete e.a[n], e.b--));
            }
            function hn(e, t, n, r) {
                for (var o = 0; o < e.length; ++o) {
                    var i = e[o];
                    if (!i.ma && i.listener == t && i.capture == !!n && i.La == r) return o;
                }
                return -1;
            }
            var pn = "closure_lm_" + (1e6 * Math.random() | 0), dn = {};
            function fn(e, t, n, r, o) {
                if (r && r.once) yn(e, t, n, r, o); else if (l(t)) for (var i = 0; i < t.length; i++) fn(e, t[i], n, r, o); else n = Nn(n), 
                e && e[rn] ? Pn(e, t, n, d(r) ? !!r.capture : !!r, o) : vn(e, t, n, !1, r, o);
            }
            function vn(e, t, n, r, o, i) {
                if (!t) throw Error("Invalid event type");
                var a = d(o) ? !!o.capture : !!o, s = Cn(e);
                if (s || (e[pn] = s = new un(e)), !(n = cn(s, t, n, r, a, i)).a) {
                    if (r = mn(), n.a = r, r.src = e, r.listener = n, e.addEventListener) Zt || (o = a), 
                    void 0 === o && (o = !1), e.addEventListener(t.toString(), r, o); else {
                        if (!e.attachEvent) throw Error("addEventListener and attachEvent are unavailable.");
                        e.attachEvent(bn(t.toString()), r);
                    }
                    0;
                }
            }
            function mn() {
                var e = Tn, t = Jt ? function(n) {
                    return e.call(t.src, t.listener, n);
                } : function(n) {
                    if (!(n = e.call(t.src, t.listener, n))) return n;
                };
                return t;
            }
            function yn(e, t, n, r, o) {
                if (l(t)) for (var i = 0; i < t.length; i++) yn(e, t[i], n, r, o); else n = Nn(n), 
                e && e[rn] ? Rn(e, t, n, d(r) ? !!r.capture : !!r, o) : vn(e, t, n, !0, r, o);
            }
            function gn(e, t, n, r, o) {
                if (l(t)) for (var i = 0; i < t.length; i++) gn(e, t[i], n, r, o); else r = d(r) ? !!r.capture : !!r, 
                n = Nn(n), e && e[rn] ? (e = e.u, (t = String(t).toString()) in e.a && (-1 < (n = hn(i = e.a[t], n, r, o)) && (sn(i[n]), 
                Array.prototype.splice.call(i, n, 1), 0 == i.length && (delete e.a[t], e.b--)))) : e && (e = Cn(e)) && (t = e.a[t.toString()], 
                e = -1, t && (e = hn(t, n, r, o)), (n = -1 < e ? t[e] : null) && _n(n));
            }
            function _n(e) {
                if ("number" != typeof e && e && !e.ma) {
                    var t = e.src;
                    if (t && t[rn]) ln(t.u, e); else {
                        var n = e.type, r = e.a;
                        t.removeEventListener ? t.removeEventListener(n, r, e.capture) : t.detachEvent && t.detachEvent(bn(n), r), 
                        0, (n = Cn(t)) ? (ln(n, e), 0 == n.b && (n.src = null, t[pn] = null)) : sn(e);
                    }
                }
            }
            function bn(e) {
                return e in dn ? dn[e] : dn[e] = "on" + e;
            }
            function wn(e, t, n, r) {
                var o = !0;
                if ((e = Cn(e)) && (t = e.a[t.toString()])) for (t = t.concat(), e = 0; e < t.length; e++) {
                    var i = t[e];
                    i && i.capture == n && !i.ma && (i = En(i, r), o = o && !1 !== i);
                }
                return o;
            }
            function En(e, t) {
                var n = e.listener, r = e.La || e.src;
                return e.Ha && _n(e), n.call(r, t);
            }
            function Tn(e, t) {
                if (e.ma) return !0;
                if (!Jt) {
                    if (!t) e: {
                        t = [ "window", "event" ];
                        for (var n = o, r = 0; r < t.length; r++) if (null == (n = n[t[r]])) {
                            t = null;
                            break e;
                        }
                        t = n;
                    }
                    if (t = new tn(r = t, this), n = !0, !(0 > r.keyCode || void 0 != r.returnValue)) {
                        e: {
                            var i = !1;
                            if (0 == r.keyCode) try {
                                r.keyCode = -1;
                                break e;
                            } catch (e) {
                                i = !0;
                            }
                            (i || void 0 == r.returnValue) && (r.returnValue = !0);
                        }
                        for (r = [], i = t.b; i; i = i.parentNode) r.push(i);
                        for (e = e.type, i = r.length - 1; 0 <= i; i--) {
                            t.b = r[i];
                            var a = wn(r[i], e, !0, t);
                            n = n && a;
                        }
                        for (i = 0; i < r.length; i++) t.b = r[i], a = wn(r[i], e, !1, t), n = n && a;
                    }
                    return n;
                }
                return En(e, new tn(t, this));
            }
            function Cn(e) {
                return (e = e[pn]) instanceof un ? e : null;
            }
            var Sn = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);
            function Nn(e) {
                return p(e) ? e : (e[Sn] || (e[Sn] = function(t) {
                    return e.handleEvent(t);
                }), e[Sn]);
            }
            function In() {
                Kt.call(this), this.u = new un(this), this.Ib = this, this.Ra = null;
            }
            function On(e, t) {
                var n, r = e.Ra;
                if (r) for (n = []; r; r = r.Ra) n.push(r);
                if (e = e.Ib, r = t.type || t, i(t)) t = new en(t, e); else if (t instanceof en) t.target = t.target || e; else {
                    var o = t;
                    ie(t = new en(r, e), o);
                }
                if (o = !0, n) for (var a = n.length - 1; 0 <= a; a--) {
                    var s = t.b = n[a];
                    o = An(s, r, !0, t) && o;
                }
                if (o = An(s = t.b = e, r, !0, t) && o, o = An(s, r, !1, t) && o, n) for (a = 0; a < n.length; a++) o = An(s = t.b = n[a], r, !1, t) && o;
            }
            function Pn(e, t, n, r, o) {
                cn(e.u, String(t), n, !1, r, o);
            }
            function Rn(e, t, n, r, o) {
                cn(e.u, String(t), n, !0, r, o);
            }
            function An(e, t, n, r) {
                if (!(t = e.u.a[String(t)])) return !0;
                t = t.concat();
                for (var o = !0, i = 0; i < t.length; ++i) {
                    var a = t[i];
                    if (a && !a.ma && a.capture == n) {
                        var s = a.listener, u = a.La || a.src;
                        a.Ha && ln(e.u, a), o = !1 !== s.call(u, r) && o;
                    }
                }
                return o && 0 != r.Bb;
            }
            function kn(e, t, n) {
                if (p(e)) n && (e = g(e, n)); else {
                    if (!e || "function" != typeof e.handleEvent) throw Error("Invalid listener argument");
                    e = g(e.handleEvent, e);
                }
                return 2147483647 < Number(t) ? -1 : o.setTimeout(e, t || 0);
            }
            function xn(e) {
                var t = null;
                return new qe(function(n, r) {
                    -1 == (t = kn(function() {
                        n(void 0);
                    }, e)) && r(Error("Failed to schedule timer."));
                }).s(function(e) {
                    throw o.clearTimeout(t), e;
                });
            }
            function Dn(e, t, n, r, o) {
                this.reset(e, t, n, r, o);
            }
            w(In, Kt), In.prototype[rn] = !0, In.prototype.removeEventListener = function(e, t, n, r) {
                gn(this, e, t, n, r);
            }, In.prototype.ta = function() {
                if (In.ib.ta.call(this), this.u) {
                    var e, t = this.u;
                    for (e in t.a) {
                        for (var n = t.a[e], r = 0; r < n.length; r++) 0, sn(n[r]);
                        delete t.a[e], t.b--;
                    }
                }
                this.Ra = null;
            }, Dn.prototype.a = null;
            function Ln(e) {
                this.f = e, this.b = this.c = this.a = null;
            }
            function Mn(e, t) {
                this.name = e, this.value = t;
            }
            Dn.prototype.reset = function(e, t, n, r, o) {
                "number" == typeof o || 0, r || b(), this.b = t, delete this.a;
            }, Mn.prototype.toString = function() {
                return this.name;
            };
            var Fn = new Mn("SEVERE", 1e3), Un = new Mn("CONFIG", 700), jn = new Mn("FINE", 500);
            function qn(e) {
                return e.c ? e.c : e.a ? qn(e.a) : (M("Root logger has no level set."), null);
            }
            Ln.prototype.log = function(e, t, n) {
                if (e.value >= qn(this).value) for (p(t) && (t = t()), e = new Dn(e, String(t), this.f), 
                n && (e.a = n), n = "log:" + e.b, (e = o.console) && e.timeStamp && e.timeStamp(n), 
                (e = o.msWriteProfilerMark) && e(n), n = this; n; ) n = n.a;
            };
            var Wn = {}, Bn = null;
            function Vn(e) {
                var t;
                if (Bn || (Bn = new Ln(""), Wn[""] = Bn, Bn.c = Un), !(t = Wn[e])) {
                    t = new Ln(e);
                    var n = e.lastIndexOf("."), r = e.substr(n + 1);
                    (n = Vn(e.substr(0, n))).b || (n.b = {}), n.b[r] = t, t.a = n, Wn[e] = t;
                }
                return t;
            }
            function Gn(e, t) {
                this.b = {}, this.a = [], this.c = 0;
                var n = arguments.length;
                if (1 < n) {
                    if (n % 2) throw Error("Uneven number of arguments");
                    for (var r = 0; r < n; r += 2) this.set(arguments[r], arguments[r + 1]);
                } else if (e) {
                    e instanceof Gn ? (n = e.S(), r = e.P()) : (n = ee(e), r = Z(e));
                    for (var o = 0; o < n.length; o++) this.set(n[o], r[o]);
                }
            }
            function Hn(e) {
                if (e.c != e.a.length) {
                    for (var t = 0, n = 0; t < e.a.length; ) {
                        var r = e.a[t];
                        Kn(e.b, r) && (e.a[n++] = r), t++;
                    }
                    e.a.length = n;
                }
                if (e.c != e.a.length) {
                    var o = {};
                    for (n = t = 0; t < e.a.length; ) Kn(o, r = e.a[t]) || (e.a[n++] = r, o[r] = 1), 
                    t++;
                    e.a.length = n;
                }
            }
            function Kn(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
            }
            function Qn(e, t) {
                e && e.log(jn, t, void 0);
            }
            function Yn(e) {
                return W(e, function(e) {
                    return 1 < (e = e.toString(16)).length ? e : "0" + e;
                }).join("");
            }
            (e = Gn.prototype).P = function() {
                Hn(this);
                for (var e = [], t = 0; t < this.a.length; t++) e.push(this.b[this.a[t]]);
                return e;
            }, e.S = function() {
                return Hn(this), this.a.concat();
            }, e.clear = function() {
                this.b = {}, this.c = this.a.length = 0;
            }, e.get = function(e, t) {
                return Kn(this.b, e) ? this.b[e] : t;
            }, e.set = function(e, t) {
                Kn(this.b, e) || (this.c++, this.a.push(e)), this.b[e] = t;
            }, e.forEach = function(e, t) {
                for (var n = this.S(), r = 0; r < n.length; r++) {
                    var o = n[r], i = this.get(o);
                    e.call(t, i, o, this);
                }
            };
            var Xn = null, zn = null;
            function Jn(e) {
                var t = "";
                return $n(e, function(e) {
                    t += String.fromCharCode(e);
                }), t;
            }
            function $n(e, t) {
                function n(t) {
                    for (;r < e.length; ) {
                        var n = e.charAt(r++), o = zn[n];
                        if (null != o) return o;
                        if (!/^[\s\xa0]*$/.test(n)) throw Error("Unknown base64 encoding at char: " + n);
                    }
                    return t;
                }
                Zn();
                for (var r = 0; ;) {
                    var o = n(-1), i = n(0), a = n(64), s = n(64);
                    if (64 === s && -1 === o) break;
                    t(o << 2 | i >> 4), 64 != a && (t(i << 4 & 240 | a >> 2), 64 != s && t(a << 6 & 192 | s));
                }
            }
            function Zn() {
                if (!Xn) {
                    Xn = {}, zn = {};
                    for (var e = 0; 65 > e; e++) Xn[e] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e), 
                    zn[Xn[e]] = e, 62 <= e && (zn["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)] = e);
                }
            }
            function er(e, t) {
                this.g = [], this.v = e, this.o = t || null, this.f = this.a = !1, this.c = void 0, 
                this.u = this.w = this.i = !1, this.h = 0, this.b = null, this.l = 0;
            }
            function tr(e, t, n) {
                e.a = !0, e.c = n, e.f = !t, ar(e);
            }
            function nr(e) {
                if (e.a) {
                    if (!e.u) throw new sr();
                    e.u = !1;
                }
            }
            function rr(e, t) {
                or(e, null, t, void 0);
            }
            function or(e, t, n, r) {
                e.g.push([ t, n, r ]), e.a && ar(e);
            }
            function ir(e) {
                return B(e.g, function(e) {
                    return p(e[1]);
                });
            }
            function ar(e) {
                if (e.h && e.a && ir(e)) {
                    var t = e.h, n = hr[t];
                    n && (o.clearTimeout(n.a), delete hr[t]), e.h = 0;
                }
                e.b && (e.b.l--, delete e.b), t = e.c;
                for (var r = n = !1; e.g.length && !e.i; ) {
                    var i = e.g.shift(), a = i[0], s = i[1];
                    if (i = i[2], a = e.f ? s : a) try {
                        var u = a.call(i || e.o, t);
                        void 0 !== u && (e.f = e.f && (u == t || u instanceof Error), e.c = t = u), (Se(t) || "function" == typeof o.Promise && t instanceof o.Promise) && (r = !0, 
                        e.i = !0);
                    } catch (r) {
                        t = r, e.f = !0, ir(e) || (n = !0);
                    }
                }
                e.c = t, r && (u = g(e.m, e, !0), r = g(e.m, e, !1), t instanceof er ? (or(t, u, r), 
                t.w = !0) : t.then(u, r)), n && (t = new cr(t), hr[t.a] = t, e.h = t.a);
            }
            function sr() {
                E.call(this);
            }
            function ur() {
                E.call(this);
            }
            function cr(e) {
                this.a = o.setTimeout(g(this.c, this), 0), this.b = e;
            }
            er.prototype.cancel = function(e) {
                if (this.a) this.c instanceof er && this.c.cancel(); else {
                    if (this.b) {
                        var t = this.b;
                        delete this.b, e ? t.cancel(e) : (t.l--, 0 >= t.l && t.cancel());
                    }
                    this.v ? this.v.call(this.o, this) : this.u = !0, this.a || (e = new ur(), nr(this), 
                    tr(this, !1, e));
                }
            }, er.prototype.m = function(e, t) {
                this.i = !1, tr(this, e, t);
            }, er.prototype.A = function(e) {
                nr(this), tr(this, !0, e);
            }, er.prototype.then = function(e, t, n) {
                var r, o, i = new qe(function(e, t) {
                    r = e, o = t;
                });
                return or(this, r, function(e) {
                    e instanceof ur ? i.cancel() : o(e);
                }), i.then(e, t, n);
            }, Ce(er), w(sr, E), sr.prototype.message = "Deferred has already fired", sr.prototype.name = "AlreadyCalledError", 
            w(ur, E), ur.prototype.message = "Deferred was canceled", ur.prototype.name = "CanceledError", 
            cr.prototype.c = function() {
                throw delete hr[this.a], this.b;
            };
            var lr, hr = {};
            function pr() {
                this.b = -1;
            }
            function dr(e, t) {
                this.b = -1, this.b = fr, this.f = o.Uint8Array ? new Uint8Array(this.b) : Array(this.b), 
                this.g = this.c = 0, this.a = [], this.i = e, this.h = t, this.l = o.Int32Array ? new Int32Array(64) : Array(64), 
                lr || (lr = o.Int32Array ? new Int32Array(wr) : wr), this.reset();
            }
            w(dr, pr);
            for (var fr = 64, vr = fr - 1, mr = [], yr = 0; yr < vr; yr++) mr[yr] = 0;
            var gr = Q(128, mr);
            function _r(e) {
                for (var t = e.f, n = e.l, r = 0, o = 0; o < t.length; ) n[r++] = t[o] << 24 | t[o + 1] << 16 | t[o + 2] << 8 | t[o + 3], 
                o = 4 * r;
                for (t = 16; 64 > t; t++) {
                    o = 0 | n[t - 15], r = 0 | n[t - 2];
                    var i = (0 | n[t - 16]) + ((o >>> 7 | o << 25) ^ (o >>> 18 | o << 14) ^ o >>> 3) | 0, a = (0 | n[t - 7]) + ((r >>> 17 | r << 15) ^ (r >>> 19 | r << 13) ^ r >>> 10) | 0;
                    n[t] = i + a | 0;
                }
                r = 0 | e.a[0], o = 0 | e.a[1];
                var s = 0 | e.a[2], u = 0 | e.a[3], c = 0 | e.a[4], l = 0 | e.a[5], h = 0 | e.a[6];
                for (i = 0 | e.a[7], t = 0; 64 > t; t++) {
                    var p = ((r >>> 2 | r << 30) ^ (r >>> 13 | r << 19) ^ (r >>> 22 | r << 10)) + (r & o ^ r & s ^ o & s) | 0;
                    a = (i = i + ((c >>> 6 | c << 26) ^ (c >>> 11 | c << 21) ^ (c >>> 25 | c << 7)) | 0) + ((a = (a = c & l ^ ~c & h) + (0 | lr[t]) | 0) + (0 | n[t]) | 0) | 0, 
                    i = h, h = l, l = c, c = u + a | 0, u = s, s = o, o = r, r = a + p | 0;
                }
                e.a[0] = e.a[0] + r | 0, e.a[1] = e.a[1] + o | 0, e.a[2] = e.a[2] + s | 0, e.a[3] = e.a[3] + u | 0, 
                e.a[4] = e.a[4] + c | 0, e.a[5] = e.a[5] + l | 0, e.a[6] = e.a[6] + h | 0, e.a[7] = e.a[7] + i | 0;
            }
            function br(e, t, n) {
                void 0 === n && (n = t.length);
                var r = 0, o = e.c;
                if (i(t)) for (;r < n; ) e.f[o++] = t.charCodeAt(r++), o == e.b && (_r(e), o = 0); else {
                    if (!h(t)) throw Error("message must be string or array");
                    for (;r < n; ) {
                        var a = t[r++];
                        if (!("number" == typeof a && 0 <= a && 255 >= a && a == (0 | a))) throw Error("message must be a byte array");
                        e.f[o++] = a, o == e.b && (_r(e), o = 0);
                    }
                }
                e.c = o, e.g += n;
            }
            dr.prototype.reset = function() {
                this.g = this.c = 0, this.a = o.Int32Array ? new Int32Array(this.h) : Y(this.h);
            };
            var wr = [ 1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298 ];
            function Er() {
                dr.call(this, 8, Tr);
            }
            w(Er, dr);
            var Tr = [ 1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225 ];
            function Cr(e) {
                if (e.P && "function" == typeof e.P) return e.P();
                if (i(e)) return e.split("");
                if (h(e)) {
                    for (var t = [], n = e.length, r = 0; r < n; r++) t.push(e[r]);
                    return t;
                }
                return Z(e);
            }
            function Sr(e) {
                if (e.S && "function" == typeof e.S) return e.S();
                if (!e.P || "function" != typeof e.P) {
                    if (h(e) || i(e)) {
                        var t = [];
                        e = e.length;
                        for (var n = 0; n < e; n++) t.push(n);
                        return t;
                    }
                    return ee(e);
                }
            }
            function Nr(e, t) {
                if (e.forEach && "function" == typeof e.forEach) e.forEach(t, void 0); else if (h(e) || i(e)) U(e, t, void 0); else for (var n = Sr(e), r = Cr(e), o = r.length, a = 0; a < o; a++) t.call(void 0, r[a], n && n[a], e);
            }
            var Ir = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
            function Or(e, t) {
                if (e) {
                    e = e.split("&");
                    for (var n = 0; n < e.length; n++) {
                        var r = e[n].indexOf("="), o = null;
                        if (0 <= r) {
                            var i = e[n].substring(0, r);
                            o = e[n].substring(r + 1);
                        } else i = e[n];
                        t(i, o ? decodeURIComponent(o.replace(/\+/g, " ")) : "");
                    }
                }
            }
            function Pr(e, t) {
                if (this.b = this.l = this.c = "", this.i = null, this.h = this.g = "", this.f = !1, 
                e instanceof Pr) {
                    this.f = void 0 !== t ? t : e.f, Rr(this, e.c), this.l = e.l, this.b = e.b, Ar(this, e.i), 
                    this.g = e.g, t = e.a;
                    var n = new Kr();
                    n.c = t.c, t.a && (n.a = new Gn(t.a), n.b = t.b), kr(this, n), this.h = e.h;
                } else e && (n = String(e).match(Ir)) ? (this.f = !!t, Rr(this, n[1] || "", !0), 
                this.l = Fr(n[2] || ""), this.b = Fr(n[3] || "", !0), Ar(this, n[4]), this.g = Fr(n[5] || "", !0), 
                kr(this, n[6] || "", !0), this.h = Fr(n[7] || "")) : (this.f = !!t, this.a = new Kr(null, 0, this.f));
            }
            function Rr(e, t, n) {
                e.c = n ? Fr(t, !0) : t, e.c && (e.c = e.c.replace(/:$/, ""));
            }
            function Ar(e, t) {
                if (t) {
                    if (t = Number(t), isNaN(t) || 0 > t) throw Error("Bad port number " + t);
                    e.i = t;
                } else e.i = null;
            }
            function kr(e, t, n) {
                t instanceof Kr ? (e.a = t, eo(e.a, e.f)) : (n || (t = Ur(t, Gr)), e.a = new Kr(t, 0, e.f));
            }
            function xr(e, t, n) {
                e.a.set(t, n);
            }
            function Dr(e, t) {
                return e.a.get(t);
            }
            function Lr(e) {
                return e instanceof Pr ? new Pr(e) : new Pr(e, void 0);
            }
            function Mr(e, t) {
                var n = new Pr(null, void 0);
                return Rr(n, "https"), e && (n.b = e), t && (n.g = t), n;
            }
            function Fr(e, t) {
                return e ? t ? decodeURI(e.replace(/%25/g, "%2525")) : decodeURIComponent(e) : "";
            }
            function Ur(e, t, n) {
                return i(e) ? (e = encodeURI(e).replace(t, jr), n && (e = e.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), 
                e) : null;
            }
            function jr(e) {
                return "%" + ((e = e.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & e).toString(16);
            }
            Pr.prototype.toString = function() {
                var e = [], t = this.c;
                t && e.push(Ur(t, Wr, !0), ":");
                var n = this.b;
                return (n || "file" == t) && (e.push("//"), (t = this.l) && e.push(Ur(t, Wr, !0), "@"), 
                e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n = this.i) && e.push(":", String(n))), 
                (n = this.g) && (this.b && "/" != n.charAt(0) && e.push("/"), e.push(Ur(n, "/" == n.charAt(0) ? Vr : Br, !0))), 
                (n = this.a.toString()) && e.push("?", n), (n = this.h) && e.push("#", Ur(n, Hr)), 
                e.join("");
            };
            var qr, Wr = /[#\/\?@]/g, Br = /[\#\?:]/g, Vr = /[\#\?]/g, Gr = /[\#\?@]/g, Hr = /#/g;
            function Kr(e, t, n) {
                this.b = this.a = null, this.c = e || null, this.f = !!n;
            }
            function Qr(e) {
                e.a || (e.a = new Gn(), e.b = 0, e.c && Or(e.c, function(t, n) {
                    Xr(e, decodeURIComponent(t.replace(/\+/g, " ")), n);
                }));
            }
            function Yr(e) {
                var t = Sr(e);
                if (void 0 === t) throw Error("Keys are undefined");
                var n = new Kr(null, 0, void 0);
                e = Cr(e);
                for (var r = 0; r < t.length; r++) {
                    var o = t[r], i = e[r];
                    l(i) ? $r(n, o, i) : Xr(n, o, i);
                }
                return n;
            }
            function Xr(e, t, n) {
                Qr(e), e.c = null, t = Zr(e, t);
                var r = e.a.get(t);
                r || e.a.set(t, r = []), r.push(n), e.b += 1;
            }
            function zr(e, t) {
                Qr(e), t = Zr(e, t), Kn(e.a.b, t) && (e.c = null, e.b -= e.a.get(t).length, Kn((e = e.a).b, t) && (delete e.b[t], 
                e.c--, e.a.length > 2 * e.c && Hn(e)));
            }
            function Jr(e, t) {
                return Qr(e), t = Zr(e, t), Kn(e.a.b, t);
            }
            function $r(e, t, n) {
                zr(e, t), 0 < n.length && (e.c = null, e.a.set(Zr(e, t), Y(n)), e.b += n.length);
            }
            function Zr(e, t) {
                return t = String(t), e.f && (t = t.toLowerCase()), t;
            }
            function eo(e, t) {
                t && !e.f && (Qr(e), e.c = null, e.a.forEach(function(e, t) {
                    var n = t.toLowerCase();
                    t != n && (zr(this, t), $r(this, n, e));
                }, e)), e.f = t;
            }
            function to() {}
            function no(e) {
                return e.c || (e.c = e.b());
            }
            function ro() {}
            function oo(e) {
                if (!e.f && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
                    for (var t = [ "MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP" ], n = 0; n < t.length; n++) {
                        var r = t[n];
                        try {
                            return new ActiveXObject(r), e.f = r;
                        } catch (e) {}
                    }
                    throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
                }
                return e.f;
            }
            function io(e) {
                In.call(this), this.headers = new Gn(), this.w = e || null, this.b = !1, this.v = this.a = null, 
                this.g = this.I = this.i = "", this.c = this.G = this.h = this.A = !1, this.f = 0, 
                this.m = null, this.l = ao, this.o = this.N = !1;
            }
            (e = Kr.prototype).clear = function() {
                this.a = this.c = null, this.b = 0;
            }, e.forEach = function(e, t) {
                Qr(this), this.a.forEach(function(n, r) {
                    U(n, function(n) {
                        e.call(t, n, r, this);
                    }, this);
                }, this);
            }, e.S = function() {
                Qr(this);
                for (var e = this.a.P(), t = this.a.S(), n = [], r = 0; r < t.length; r++) for (var o = e[r], i = 0; i < o.length; i++) n.push(t[r]);
                return n;
            }, e.P = function(e) {
                Qr(this);
                var t = [];
                if (i(e)) Jr(this, e) && (t = Q(t, this.a.get(Zr(this, e)))); else {
                    e = this.a.P();
                    for (var n = 0; n < e.length; n++) t = Q(t, e[n]);
                }
                return t;
            }, e.set = function(e, t) {
                return Qr(this), this.c = null, Jr(this, e = Zr(this, e)) && (this.b -= this.a.get(e).length), 
                this.a.set(e, [ t ]), this.b += 1, this;
            }, e.get = function(e, t) {
                return 0 < (e = e ? this.P(e) : []).length ? String(e[0]) : t;
            }, e.toString = function() {
                if (this.c) return this.c;
                if (!this.a) return "";
                for (var e = [], t = this.a.S(), n = 0; n < t.length; n++) {
                    var r = t[n], o = encodeURIComponent(String(r));
                    r = this.P(r);
                    for (var i = 0; i < r.length; i++) {
                        var a = o;
                        "" !== r[i] && (a += "=" + encodeURIComponent(String(r[i]))), e.push(a);
                    }
                }
                return this.c = e.join("&");
            }, to.prototype.c = null, w(ro, to), ro.prototype.a = function() {
                var e = oo(this);
                return e ? new ActiveXObject(e) : new XMLHttpRequest();
            }, ro.prototype.b = function() {
                var e = {};
                return oo(this) && (e[0] = !0, e[1] = !0), e;
            }, qr = new ro(), w(io, In);
            var ao = "", so = io.prototype, uo = Vn("goog.net.XhrIo");
            so.J = uo;
            var co = /^https?$/i, lo = [ "POST", "PUT" ];
            function ho(e, t, n, r, i) {
                if (e.a) throw Error("[goog.net.XhrIo] Object is active with another request=" + e.i + "; newUri=" + t);
                n = n ? n.toUpperCase() : "GET", e.i = t, e.g = "", e.I = n, e.A = !1, e.b = !0, 
                e.a = e.w ? e.w.a() : qr.a(), e.v = e.w ? no(e.w) : no(qr), e.a.onreadystatechange = g(e.Ab, e);
                try {
                    Qn(e.J, To(e, "Opening Xhr")), e.G = !0, e.a.open(n, String(t), !0), e.G = !1;
                } catch (t) {
                    return Qn(e.J, To(e, "Error opening Xhr: " + t.message)), void vo(e, t);
                }
                t = r || "";
                var a = new Gn(e.headers);
                i && Nr(i, function(e, t) {
                    a.set(t, e);
                }), i = V(a.S()), r = o.FormData && t instanceof o.FormData, !G(lo, n) || i || r || a.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"), 
                a.forEach(function(e, t) {
                    this.a.setRequestHeader(t, e);
                }, e), e.l && (e.a.responseType = e.l), "withCredentials" in e.a && e.a.withCredentials !== e.N && (e.a.withCredentials = e.N);
                try {
                    _o(e), 0 < e.f && (e.o = po(e.a), Qn(e.J, To(e, "Will abort after " + e.f + "ms if incomplete, xhr2 " + e.o)), 
                    e.o ? (e.a.timeout = e.f, e.a.ontimeout = g(e.Ea, e)) : e.m = kn(e.Ea, e.f, e)), 
                    Qn(e.J, To(e, "Sending request")), e.h = !0, e.a.send(t), e.h = !1;
                } catch (t) {
                    Qn(e.J, To(e, "Send error: " + t.message)), vo(e, t);
                }
            }
            function po(e) {
                return he && Ee(9) && "number" == typeof e.timeout && void 0 !== e.ontimeout;
            }
            function fo(e) {
                return "content-type" == e.toLowerCase();
            }
            function vo(e, t) {
                e.b = !1, e.a && (e.c = !0, e.a.abort(), e.c = !1), e.g = t, mo(e), go(e);
            }
            function mo(e) {
                e.A || (e.A = !0, On(e, "complete"), On(e, "error"));
            }
            function yo(e) {
                if (e.b && void 0 !== r) if (e.v[1] && 4 == bo(e) && 2 == wo(e)) Qn(e.J, To(e, "Local request error detected and ignored")); else if (e.h && 4 == bo(e)) kn(e.Ab, 0, e); else if (On(e, "readystatechange"), 
                4 == bo(e)) {
                    Qn(e.J, To(e, "Request complete")), e.b = !1;
                    try {
                        var t, n = wo(e);
                        e: switch (n) {
                          case 200:
                          case 201:
                          case 202:
                          case 204:
                          case 206:
                          case 304:
                          case 1223:
                            var i = !0;
                            break e;

                          default:
                            i = !1;
                        }
                        if (!(t = i)) {
                            var a;
                            if (a = 0 === n) {
                                var s = String(e.i).match(Ir)[1] || null;
                                if (!s && o.self && o.self.location) {
                                    var u = o.self.location.protocol;
                                    s = u.substr(0, u.length - 1);
                                }
                                a = !co.test(s ? s.toLowerCase() : "");
                            }
                            t = a;
                        }
                        if (t) On(e, "complete"), On(e, "success"); else {
                            try {
                                var c = 2 < bo(e) ? e.a.statusText : "";
                            } catch (t) {
                                Qn(e.J, "Can not get status: " + t.message), c = "";
                            }
                            e.g = c + " [" + wo(e) + "]", mo(e);
                        }
                    } finally {
                        go(e);
                    }
                }
            }
            function go(e, t) {
                if (e.a) {
                    _o(e);
                    var n = e.a, r = e.v[0] ? s : null;
                    e.a = null, e.v = null, t || On(e, "ready");
                    try {
                        n.onreadystatechange = r;
                    } catch (t) {
                        (e = e.J) && e.log(Fn, "Problem encountered resetting onreadystatechange: " + t.message, void 0);
                    }
                }
            }
            function _o(e) {
                e.a && e.o && (e.a.ontimeout = null), "number" == typeof e.m && (o.clearTimeout(e.m), 
                e.m = null);
            }
            function bo(e) {
                return e.a ? e.a.readyState : 0;
            }
            function wo(e) {
                try {
                    return 2 < bo(e) ? e.a.status : -1;
                } catch (e) {
                    return -1;
                }
            }
            function Eo(e) {
                try {
                    return e.a ? e.a.responseText : "";
                } catch (t) {
                    return Qn(e.J, "Can not get responseText: " + t.message), "";
                }
            }
            function To(e, t) {
                return t + " [" + e.I + " " + e.i + " " + wo(e) + "]";
            }
            (e = io.prototype).Ea = function() {
                void 0 !== r && this.a && (this.g = "Timed out after " + this.f + "ms, aborting", 
                Qn(this.J, To(this, this.g)), On(this, "timeout"), this.abort(8));
            }, e.abort = function() {
                this.a && this.b && (Qn(this.J, To(this, "Aborting")), this.b = !1, this.c = !0, 
                this.a.abort(), this.c = !1, On(this, "complete"), On(this, "abort"), go(this));
            }, e.ta = function() {
                this.a && (this.b && (this.b = !1, this.c = !0, this.a.abort(), this.c = !1), go(this, !0)), 
                io.ib.ta.call(this);
            }, e.Ab = function() {
                this.oa || (this.G || this.h || this.c ? yo(this) : this.jc());
            }, e.jc = function() {
                yo(this);
            }, e.getResponse = function() {
                try {
                    if (!this.a) return null;
                    if ("response" in this.a) return this.a.response;
                    switch (this.l) {
                      case ao:
                      case "text":
                        return this.a.responseText;

                      case "arraybuffer":
                        if ("mozResponseArrayBuffer" in this.a) return this.a.mozResponseArrayBuffer;
                    }
                    var e = this.J;
                    return e && e.log(Fn, "Response type " + this.l + " is not supported on this browser", void 0), 
                    null;
                } catch (e) {
                    return Qn(this.J, "Can not get response: " + e.message), null;
                }
            };
            var Co = /^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;
            function So(e) {
                var t = {}, n = t.document || document, r = gt(e), o = document.createElement("SCRIPT"), i = {
                    Cb: o,
                    Ea: void 0
                }, a = new er(Io, i), s = null, u = null != t.timeout ? t.timeout : 5e3;
                return 0 < u && (s = window.setTimeout(function() {
                    Oo(o, !0);
                    var e = new Ao(Ro, "Timeout reached for loading script " + r);
                    nr(a), tr(a, !1, e);
                }, u), i.Ea = s), o.onload = o.onreadystatechange = function() {
                    o.readyState && "loaded" != o.readyState && "complete" != o.readyState || (Oo(o, t.Sc || !1, s), 
                    a.A(null));
                }, o.onerror = function() {
                    Oo(o, !0, s);
                    var e = new Ao(Po, "Error while loading script " + r);
                    nr(a), tr(a, !1, e);
                }, ie(i = t.attributes || {}, {
                    type: "text/javascript",
                    charset: "UTF-8"
                }), Lt(o, i), o.src = gt(e), No(n).appendChild(o), a;
            }
            function No(e) {
                var t;
                return (t = (e || document).getElementsByTagName("HEAD")) && 0 != t.length ? t[0] : e.documentElement;
            }
            function Io() {
                if (this && this.Cb) {
                    var e = this.Cb;
                    e && "SCRIPT" == e.tagName && Oo(e, !0, this.Ea);
                }
            }
            function Oo(e, t, n) {
                null != n && o.clearTimeout(n), e.onload = s, e.onerror = s, e.onreadystatechange = s, 
                t && window.setTimeout(function() {
                    e && e.parentNode && e.parentNode.removeChild(e);
                }, 0);
            }
            var Po = 0, Ro = 1;
            function Ao(e, t) {
                var n = "Jsloader error (code #" + e + ")";
                t && (n += ": " + t), E.call(this, n), this.code = e;
            }
            function ko() {}
            function xo() {
                this.a = new XDomainRequest(), this.readyState = 0, this.onreadystatechange = null, 
                this.responseText = "", this.status = -1, this.statusText = this.responseXML = null, 
                this.a.onload = g(this.Wb, this), this.a.onerror = g(this.xb, this), this.a.onprogress = g(this.Xb, this), 
                this.a.ontimeout = g(this.Yb, this);
            }
            function Do(e, t) {
                e.readyState = t, e.onreadystatechange && e.onreadystatechange();
            }
            function Lo() {
                var e = ni();
                return he && !!be && 11 == be || /Edge\/\d+/.test(e);
            }
            function Mo() {
                return o.window && o.window.location.href || "";
            }
            function Fo(e, t) {
                t = t || o.window;
                var n = "about:blank";
                e && (n = St(It(e))), t.location.href = n;
            }
            function Uo(e, t) {
                var n, r = [];
                for (n in e) n in t ? typeof e[n] != typeof t[n] ? r.push(n) : l(e[n]) ? ne(e[n], t[n]) || r.push(n) : "object" == typeof e[n] && null != e[n] && null != t[n] ? 0 < Uo(e[n], t[n]).length && r.push(n) : e[n] !== t[n] && r.push(n) : r.push(n);
                for (n in t) n in e || r.push(n);
                return r;
            }
            function jo() {
                var e = ni();
                return !((e = Zo(e) != $o ? null : (e = e.match(/\sChrome\/(\d+)/i)) && 2 == e.length ? parseInt(e[1], 10) : null) && 30 > e) && (!he || !be || 9 < be);
            }
            function qo(e) {
                return !!((e = (e || ni()).toLowerCase()).match(/android/) || e.match(/webos/) || e.match(/iphone|ipad|ipod/) || e.match(/blackberry/) || e.match(/windows phone/) || e.match(/iemobile/));
            }
            function Wo(e) {
                e = e || o.window;
                try {
                    e.close();
                } catch (e) {}
            }
            function Bo(e, t, n) {
                var r = Math.floor(1e9 * Math.random()).toString();
                t = t || 500, n = n || 600;
                var o = (window.screen.availHeight - n) / 2, i = (window.screen.availWidth - t) / 2;
                for (a in t = {
                    width: t,
                    height: n,
                    top: 0 < o ? o : 0,
                    left: 0 < i ? i : 0,
                    location: !0,
                    resizable: !0,
                    statusbar: !0,
                    toolbar: !1
                }, n = ni().toLowerCase(), r && (t.target = r, x(n, "crios/") && (t.target = "_blank")), 
                Zo(ni()) == Jo && (e = e || "http://localhost", t.scrollbars = !0), n = e || "", 
                (r = t) || (r = {}), e = window, t = n instanceof Ct ? n : It(void 0 !== n.href ? n.href : String(n)), 
                n = r.target || n.target, o = [], r) switch (a) {
                  case "width":
                  case "height":
                  case "top":
                  case "left":
                    o.push(a + "=" + r[a]);
                    break;

                  case "target":
                  case "noreferrer":
                    break;

                  default:
                    o.push(a + "=" + (r[a] ? 1 : 0));
                }
                var a = o.join(",");
                if ((J("iPhone") && !J("iPod") && !J("iPad") || J("iPad") || J("iPod")) && e.navigator && e.navigator.standalone && n && "_self" != n ? (a = e.document.createElement("A"), 
                t instanceof Ct || t instanceof Ct || (t = t.la ? t.ja() : String(t), Nt.test(t) || (t = "about:invalid#zClosurez"), 
                t = Pt(t)), a.href = St(t), a.setAttribute("target", n), r.noreferrer && a.setAttribute("rel", "noreferrer"), 
                (r = document.createEvent("MouseEvent")).initMouseEvent("click", !0, !0, e, 1), 
                a.dispatchEvent(r), a = {}) : r.noreferrer ? (a = e.open("", n, a), e = St(t), a && (de && x(e, ";") && (e = "'" + e.replace(/'/g, "%27") + "'"), 
                a.opener = null, mt("b/12014412, meta tag with sanitized URL"), e = xt(e = '<META HTTP-EQUIV="refresh" content="0; url=' + S(e) + '">'), 
                a.document.write(At(e)), a.document.close())) : a = e.open(St(t), n, a), a) try {
                    a.focus();
                } catch (e) {}
                return a;
            }
            function Vo(e) {
                return new qe(function(t) {
                    function n() {
                        xn(2e3).then(function() {
                            if (e && !e.closed) return n();
                            t();
                        });
                    }
                    return n();
                });
            }
            w(Ao, E), w(ko, to), ko.prototype.a = function() {
                var e = new XMLHttpRequest();
                if ("withCredentials" in e) return e;
                if ("undefined" != typeof XDomainRequest) return new xo();
                throw Error("Unsupported browser");
            }, ko.prototype.b = function() {
                return {};
            }, (e = xo.prototype).open = function(e, t, n) {
                if (null != n && !n) throw Error("Only async requests are supported.");
                this.a.open(e, t);
            }, e.send = function(e) {
                if (e) {
                    if ("string" != typeof e) throw Error("Only string data is supported");
                    this.a.send(e);
                } else this.a.send();
            }, e.abort = function() {
                this.a.abort();
            }, e.setRequestHeader = function() {}, e.getResponseHeader = function(e) {
                return "content-type" == e.toLowerCase() ? this.a.contentType : "";
            }, e.Wb = function() {
                this.status = 200, this.responseText = this.a.responseText, Do(this, 4);
            }, e.xb = function() {
                this.status = 500, this.responseText = "", Do(this, 4);
            }, e.Yb = function() {
                this.xb();
            }, e.Xb = function() {
                this.status = 200, Do(this, 1);
            }, e.getAllResponseHeaders = function() {
                return "content-type: " + this.a.contentType;
            };
            var Go = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;
            function Ho() {
                var e = null;
                return new qe(function(t) {
                    "complete" == o.document.readyState ? t() : (e = function() {
                        t();
                    }, yn(window, "load", e));
                }).s(function(t) {
                    throw gn(window, "load", e), t;
                });
            }
            function Ko() {
                return Qo(void 0) ? Ho().then(function() {
                    return new qe(function(e, t) {
                        var n = o.document, r = setTimeout(function() {
                            t(Error("Cordova framework is not ready."));
                        }, 1e3);
                        n.addEventListener("deviceready", function() {
                            clearTimeout(r), e();
                        }, !1);
                    });
                }) : Ye(Error("Cordova must run in an Android or iOS file scheme."));
            }
            function Qo(e) {
                return e = e || ni(), !("file:" !== si() || !e.toLowerCase().match(/iphone|ipad|ipod|android/));
            }
            function Yo() {
                var e = o.window;
                try {
                    return !(!e || e == e.top);
                } catch (e) {
                    return !1;
                }
            }
            function Xo() {
                return t.INTERNAL.hasOwnProperty("reactNative") ? "ReactNative" : t.INTERNAL.hasOwnProperty("node") ? "Node" : "Browser";
            }
            function zo() {
                var e = Xo();
                return "ReactNative" === e || "Node" === e;
            }
            var Jo = "Firefox", $o = "Chrome";
            function Zo(e) {
                var t = e.toLowerCase();
                return x(t, "opera/") || x(t, "opr/") || x(t, "opios/") ? "Opera" : x(t, "iemobile") ? "IEMobile" : x(t, "msie") || x(t, "trident/") ? "IE" : x(t, "edge/") ? "Edge" : x(t, "firefox/") ? Jo : x(t, "silk/") ? "Silk" : x(t, "blackberry") ? "Blackberry" : x(t, "webos") ? "Webos" : !x(t, "safari/") || x(t, "chrome/") || x(t, "crios/") || x(t, "android") ? !x(t, "chrome/") && !x(t, "crios/") || x(t, "edge/") ? x(t, "android") ? "Android" : (e = e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/)) && 2 == e.length ? e[1] : "Other" : $o : "Safari";
            }
            var ei = {
                Gc: "FirebaseCore-web",
                Ic: "FirebaseUI-web"
            };
            function ti(e, t) {
                t = t || [];
                var n, r = [], o = {};
                for (n in ei) o[ei[n]] = !0;
                for (n = 0; n < t.length; n++) void 0 !== o[t[n]] && (delete o[t[n]], r.push(t[n]));
                return r.sort(), (t = r).length || (t = [ "FirebaseCore-web" ]), o = "", (o = "Browser" === (r = Xo()) ? Zo(ni()) : r) + "/JsCore/" + e + "/" + t.join(",");
            }
            function ni() {
                return o.navigator && o.navigator.userAgent || "";
            }
            function ri(e, t) {
                e = e.split("."), t = t || o;
                for (var n = 0; n < e.length && "object" == typeof t && null != t; n++) t = t[e[n]];
                return n != e.length && (t = void 0), t;
            }
            function oi() {
                try {
                    var e = o.localStorage, t = pi();
                    if (e) return e.setItem(t, "1"), e.removeItem(t), !Lo() || !!o.indexedDB;
                } catch (e) {}
                return !1;
            }
            function ii() {
                return (ai() || "chrome-extension:" === si() || Qo()) && !zo() && oi();
            }
            function ai() {
                return "http:" === si() || "https:" === si();
            }
            function si() {
                return o.location && o.location.protocol || null;
            }
            function ui(e) {
                return !qo(e = e || ni()) && Zo(e) != Jo;
            }
            function ci(e) {
                return void 0 === e ? null : qt(e);
            }
            function li(e) {
                var t, n = {};
                for (t in e) e.hasOwnProperty(t) && null !== e[t] && void 0 !== e[t] && (n[t] = e[t]);
                return n;
            }
            function hi(e) {
                if (null !== e) return JSON.parse(e);
            }
            function pi(e) {
                return e || "" + Math.floor(1e9 * Math.random()).toString();
            }
            function di(e) {
                return "Safari" != Zo(e = e || ni()) && !e.toLowerCase().match(/iphone|ipad|ipod/);
            }
            function fi() {
                var e = o.___jsl;
                if (e && e.H) for (var t in e.H) if (e.H[t].r = e.H[t].r || [], e.H[t].L = e.H[t].L || [], 
                e.H[t].r = e.H[t].L.concat(), e.CP) for (var n = 0; n < e.CP.length; n++) e.CP[n] = null;
            }
            function vi() {
                var e = o.navigator;
                return !e || "boolean" != typeof e.onLine || !ai() && "chrome-extension:" !== si() && void 0 === e.connection || e.onLine;
            }
            function mi(e, t, n, r) {
                if (e > t) throw Error("Short delay should be less than long delay!");
                this.c = e, this.b = t, e = n || ni(), r = r || Xo(), this.a = qo(e) || "ReactNative" === r;
            }
            function yi() {
                var e = o.document;
                return !e || void 0 === e.visibilityState || "visible" == e.visibilityState;
            }
            function gi() {
                var e = o.document, t = null;
                return yi() || !e ? Qe() : new qe(function(n) {
                    t = function() {
                        yi() && (e.removeEventListener("visibilitychange", t, !1), n());
                    }, e.addEventListener("visibilitychange", t, !1);
                }).s(function(n) {
                    throw e.removeEventListener("visibilitychange", t, !1), n;
                });
            }
            function _i(e) {
                try {
                    var t = new Date(parseInt(e, 10));
                    if (!isNaN(t.getTime()) && !/[^0-9]/.test(e)) return t.toUTCString();
                } catch (e) {}
                return null;
            }
            mi.prototype.get = function() {
                return this.a ? this.b : this.c;
            };
            var bi, wi = {};
            try {
                var Ei = {};
                Object.defineProperty(Ei, "abcd", {
                    configurable: !0,
                    enumerable: !0,
                    value: 1
                }), Object.defineProperty(Ei, "abcd", {
                    configurable: !0,
                    enumerable: !0,
                    value: 2
                }), bi = 2 == Ei.abcd;
            } catch (ce) {
                bi = !1;
            }
            function Ti(e, t, n) {
                bi ? Object.defineProperty(e, t, {
                    configurable: !0,
                    enumerable: !0,
                    value: n
                }) : e[t] = n;
            }
            function Ci(e, t) {
                if (t) for (var n in t) t.hasOwnProperty(n) && Ti(e, n, t[n]);
            }
            function Si(e) {
                var t = {};
                return Ci(t, e), t;
            }
            function Ni(e) {
                var t, n = {};
                for (t in e) e.hasOwnProperty(t) && (n[t] = e[t]);
                return n;
            }
            function Ii(e, t) {
                if (!t || !t.length) return !0;
                if (!e) return !1;
                for (var n = 0; n < t.length; n++) {
                    var r = e[t[n]];
                    if (void 0 === r || null === r || "" === r) return !1;
                }
                return !0;
            }
            function Oi(e) {
                var t = e;
                if ("object" == typeof e && null != e) for (var n in t = "length" in e ? [] : {}, 
                e) Ti(t, n, Oi(e[n]));
                return t;
            }
            function Pi(e) {
                var t = {}, n = e[Ri], r = e[Ai];
                if (e = e[ki], !n || !e) throw Error("Invalid provider user info!");
                t[Di] = r || null, t[xi] = n, Ti(this, Mi, e), Ti(this, Li, Oi(t));
            }
            var Ri = "email", Ai = "newEmail", ki = "requestType", xi = "email", Di = "fromEmail", Li = "data", Mi = "operation";
            function Fi(e, t) {
                this.code = ji + e, this.message = t || qi[e] || "";
            }
            function Ui(e) {
                var t = e && e.code;
                return t ? new Fi(t.substring(ji.length), e.message) : null;
            }
            w(Fi, Error), Fi.prototype.B = function() {
                return {
                    code: this.code,
                    message: this.message
                };
            }, Fi.prototype.toJSON = function() {
                return this.B();
            };
            var ji = "auth/", qi = {
                "argument-error": "",
                "app-not-authorized": "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",
                "app-not-installed": "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",
                "captcha-check-failed": "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",
                "code-expired": "The SMS code has expired. Please re-send the verification code to try again.",
                "cordova-not-ready": "Cordova framework is not ready.",
                "cors-unsupported": "This browser is not supported.",
                "credential-already-in-use": "This credential is already associated with a different user account.",
                "custom-token-mismatch": "The custom token corresponds to a different audience.",
                "requires-recent-login": "This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
                "dynamic-link-not-activated": "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",
                "email-already-in-use": "The email address is already in use by another account.",
                "expired-action-code": "The action code has expired. ",
                "cancelled-popup-request": "This operation has been cancelled due to another conflicting popup being opened.",
                "internal-error": "An internal error has occurred.",
                "invalid-app-credential": "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",
                "invalid-app-id": "The mobile app identifier is not registed for the current project.",
                "invalid-user-token": "The user's credential is no longer valid. The user must sign in again.",
                "invalid-auth-event": "An internal error has occurred.",
                "invalid-verification-code": "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.",
                "invalid-continue-uri": "The continue URL provided in the request is invalid.",
                "invalid-cordova-configuration": "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
                "invalid-custom-token": "The custom token format is incorrect. Please check the documentation.",
                "invalid-email": "The email address is badly formatted.",
                "invalid-api-key": "Your API key is invalid, please check you have copied it correctly.",
                "invalid-cert-hash": "The SHA-1 certificate hash provided is invalid.",
                "invalid-credential": "The supplied auth credential is malformed or has expired.",
                "invalid-persistence-type": "The specified persistence type is invalid. It can only be local, session or none.",
                "invalid-message-payload": "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",
                "invalid-oauth-provider": "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",
                "invalid-oauth-client-id": "The OAuth client ID provided is either invalid or does not match the specified API key.",
                "unauthorized-domain": "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
                "invalid-action-code": "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",
                "wrong-password": "The password is invalid or the user does not have a password.",
                "invalid-phone-number": "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
                "invalid-recipient-email": "The email corresponding to this action failed to send as the provided recipient email address is invalid.",
                "invalid-sender": "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",
                "invalid-verification-id": "The verification ID used to create the phone auth credential is invalid.",
                "missing-android-pkg-name": "An Android Package Name must be provided if the Android App is required to be installed.",
                "auth-domain-config-required": "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",
                "missing-app-credential": "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",
                "missing-verification-code": "The phone auth credential was created with an empty SMS verification code.",
                "missing-continue-uri": "A continue URL must be provided in the request.",
                "missing-iframe-start": "An internal error has occurred.",
                "missing-ios-bundle-id": "An iOS Bundle ID must be provided if an App Store ID is provided.",
                "missing-phone-number": "To send verification codes, provide a phone number for the recipient.",
                "missing-verification-id": "The phone auth credential was created with an empty verification ID.",
                "app-deleted": "This instance of FirebaseApp has been deleted.",
                "account-exists-with-different-credential": "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
                "network-request-failed": "A network error (such as timeout, interrupted connection or unreachable host) has occurred.",
                "no-auth-event": "An internal error has occurred.",
                "no-such-provider": "User was not linked to an account with the given provider.",
                "operation-not-allowed": "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",
                "operation-not-supported-in-this-environment": 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',
                "popup-blocked": "Unable to establish a connection with the popup. It may have been blocked by the browser.",
                "popup-closed-by-user": "The popup has been closed by the user before finalizing the operation.",
                "provider-already-linked": "User can only be linked to one identity for the given provider.",
                "quota-exceeded": "The project's quota for this operation has been exceeded.",
                "redirect-cancelled-by-user": "The redirect operation has been cancelled by the user before finalizing.",
                "redirect-operation-pending": "A redirect sign-in operation is already pending.",
                timeout: "The operation has timed out.",
                "user-token-expired": "The user's credential is no longer valid. The user must sign in again.",
                "too-many-requests": "We have blocked all requests from this device due to unusual activity. Try again later.",
                "unauthorized-continue-uri": "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",
                "unsupported-persistence-type": "The current environment does not support the specified persistence type.",
                "user-cancelled": "User did not grant your application the permissions it requested.",
                "user-not-found": "There is no user record corresponding to this identifier. The user may have been deleted.",
                "user-disabled": "The user account has been disabled by an administrator.",
                "user-mismatch": "The supplied credentials do not correspond to the previously signed in user.",
                "user-signed-out": "",
                "weak-password": "The password must be 6 characters long or more.",
                "web-storage-unsupported": "This browser is not supported or 3rd party cookies and data may be disabled."
            };
            function Wi(e) {
                var t = e[Hi];
                if (void 0 === t) throw new Fi("missing-continue-uri");
                if ("string" != typeof t || "string" == typeof t && !t.length) throw new Fi("invalid-continue-uri");
                this.h = t, this.c = this.a = null, this.g = !1;
                var n = e[Bi];
                if (n && "object" == typeof n) {
                    t = n[Yi];
                    var r = n[Ki];
                    if (n = n[Qi], "string" == typeof t && t.length) {
                        if (this.a = t, void 0 !== r && "boolean" != typeof r) throw new Fi("argument-error", Ki + " property must be a boolean when specified.");
                        if (this.g = !!r, void 0 !== n && ("string" != typeof n || "string" == typeof n && !n.length)) throw new Fi("argument-error", Qi + " property must be a non empty string when specified.");
                        this.c = n || null;
                    } else {
                        if (void 0 !== t) throw new Fi("argument-error", Yi + " property must be a non empty string when specified.");
                        if (void 0 !== r || void 0 !== n) throw new Fi("missing-android-pkg-name");
                    }
                } else if (void 0 !== n) throw new Fi("argument-error", Bi + " property must be a non null object when specified.");
                if (this.b = null, (t = e[Gi]) && "object" == typeof t) {
                    if ("string" == typeof (t = t[Xi]) && t.length) this.b = t; else if (void 0 !== t) throw new Fi("argument-error", Xi + " property must be a non empty string when specified.");
                } else if (void 0 !== t) throw new Fi("argument-error", Gi + " property must be a non null object when specified.");
                if (void 0 !== (e = e[Vi]) && "boolean" != typeof e) throw new Fi("argument-error", Vi + " property must be a boolean when specified.");
                if ((this.f = !!e) && !this.b && !this.a) throw new Fi("argument-error", Vi + " property can't be true when no mobile application is provided.");
            }
            var Bi = "android", Vi = "handleCodeInApp", Gi = "iOS", Hi = "url", Ki = "installApp", Qi = "minimumVersion", Yi = "packageName", Xi = "bundleId";
            function zi(e) {
                var t = {};
                for (var n in t.continueUrl = e.h, t.canHandleCodeInApp = e.f, (t.androidPackageName = e.a) && (t.androidMinimumVersion = e.c, 
                t.androidInstallApp = e.g), t.iOSBundleId = e.b, t) null === t[n] && delete t[n];
                return t;
            }
            function Ji(e) {
                this.b = e.sub, b(), this.a = e.provider_id || e.firebase && e.firebase.sign_in_provider || null;
            }
            function $i(e) {
                if (3 != (e = e.split(".")).length) return null;
                for (var t = (4 - (e = e[1]).length % 4) % 4, n = 0; n < t; n++) e += ".";
                try {
                    var r = JSON.parse(Jn(e));
                    if (r.sub && r.iss && r.aud && r.exp) return new Ji(r);
                } catch (e) {}
                return null;
            }
            var Zi = "oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "), ea = [ "client_id", "response_type", "scope", "redirect_uri", "state" ], ta = {
                Hc: {
                    Ma: "locale",
                    za: 500,
                    ya: 600,
                    Na: "facebook.com",
                    $a: ea
                },
                Jc: {
                    Ma: null,
                    za: 500,
                    ya: 620,
                    Na: "github.com",
                    $a: ea
                },
                Kc: {
                    Ma: "hl",
                    za: 515,
                    ya: 680,
                    Na: "google.com",
                    $a: ea
                },
                Qc: {
                    Ma: "lang",
                    za: 485,
                    ya: 705,
                    Na: "twitter.com",
                    $a: Zi
                }
            };
            function na(e) {
                for (var t in ta) if (ta[t].Na == e) return ta[t];
                return null;
            }
            function ra(e) {
                var t = {};
                t["facebook.com"] = ua, t["google.com"] = la, t["github.com"] = ca, t["twitter.com"] = ha;
                var n = e && e[ia];
                try {
                    if (n) return t[n] ? new t[n](e) : new sa(e);
                    if (void 0 !== e[oa]) return new aa(e);
                } catch (e) {}
                return null;
            }
            var oa = "idToken", ia = "providerId";
            function aa(e) {
                var t = e[ia];
                if (!t && e[oa]) {
                    var n = $i(e[oa]);
                    n && n.a && (t = n.a);
                }
                if (!t) throw Error("Invalid additional user info!");
                "anonymous" != t && "custom" != t || (t = null), n = !1, void 0 !== e.isNewUser ? n = !!e.isNewUser : "identitytoolkit#SignupNewUserResponse" === e.kind && (n = !0), 
                Ti(this, "providerId", t), Ti(this, "isNewUser", n);
            }
            function sa(e) {
                aa.call(this, e), Ti(this, "profile", Oi((e = hi(e.rawUserInfo || "{}")) || {}));
            }
            function ua(e) {
                if (sa.call(this, e), "facebook.com" != this.providerId) throw Error("Invalid provider ID!");
            }
            function ca(e) {
                if (sa.call(this, e), "github.com" != this.providerId) throw Error("Invalid provider ID!");
                Ti(this, "username", this.profile && this.profile.login || null);
            }
            function la(e) {
                if (sa.call(this, e), "google.com" != this.providerId) throw Error("Invalid provider ID!");
            }
            function ha(e) {
                if (sa.call(this, e), "twitter.com" != this.providerId) throw Error("Invalid provider ID!");
                Ti(this, "username", e.screenName || null);
            }
            function pa(e, t) {
                return e.then(function(e) {
                    if (e[Wa]) {
                        var n = $i(e[Wa]);
                        if (!n || t != n.b) throw new Fi("user-mismatch");
                        return e;
                    }
                    throw new Fi("user-mismatch");
                }).s(function(e) {
                    throw e && e.code && e.code == ji + "user-not-found" ? new Fi("user-mismatch") : e;
                });
            }
            function da(e, t) {
                if (t.idToken || t.accessToken) t.idToken && Ti(this, "idToken", t.idToken), t.accessToken && Ti(this, "accessToken", t.accessToken); else {
                    if (!t.oauthToken || !t.oauthTokenSecret) throw new Fi("internal-error", "failed to construct a credential");
                    Ti(this, "accessToken", t.oauthToken), Ti(this, "secret", t.oauthTokenSecret);
                }
                Ti(this, "providerId", e);
            }
            function fa(e) {
                var t = {};
                return e.idToken && (t.id_token = e.idToken), e.accessToken && (t.access_token = e.accessToken), 
                e.secret && (t.oauth_token_secret = e.secret), t.providerId = e.providerId, {
                    postBody: Yr(t).toString(),
                    requestUri: "http://localhost"
                };
            }
            function va(e, t) {
                this.rc = t || [], Ci(this, {
                    providerId: e,
                    isOAuthProvider: !0
                }), this.rb = {}, this.Wa = (na(e) || {}).Ma || null, this.Ua = null;
            }
            function ma(e) {
                va.call(this, e, ea), this.a = [];
            }
            function ya() {
                ma.call(this, "facebook.com");
            }
            function ga(e) {
                if (!e) throw new Fi("argument-error", "credential failed: expected 1 argument (the OAuth access token).");
                var t = e;
                return d(e) && (t = e.accessToken), new ya().credential(null, t);
            }
            function _a() {
                ma.call(this, "github.com");
            }
            function ba(e) {
                if (!e) throw new Fi("argument-error", "credential failed: expected 1 argument (the OAuth access token).");
                var t = e;
                return d(e) && (t = e.accessToken), new _a().credential(null, t);
            }
            function wa() {
                ma.call(this, "google.com"), this.sa("profile");
            }
            function Ea(e, t) {
                var n = e;
                return d(e) && (n = e.idToken, t = e.accessToken), new wa().credential(n, t);
            }
            function Ta() {
                va.call(this, "twitter.com", Zi);
            }
            function Ca(e, t) {
                var n = e;
                if (d(n) || (n = {
                    oauthToken: e,
                    oauthTokenSecret: t
                }), !n.oauthToken || !n.oauthTokenSecret) throw new Fi("argument-error", "credential failed: expected 2 arguments (the OAuth access token and secret).");
                return new da("twitter.com", n);
            }
            function Sa(e, t) {
                this.a = e, this.f = t, Ti(this, "providerId", "password");
            }
            function Na() {
                Ci(this, {
                    providerId: "password",
                    isOAuthProvider: !1
                });
            }
            function Ia(e) {
                if (!(e.Pa && e.Oa || e.Da && e.Y)) throw new Fi("internal-error");
                this.a = e, Ti(this, "providerId", "phone");
            }
            function Oa(e) {
                return e.a.Da && e.a.Y ? {
                    temporaryProof: e.a.Da,
                    phoneNumber: e.a.Y
                } : {
                    sessionInfo: e.a.Pa,
                    code: e.a.Oa
                };
            }
            function Pa(e) {
                try {
                    this.a = e || t.auth();
                } catch (e) {
                    throw new Fi("argument-error", "Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().");
                }
                Ci(this, {
                    providerId: "phone",
                    isOAuthProvider: !1
                });
            }
            function Ra(e, t) {
                if (!e) throw new Fi("missing-verification-id");
                if (!t) throw new Fi("missing-verification-code");
                return new Ia({
                    Pa: e,
                    Oa: t
                });
            }
            function Aa(e) {
                if (e.temporaryProof && e.phoneNumber) return new Ia({
                    Da: e.temporaryProof,
                    Y: e.phoneNumber
                });
                var t = e && e.providerId;
                if (!t || "password" === t) return null;
                var n = e && e.oauthAccessToken, r = e && e.oauthTokenSecret;
                e = e && e.oauthIdToken;
                try {
                    switch (t) {
                      case "google.com":
                        return Ea(e, n);

                      case "facebook.com":
                        return ga(n);

                      case "github.com":
                        return ba(n);

                      case "twitter.com":
                        return Ca(n, r);

                      default:
                        return new ma(t).credential(e, n);
                    }
                } catch (e) {
                    return null;
                }
            }
            function ka(e) {
                if (!e.isOAuthProvider) throw new Fi("invalid-oauth-provider");
            }
            function xa(e, t, n, r, o) {
                if (this.b = e, this.c = t || null, this.f = n || null, this.g = r || null, this.a = o || null, 
                !this.f && !this.a) throw new Fi("invalid-auth-event");
                if (this.f && this.a) throw new Fi("invalid-auth-event");
                if (this.f && !this.g) throw new Fi("invalid-auth-event");
            }
            function Da(e) {
                return (e = e || {}).type ? new xa(e.type, e.eventId, e.urlResponse, e.sessionId, e.error && Ui(e.error)) : null;
            }
            function La(e) {
                var t = "unauthorized-domain", n = void 0, r = Lr(e);
                e = r.b, "chrome-extension" == (r = r.c) ? n = T("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", e) : "http" == r || "https" == r ? n = T("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", e) : t = "operation-not-supported-in-this-environment", 
                Fi.call(this, t, n);
            }
            function Ma(e, t, n) {
                Fi.call(this, e, n), (e = t || {}).sb && Ti(this, "email", e.sb), e.Y && Ti(this, "phoneNumber", e.Y), 
                e.credential && Ti(this, "credential", e.credential);
            }
            function Fa(e) {
                if (e.code) {
                    var t = e.code || "";
                    0 == t.indexOf(ji) && (t = t.substring(ji.length));
                    var n = {
                        credential: Aa(e)
                    };
                    if (e.email) n.sb = e.email; else {
                        if (!e.phoneNumber) return new Fi(t, e.message || void 0);
                        n.Y = e.phoneNumber;
                    }
                    return new Ma(t, n, e.message);
                }
                return null;
            }
            function Ua(e) {
                this.f = e;
            }
            function ja(e, n, r) {
                var i = "Node" == Xo();
                if (!(i = o.XMLHttpRequest || i && t.INTERNAL.node && t.INTERNAL.node.XMLHttpRequest)) throw new Fi("internal-error", "The XMLHttpRequest compatibility library was not found.");
                this.b = e, e = n || {}, this.i = e.secureTokenEndpoint || "https://securetoken.googleapis.com/v1/token", 
                this.l = e.secureTokenTimeout || Ba, this.c = re(e.secureTokenHeaders || Va), this.g = e.firebaseEndpoint || "https://www.googleapis.com/identitytoolkit/v3/relyingparty/", 
                this.h = e.firebaseTimeout || Ga, this.a = re(e.firebaseHeaders || Ha), r && (this.a["X-Client-Version"] = r, 
                this.c["X-Client-Version"] = r), this.f = new ko(), this.o = new Ua(i);
            }
            w(sa, aa), w(ua, sa), w(ca, sa), w(la, sa), w(ha, sa), da.prototype.wa = function(e) {
                return hs(e, fa(this));
            }, da.prototype.b = function(e, t) {
                var n = fa(this);
                return n.idToken = t, ps(e, n);
            }, da.prototype.c = function(e, t) {
                return pa(ds(e, fa(this)), t);
            }, da.prototype.B = function() {
                var e = {
                    providerId: this.providerId
                };
                return this.idToken && (e.oauthIdToken = this.idToken), this.accessToken && (e.oauthAccessToken = this.accessToken), 
                this.secret && (e.oauthTokenSecret = this.secret), e;
            }, va.prototype.Ba = function(e) {
                return this.rb = re(e), this;
            }, w(ma, va), ma.prototype.sa = function(e) {
                return G(this.a, e) || this.a.push(e), this;
            }, ma.prototype.wb = function() {
                return Y(this.a);
            }, ma.prototype.credential = function(e, t) {
                if (!e && !t) throw new Fi("argument-error", "credential failed: must provide the ID token and/or the access token.");
                return new da(this.providerId, {
                    idToken: e || null,
                    accessToken: t || null
                });
            }, w(ya, ma), Ti(ya, "PROVIDER_ID", "facebook.com"), w(_a, ma), Ti(_a, "PROVIDER_ID", "github.com"), 
            w(wa, ma), Ti(wa, "PROVIDER_ID", "google.com"), w(Ta, va), Ti(Ta, "PROVIDER_ID", "twitter.com"), 
            Sa.prototype.wa = function(e) {
                return js(e, Ls, {
                    email: this.a,
                    password: this.f
                });
            }, Sa.prototype.b = function(e, t) {
                return js(e, Ps, {
                    idToken: t,
                    email: this.a,
                    password: this.f
                });
            }, Sa.prototype.c = function(e, t) {
                return pa(this.wa(e), t);
            }, Sa.prototype.B = function() {
                return {
                    email: this.a,
                    password: this.f
                };
            }, Ci(Na, {
                PROVIDER_ID: "password"
            }), Ia.prototype.wa = function(e) {
                return e.Qa(Oa(this));
            }, Ia.prototype.b = function(e, t) {
                var n = Oa(this);
                return n.idToken = t, js(e, Fs, n);
            }, Ia.prototype.c = function(e, t) {
                var n = Oa(this);
                return n.operation = "REAUTH", pa(e = js(e, Us, n), t);
            }, Ia.prototype.B = function() {
                var e = {
                    providerId: "phone"
                };
                return this.a.Pa && (e.verificationId = this.a.Pa), this.a.Oa && (e.verificationCode = this.a.Oa), 
                this.a.Da && (e.temporaryProof = this.a.Da), this.a.Y && (e.phoneNumber = this.a.Y), 
                e;
            }, Pa.prototype.Qa = function(e, t) {
                var n = this.a.c;
                return Qe(t.verify()).then(function(r) {
                    if (!i(r)) throw new Fi("argument-error", "An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");
                    switch (t.type) {
                      case "recaptcha":
                        return ss(n, {
                            phoneNumber: e,
                            recaptchaToken: r
                        }).then(function(e) {
                            return "function" == typeof t.reset && t.reset(), e;
                        }, function(e) {
                            throw "function" == typeof t.reset && t.reset(), e;
                        });

                      default:
                        throw new Fi("argument-error", 'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');
                    }
                });
            }, Ci(Pa, {
                PROVIDER_ID: "phone"
            }), xa.prototype.B = function() {
                return {
                    type: this.b,
                    eventId: this.c,
                    urlResponse: this.f,
                    sessionId: this.g,
                    error: this.a && this.a.B()
                };
            }, w(La, Fi), w(Ma, Fi), Ma.prototype.B = function() {
                var e = {
                    code: this.code,
                    message: this.message
                };
                this.email && (e.email = this.email), this.phoneNumber && (e.phoneNumber = this.phoneNumber);
                var t = this.credential && this.credential.B();
                return t && ie(e, t), e;
            }, Ma.prototype.toJSON = function() {
                return this.B();
            }, w(Ua, to), Ua.prototype.a = function() {
                return new this.f();
            }, Ua.prototype.b = function() {
                return {};
            };
            var qa, Wa = "idToken", Ba = new mi(3e4, 6e4), Va = {
                "Content-Type": "application/x-www-form-urlencoded"
            }, Ga = new mi(3e4, 6e4), Ha = {
                "Content-Type": "application/json"
            };
            function Ka(e, t) {
                t ? e.a["X-Firebase-Locale"] = t : delete e.a["X-Firebase-Locale"];
            }
            function Qa(e, t) {
                t ? (e.a["X-Client-Version"] = t, e.c["X-Client-Version"] = t) : (delete e.a["X-Client-Version"], 
                delete e.c["X-Client-Version"]);
            }
            function Ya(e, t, n, r, o, i, a) {
                vi() ? (jo() ? e = g(e.m, e) : (qa || (qa = new qe(function(e, t) {
                    Ja(e, t);
                })), e = g(e.u, e)), e(t, n, r, o, i, a)) : n && n(null);
            }
            ja.prototype.m = function(e, t, n, r, o, i) {
                var a = "Node" == Xo(), s = zo() ? a ? new io(this.o) : new io() : new io(this.f);
                if (i) {
                    s.f = Math.max(0, i);
                    var u = setTimeout(function() {
                        On(s, "timeout");
                    }, i);
                }
                Pn(s, "complete", function() {
                    u && clearTimeout(u);
                    var e = null;
                    try {
                        e = JSON.parse(Eo(this)) || null;
                    } catch (t) {
                        e = null;
                    }
                    t && t(e);
                }), Rn(s, "ready", function() {
                    u && clearTimeout(u), Xt(this);
                }), Rn(s, "timeout", function() {
                    u && clearTimeout(u), Xt(this), t && t(null);
                }), ho(s, e, n, r, o);
            };
            var Xa = mt("https://apis.google.com/js/client.js?onload=%{onload}"), za = "__fcb" + Math.floor(1e6 * Math.random()).toString();
            function Ja(e, t) {
                ((window.gapi || {}).client || {}).request ? e() : (o[za] = function() {
                    ((window.gapi || {}).client || {}).request ? e() : t(Error("CORS_UNSUPPORTED"));
                }, rr(So(_t(Xa, {
                    onload: za
                })), function() {
                    t(Error("CORS_UNSUPPORTED"));
                }));
            }
            function $a(e, t) {
                return new qe(function(n, r) {
                    "refresh_token" == t.grant_type && t.refresh_token || "authorization_code" == t.grant_type && t.code ? Ya(e, e.i + "?key=" + encodeURIComponent(e.b), function(e) {
                        e ? e.error ? r(Ws(e)) : e.access_token && e.refresh_token ? n(e) : r(new Fi("internal-error")) : r(new Fi("network-request-failed"));
                    }, "POST", Yr(t).toString(), e.c, e.l.get()) : r(new Fi("internal-error"));
                });
            }
            function Za(e, t, n, r, o, i) {
                var a = Lr(e.g + t);
                xr(a, "key", e.b), i && xr(a, "cb", b().toString());
                var s = "GET" == n;
                if (s) for (var u in r) r.hasOwnProperty(u) && xr(a, u, r[u]);
                return new qe(function(t, i) {
                    Ya(e, a.toString(), function(e) {
                        e ? e.error ? i(Ws(e, o || {})) : t(e) : i(new Fi("network-request-failed"));
                    }, n, s ? void 0 : qt(li(r)), e.a, e.h.get());
                });
            }
            function es(e) {
                if (!Co.test(e.email)) throw new Fi("invalid-email");
            }
            function ts(e) {
                "email" in e && es(e);
            }
            function ns(e, t) {
                return js(e, gs, {
                    identifier: t,
                    continueUri: ai() ? Mo() : "http://localhost"
                }).then(function(e) {
                    return e.allProviders || [];
                });
            }
            function rs(e) {
                return js(e, Cs, {}).then(function(e) {
                    return e.authorizedDomains || [];
                });
            }
            function os(e) {
                if (!e[Wa]) throw new Fi("internal-error");
            }
            function is(e) {
                if (e.phoneNumber || e.temporaryProof) {
                    if (!e.phoneNumber || !e.temporaryProof) throw new Fi("internal-error");
                } else {
                    if (!e.sessionInfo) throw new Fi("missing-verification-id");
                    if (!e.code) throw new Fi("missing-verification-code");
                }
            }
            ja.prototype.u = function(e, t, n, r, o) {
                var i = this;
                qa.then(function() {
                    window.gapi.client.setApiKey(i.b);
                    var a = window.gapi.auth.getToken();
                    window.gapi.auth.setToken(null), window.gapi.client.request({
                        path: e,
                        method: n,
                        body: r,
                        headers: o,
                        authType: "none",
                        callback: function(e) {
                            window.gapi.auth.setToken(a), t && t(e);
                        }
                    });
                }).s(function(e) {
                    t && t({
                        error: {
                            message: e && e.message || "CORS_UNSUPPORTED"
                        }
                    });
                });
            }, ja.prototype.gb = function() {
                return js(this, Rs, {});
            }, ja.prototype.kb = function(e, t) {
                return js(this, Os, {
                    idToken: e,
                    email: t
                });
            }, ja.prototype.lb = function(e, t) {
                return js(this, Ps, {
                    idToken: e,
                    password: t
                });
            };
            var as = {
                displayName: "DISPLAY_NAME",
                photoUrl: "PHOTO_URL"
            };
            function ss(e, t) {
                return js(e, Is, t);
            }
            function us(e, t, n) {
                return js(e, bs, {
                    idToken: t,
                    deleteProvider: n
                });
            }
            function cs(e) {
                if (!e.requestUri || !e.sessionId && !e.postBody) throw new Fi("internal-error");
            }
            function ls(e) {
                var t = null;
                if (e.needConfirmation ? (e.code = "account-exists-with-different-credential", t = Fa(e)) : "FEDERATED_USER_ID_ALREADY_LINKED" == e.errorMessage ? (e.code = "credential-already-in-use", 
                t = Fa(e)) : "EMAIL_EXISTS" == e.errorMessage ? (e.code = "email-already-in-use", 
                t = Fa(e)) : e.errorMessage && (t = qs(e.errorMessage)), t) throw t;
                if (!e[Wa]) throw new Fi("internal-error");
            }
            function hs(e, t) {
                return t.returnIdpCredential = !0, js(e, As, t);
            }
            function ps(e, t) {
                return t.returnIdpCredential = !0, js(e, xs, t);
            }
            function ds(e, t) {
                return t.returnIdpCredential = !0, t.autoCreate = !1, js(e, ks, t);
            }
            function fs(e) {
                if (!e.oobCode) throw new Fi("invalid-action-code");
            }
            (e = ja.prototype).mb = function(e, t) {
                var n = {
                    idToken: e
                }, r = [];
                return $(as, function(e, o) {
                    var i = t[o];
                    null === i ? r.push(e) : o in t && (n[o] = i);
                }), r.length && (n.deleteAttribute = r), js(this, Os, n);
            }, e.cb = function(e, t) {
                return ie(e = {
                    requestType: "PASSWORD_RESET",
                    email: e
                }, t), js(this, Ts, e);
            }, e.bb = function(e, t) {
                return ie(e = {
                    requestType: "VERIFY_EMAIL",
                    idToken: e
                }, t), js(this, Es, e);
            }, e.Qa = function(e) {
                return js(this, Ms, e);
            }, e.Ta = function(e, t) {
                return js(this, Ns, {
                    oobCode: e,
                    newPassword: t
                });
            }, e.Ia = function(e) {
                return js(this, ms, {
                    oobCode: e
                });
            }, e.Sa = function(e) {
                return js(this, vs, {
                    oobCode: e
                });
            };
            var vs = {
                endpoint: "setAccountInfo",
                D: fs,
                ga: "email"
            }, ms = {
                endpoint: "resetPassword",
                D: fs,
                O: function(e) {
                    if (!e.email || !e.requestType) throw new Fi("internal-error");
                }
            }, ys = {
                endpoint: "signupNewUser",
                D: function(e) {
                    if (es(e), !e.password) throw new Fi("weak-password");
                },
                O: os,
                T: !0
            }, gs = {
                endpoint: "createAuthUri"
            }, _s = {
                endpoint: "deleteAccount",
                ea: [ "idToken" ]
            }, bs = {
                endpoint: "setAccountInfo",
                ea: [ "idToken", "deleteProvider" ],
                D: function(e) {
                    if (!l(e.deleteProvider)) throw new Fi("internal-error");
                }
            }, ws = {
                endpoint: "getAccountInfo"
            }, Es = {
                endpoint: "getOobConfirmationCode",
                ea: [ "idToken", "requestType" ],
                D: function(e) {
                    if ("VERIFY_EMAIL" != e.requestType) throw new Fi("internal-error");
                },
                ga: "email"
            }, Ts = {
                endpoint: "getOobConfirmationCode",
                ea: [ "requestType" ],
                D: function(e) {
                    if ("PASSWORD_RESET" != e.requestType) throw new Fi("internal-error");
                    es(e);
                },
                ga: "email"
            }, Cs = {
                nb: !0,
                endpoint: "getProjectConfig",
                zb: "GET"
            }, Ss = {
                nb: !0,
                endpoint: "getRecaptchaParam",
                zb: "GET",
                O: function(e) {
                    if (!e.recaptchaSiteKey) throw new Fi("internal-error");
                }
            }, Ns = {
                endpoint: "resetPassword",
                D: fs,
                ga: "email"
            }, Is = {
                endpoint: "sendVerificationCode",
                ea: [ "phoneNumber", "recaptchaToken" ],
                ga: "sessionInfo"
            }, Os = {
                endpoint: "setAccountInfo",
                ea: [ "idToken" ],
                D: ts,
                T: !0
            }, Ps = {
                endpoint: "setAccountInfo",
                ea: [ "idToken" ],
                D: function(e) {
                    if (ts(e), !e.password) throw new Fi("weak-password");
                },
                O: os,
                T: !0
            }, Rs = {
                endpoint: "signupNewUser",
                O: os,
                T: !0
            }, As = {
                endpoint: "verifyAssertion",
                D: cs,
                O: ls,
                T: !0
            }, ks = {
                endpoint: "verifyAssertion",
                D: cs,
                O: function(e) {
                    if (e.errorMessage && "USER_NOT_FOUND" == e.errorMessage) throw new Fi("user-not-found");
                    if (e.errorMessage) throw qs(e.errorMessage);
                    if (!e[Wa]) throw new Fi("internal-error");
                },
                T: !0
            }, xs = {
                endpoint: "verifyAssertion",
                D: function(e) {
                    if (cs(e), !e.idToken) throw new Fi("internal-error");
                },
                O: ls,
                T: !0
            }, Ds = {
                endpoint: "verifyCustomToken",
                D: function(e) {
                    if (!e.token) throw new Fi("invalid-custom-token");
                },
                O: os,
                T: !0
            }, Ls = {
                endpoint: "verifyPassword",
                D: function(e) {
                    if (es(e), !e.password) throw new Fi("wrong-password");
                },
                O: os,
                T: !0
            }, Ms = {
                endpoint: "verifyPhoneNumber",
                D: is,
                O: os
            }, Fs = {
                endpoint: "verifyPhoneNumber",
                D: function(e) {
                    if (!e.idToken) throw new Fi("internal-error");
                    is(e);
                },
                O: function(e) {
                    if (e.temporaryProof) throw e.code = "credential-already-in-use", Fa(e);
                    os(e);
                }
            }, Us = {
                Pb: {
                    USER_NOT_FOUND: "user-not-found"
                },
                endpoint: "verifyPhoneNumber",
                D: is,
                O: os
            };
            function js(e, t, n) {
                if (!Ii(n, t.ea)) return Ye(new Fi("internal-error"));
                var r, o = t.zb || "POST";
                return Qe(n).then(t.D).then(function() {
                    return t.T && (n.returnSecureToken = !0), Za(e, t.endpoint, o, n, t.Pb, t.nb || !1);
                }).then(function(e) {
                    return r = e;
                }).then(t.O).then(function() {
                    if (!t.ga) return r;
                    if (!(t.ga in r)) throw new Fi("internal-error");
                    return r[t.ga];
                });
            }
            function qs(e) {
                return Ws({
                    error: {
                        errors: [ {
                            message: e
                        } ],
                        code: 400,
                        message: e
                    }
                });
            }
            function Ws(e, t) {
                var n = (e.error && e.error.errors && e.error.errors[0] || {}).reason || "", r = {
                    keyInvalid: "invalid-api-key",
                    ipRefererBlocked: "app-not-authorized"
                };
                if (n = r[n] ? new Fi(r[n]) : null) return n;
                for (var o in n = e.error && e.error.message || "", ie(r = {
                    INVALID_CUSTOM_TOKEN: "invalid-custom-token",
                    CREDENTIAL_MISMATCH: "custom-token-mismatch",
                    MISSING_CUSTOM_TOKEN: "internal-error",
                    INVALID_IDENTIFIER: "invalid-email",
                    MISSING_CONTINUE_URI: "internal-error",
                    INVALID_EMAIL: "invalid-email",
                    INVALID_PASSWORD: "wrong-password",
                    USER_DISABLED: "user-disabled",
                    MISSING_PASSWORD: "internal-error",
                    EMAIL_EXISTS: "email-already-in-use",
                    PASSWORD_LOGIN_DISABLED: "operation-not-allowed",
                    INVALID_IDP_RESPONSE: "invalid-credential",
                    FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",
                    INVALID_MESSAGE_PAYLOAD: "invalid-message-payload",
                    INVALID_RECIPIENT_EMAIL: "invalid-recipient-email",
                    INVALID_SENDER: "invalid-sender",
                    EMAIL_NOT_FOUND: "user-not-found",
                    EXPIRED_OOB_CODE: "expired-action-code",
                    INVALID_OOB_CODE: "invalid-action-code",
                    MISSING_OOB_CODE: "internal-error",
                    CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",
                    INVALID_ID_TOKEN: "invalid-user-token",
                    TOKEN_EXPIRED: "user-token-expired",
                    USER_NOT_FOUND: "user-token-expired",
                    CORS_UNSUPPORTED: "cors-unsupported",
                    DYNAMIC_LINK_NOT_ACTIVATED: "dynamic-link-not-activated",
                    INVALID_APP_ID: "invalid-app-id",
                    TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",
                    WEAK_PASSWORD: "weak-password",
                    OPERATION_NOT_ALLOWED: "operation-not-allowed",
                    USER_CANCELLED: "user-cancelled",
                    CAPTCHA_CHECK_FAILED: "captcha-check-failed",
                    INVALID_APP_CREDENTIAL: "invalid-app-credential",
                    INVALID_CODE: "invalid-verification-code",
                    INVALID_PHONE_NUMBER: "invalid-phone-number",
                    INVALID_SESSION_INFO: "invalid-verification-id",
                    INVALID_TEMPORARY_PROOF: "invalid-credential",
                    MISSING_APP_CREDENTIAL: "missing-app-credential",
                    MISSING_CODE: "missing-verification-code",
                    MISSING_PHONE_NUMBER: "missing-phone-number",
                    MISSING_SESSION_INFO: "missing-verification-id",
                    QUOTA_EXCEEDED: "quota-exceeded",
                    SESSION_EXPIRED: "code-expired",
                    INVALID_CONTINUE_URI: "invalid-continue-uri",
                    MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",
                    MISSING_IOS_BUNDLE_ID: "missing-ios-bundle-id",
                    UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",
                    INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",
                    INVALID_CERT_HASH: "invalid-cert-hash"
                }, t || {}), t = (t = n.match(/^[^\s]+\s*:\s*(.*)$/)) && 1 < t.length ? t[1] : void 0, 
                r) if (0 === n.indexOf(o)) return new Fi(r[o], t);
                return !t && e && (t = ci(e)), new Fi("internal-error", t);
            }
            var Bs, Vs = {
                Mc: {
                    Va: "https://www.googleapis.com/identitytoolkit/v3/relyingparty/",
                    ab: "https://securetoken.googleapis.com/v1/token",
                    id: "p"
                },
                Oc: {
                    Va: "https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",
                    ab: "https://staging-securetoken.sandbox.googleapis.com/v1/token",
                    id: "s"
                },
                Pc: {
                    Va: "https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",
                    ab: "https://test-securetoken.sandbox.googleapis.com/v1/token",
                    id: "t"
                }
            };
            function Gs(e) {
                for (var t in Vs) if (Vs[t].id === e) return {
                    firebaseEndpoint: (e = Vs[t]).Va,
                    secureTokenEndpoint: e.ab
                };
                return null;
            }
            function Hs(e) {
                this.b = e, this.a = null, this.Ya = Ks(this);
            }
            function Ks(e) {
                return eu().then(function() {
                    return new qe(function(t, n) {
                        ri("gapi.iframes.getContext")().open({
                            where: document.body,
                            url: e.b,
                            messageHandlersFilter: ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),
                            attributes: {
                                style: {
                                    position: "absolute",
                                    top: "-100px",
                                    width: "1px",
                                    height: "1px"
                                }
                            },
                            dontclear: !0
                        }, function(r) {
                            function o() {
                                clearTimeout(i), t();
                            }
                            e.a = r, e.a.restyle({
                                setHideOnLeave: !1
                            });
                            var i = setTimeout(function() {
                                n(Error("Network Error"));
                            }, $s.get());
                            r.ping(o).then(o, function() {
                                n(Error("Network Error"));
                            });
                        });
                    });
                });
            }
            function Qs(e, t) {
                return e.Ya.then(function() {
                    return new qe(function(n) {
                        e.a.send(t.type, t, n, ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"));
                    });
                });
            }
            function Ys(e, t) {
                e.Ya.then(function() {
                    e.a.register("authEvent", t, ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"));
                });
            }
            Bs = Gs("__EID__") ? "__EID__" : void 0;
            var Xs, zs = mt("https://apis.google.com/js/api.js?onload=%{onload}"), Js = new mi(3e4, 6e4), $s = new mi(5e3, 15e3), Zs = null;
            function eu() {
                return Zs || (Zs = new qe(function(e, t) {
                    if (vi()) {
                        var n = function() {
                            fi(), ri("gapi.load")("gapi.iframes", {
                                callback: e,
                                ontimeout: function() {
                                    fi(), t(Error("Network Error"));
                                },
                                timeout: Js.get()
                            });
                        };
                        if (ri("gapi.iframes.Iframe")) e(); else if (ri("gapi.load")) n(); else {
                            var r = "__iframefcb" + Math.floor(1e6 * Math.random()).toString();
                            o[r] = function() {
                                ri("gapi.load") ? n() : t(Error("Network Error"));
                            }, Qe(So(r = _t(zs, {
                                onload: r
                            }))).s(function() {
                                t(Error("Network Error"));
                            });
                        }
                    } else t(Error("Network Error"));
                }).s(function(e) {
                    throw Zs = null, e;
                }));
            }
            function tu(e, t, n) {
                this.i = e, this.g = t, this.h = n, this.f = null, this.a = Mr(this.i, "/__/auth/iframe"), 
                xr(this.a, "apiKey", this.g), xr(this.a, "appName", this.h), this.b = null, this.c = [];
            }
            function nu(e, t, n, r, o) {
                this.m = e, this.u = t, this.c = n, this.l = r, this.i = this.g = this.h = null, 
                this.a = o, this.f = null;
            }
            function ru(e) {
                try {
                    return t.app(e).auth().Ka();
                } catch (e) {
                    return [];
                }
            }
            function ou(e, t, n, r, o) {
                this.u = e, this.f = t, this.b = n, this.c = r || null, this.h = o || null, this.m = this.o = this.v = null, 
                this.g = [], this.l = this.a = null;
            }
            function iu(e) {
                var t = Mo();
                return rs(e).then(function(e) {
                    e: {
                        var n = Lr(t), r = n.c;
                        n = n.b;
                        for (var o = 0; o < e.length; o++) {
                            var i = e[o], a = n, s = r;
                            if (0 == i.indexOf("chrome-extension://") ? a = Lr(i).b == a && "chrome-extension" == s : "http" != s && "https" != s ? a = !1 : Go.test(i) ? a = a == i : (i = i.split(".").join("\\."), 
                            a = new RegExp("^(.+\\." + i + "|" + i + ")$", "i").test(a)), a) {
                                e = !0;
                                break e;
                            }
                        }
                        e = !1;
                    }
                    if (!e) throw new La(Mo());
                });
            }
            function au(e) {
                return e.l ? e.l : (e.l = Ho().then(function() {
                    if (!e.o) {
                        var t = e.c, n = e.h, r = ru(e.b), o = new tu(e.u, e.f, e.b);
                        o.f = t, o.b = n, o.c = Y(r || []), e.o = o.toString();
                    }
                    e.i = new Hs(e.o), cu(e);
                }), e.l);
            }
            function su(e) {
                return e.m || (e.v = e.c ? ti(e.c, ru(e.b)) : null, e.m = new ja(e.f, Gs(e.h), e.v)), 
                e.m;
            }
            function uu(e, t, n, r, o, i, a, s, u, c) {
                return (e = new nu(e, t, n, r, o)).h = i, e.g = a, e.i = s, e.b = re(u || null), 
                e.f = c, e.toString();
            }
            function cu(e) {
                if (!e.i) throw Error("IfcHandler must be initialized!");
                Ys(e.i, function(t) {
                    var n = {};
                    if (t && t.authEvent) {
                        var r = !1;
                        for (t = Da(t.authEvent), n = 0; n < e.g.length; n++) r = e.g[n](t) || r;
                        return (n = {}).status = r ? "ACK" : "ERROR", Qe(n);
                    }
                    return n.status = "ERROR", Qe(n);
                });
            }
            function lu(e) {
                var t = {
                    type: "webStorageSupport"
                };
                return au(e).then(function() {
                    return Qs(e.i, t);
                }).then(function(e) {
                    if (e && e.length && void 0 !== e[0].webStorageSupport) return e[0].webStorageSupport;
                    throw Error();
                });
            }
            function hu(e) {
                if (this.a = e || t.INTERNAL.reactNative && t.INTERNAL.reactNative.AsyncStorage, 
                !this.a) throw new Fi("internal-error", "The React Native compatibility library was not found.");
            }
            function pu() {
                this.a = {};
            }
            function du(e, t, n, r, i, a) {
                try {
                    var s = !!o.indexedDB;
                } catch (e) {
                    s = !1;
                }
                if (!s) throw new Fi("web-storage-unsupported");
                this.u = e, this.h = t, this.g = n, this.l = r, this.m = i, this.f = {}, this.c = [], 
                this.a = 0, this.o = a || o.indexedDB;
            }
            function fu(e) {
                return new qe(function(t, n) {
                    var r = e.o.open(e.u, e.m);
                    r.onerror = function(e) {
                        n(Error(e.target.errorCode));
                    }, r.onupgradeneeded = function(t) {
                        t = t.target.result;
                        try {
                            t.createObjectStore(e.h, {
                                keyPath: e.g
                            });
                        } catch (e) {
                            n(e);
                        }
                    }, r.onsuccess = function(e) {
                        t(e.target.result);
                    };
                });
            }
            function vu(e) {
                return e.i || (e.i = fu(e)), e.i;
            }
            function mu(e, t) {
                return t.objectStore(e.h);
            }
            function yu(e, t, n) {
                return t.transaction([ e.h ], n ? "readwrite" : "readonly");
            }
            function gu(e) {
                return new qe(function(t, n) {
                    e.onsuccess = function(e) {
                        e && e.target ? t(e.target.result) : t();
                    }, e.onerror = function(e) {
                        n(Error(e.target.errorCode));
                    };
                });
            }
            function _u(e) {
                function t() {
                    return e.b = xn(800).then(g(e.zc, e)).then(function(t) {
                        0 < t.length && U(e.c, function(e) {
                            e(t);
                        });
                    }).then(t).s(function(e) {
                        "STOP_EVENT" != e.message && t();
                    }), e.b;
                }
                e.b && e.b.cancel("STOP_EVENT"), t();
            }
            function bu() {
                if (!Eu()) {
                    if ("Node" == Xo()) throw new Fi("internal-error", "The LocalStorage compatibility library was not found.");
                    throw new Fi("web-storage-unsupported");
                }
                this.a = wu() || t.INTERNAL.node.localStorage;
            }
            function wu() {
                try {
                    var e = o.localStorage, t = pi();
                    return e && (e.setItem(t, "1"), e.removeItem(t)), e;
                } catch (e) {
                    return null;
                }
            }
            function Eu() {
                var e = "Node" == Xo();
                if (!(e = wu() || e && t.INTERNAL.node && t.INTERNAL.node.localStorage)) return !1;
                try {
                    return e.setItem("__sak", "1"), e.removeItem("__sak"), !0;
                } catch (e) {
                    return !1;
                }
            }
            function Tu() {}
            function Cu() {
                if (!Nu()) {
                    if ("Node" == Xo()) throw new Fi("internal-error", "The SessionStorage compatibility library was not found.");
                    throw new Fi("web-storage-unsupported");
                }
                this.a = Su() || t.INTERNAL.node.sessionStorage;
            }
            function Su() {
                try {
                    var e = o.sessionStorage, t = pi();
                    return e && (e.setItem(t, "1"), e.removeItem(t)), e;
                } catch (e) {
                    return null;
                }
            }
            function Nu() {
                var e = "Node" == Xo();
                if (!(e = Su() || e && t.INTERNAL.node && t.INTERNAL.node.sessionStorage)) return !1;
                try {
                    return e.setItem("__sak", "1"), e.removeItem("__sak"), !0;
                } catch (e) {
                    return !1;
                }
            }
            function Iu() {
                var e = {};
                e.Browser = Ru, e.Node = Au, e.ReactNative = ku, this.a = e[Xo()];
            }
            tu.prototype.toString = function() {
                return this.f ? xr(this.a, "v", this.f) : zr(this.a.a, "v"), this.b ? xr(this.a, "eid", this.b) : zr(this.a.a, "eid"), 
                this.c.length ? xr(this.a, "fw", this.c.join(",")) : zr(this.a.a, "fw"), this.a.toString();
            }, nu.prototype.toString = function() {
                var e = Mr(this.m, "/__/auth/handler");
                if (xr(e, "apiKey", this.u), xr(e, "appName", this.c), xr(e, "authType", this.l), 
                this.a.isOAuthProvider) {
                    var n = this.a;
                    try {
                        var r = t.app(this.c).auth().$();
                    } catch (e) {
                        r = null;
                    }
                    for (var o in n.Ua = r, xr(e, "providerId", this.a.providerId), r = li((n = this.a).rb)) r[o] = r[o].toString();
                    o = n.rc, r = re(r);
                    for (var i = 0; i < o.length; i++) {
                        var a = o[i];
                        a in r && delete r[a];
                    }
                    n.Wa && n.Ua && !r[n.Wa] && (r[n.Wa] = n.Ua), te(r) || xr(e, "customParameters", ci(r));
                }
                if ("function" == typeof this.a.wb && ((n = this.a.wb()).length && xr(e, "scopes", n.join(","))), 
                this.h ? xr(e, "redirectUrl", this.h) : zr(e.a, "redirectUrl"), this.g ? xr(e, "eventId", this.g) : zr(e.a, "eventId"), 
                this.i ? xr(e, "v", this.i) : zr(e.a, "v"), this.b) for (var s in this.b) this.b.hasOwnProperty(s) && !Dr(e, s) && xr(e, s, this.b[s]);
                return this.f ? xr(e, "eid", this.f) : zr(e.a, "eid"), (s = ru(this.c)).length && xr(e, "fw", s.join(",")), 
                e.toString();
            }, (e = ou.prototype).Ca = function(e, t, n) {
                var r = new Fi("popup-closed-by-user"), o = new Fi("web-storage-unsupported"), i = this, a = !1;
                return this.ba().then(function() {
                    lu(i).then(function(n) {
                        n || (e && Wo(e), t(o), a = !0);
                    });
                }).s(function() {}).then(function() {
                    if (!a) return Vo(e);
                }).then(function() {
                    if (!a) return xn(n).then(function() {
                        t(r);
                    });
                });
            }, e.Db = function() {
                var e = ni();
                return !ui(e) && !di(e);
            }, e.yb = function() {
                return !1;
            }, e.vb = function(e, t, n, r, o, i, a) {
                if (!e) return Ye(new Fi("popup-blocked"));
                if (a && !ui()) return this.ba().s(function(t) {
                    Wo(e), o(t);
                }), r(), Qe();
                this.a || (this.a = iu(su(this)));
                var s = this;
                return this.a.then(function() {
                    var t = s.ba().s(function(t) {
                        throw Wo(e), o(t), t;
                    });
                    return r(), t;
                }).then(function() {
                    (ka(n), a) || Fo(uu(s.u, s.f, s.b, t, n, null, i, s.c, void 0, s.h), e);
                }).s(function(e) {
                    throw "auth/network-request-failed" == e.code && (s.a = null), e;
                });
            }, e.Aa = function(e, t, n) {
                this.a || (this.a = iu(su(this)));
                var r = this;
                return this.a.then(function() {
                    ka(t), Fo(uu(r.u, r.f, r.b, e, t, Mo(), n, r.c, void 0, r.h));
                }).s(function(e) {
                    throw "auth/network-request-failed" == e.code && (r.a = null), e;
                });
            }, e.ba = function() {
                var e = this;
                return au(this).then(function() {
                    return e.i.Ya;
                }).s(function() {
                    throw e.a = null, new Fi("network-request-failed");
                });
            }, e.Hb = function() {
                return !0;
            }, e.ua = function(e) {
                this.g.push(e);
            }, e.Ja = function(e) {
                K(this.g, function(t) {
                    return t == e;
                });
            }, (e = hu.prototype).get = function(e) {
                return Qe(this.a.getItem(e)).then(function(e) {
                    return e && hi(e);
                });
            }, e.set = function(e, t) {
                return Qe(this.a.setItem(e, ci(t)));
            }, e.X = function(e) {
                return Qe(this.a.removeItem(e));
            }, e.ia = function() {}, e.da = function() {}, (e = pu.prototype).get = function(e) {
                return Qe(this.a[e]);
            }, e.set = function(e, t) {
                return this.a[e] = t, Qe();
            }, e.X = function(e) {
                return delete this.a[e], Qe();
            }, e.ia = function() {}, e.da = function() {}, (e = du.prototype).set = function(e, t) {
                var n, r = !1, o = this;
                return $e(vu(this).then(function(t) {
                    return gu((t = mu(o, yu(o, n = t, !0))).get(e));
                }).then(function(i) {
                    var a = mu(o, yu(o, n, !0));
                    return i ? (i.value = t, gu(a.put(i))) : (o.a++, r = !0, (i = {})[o.g] = e, i[o.l] = t, 
                    gu(a.add(i)));
                }).then(function() {
                    o.f[e] = t;
                }), function() {
                    r && o.a--;
                });
            }, e.get = function(e) {
                var t = this;
                return vu(this).then(function(n) {
                    return gu(mu(t, yu(t, n, !1)).get(e));
                }).then(function(e) {
                    return e && e.value;
                });
            }, e.X = function(e) {
                var t = !1, n = this;
                return $e(vu(this).then(function(r) {
                    return t = !0, n.a++, gu(mu(n, yu(n, r, !0)).delete(e));
                }).then(function() {
                    delete n.f[e];
                }), function() {
                    t && n.a--;
                });
            }, e.zc = function() {
                var e = this;
                return vu(this).then(function(t) {
                    var n = mu(e, yu(e, t, !1));
                    return n.getAll ? gu(n.getAll()) : new qe(function(e, t) {
                        var r = [], o = n.openCursor();
                        o.onsuccess = function(t) {
                            (t = t.target.result) ? (r.push(t.value), t.continue()) : e(r);
                        }, o.onerror = function(e) {
                            t(Error(e.target.errorCode));
                        };
                    });
                }).then(function(t) {
                    var n = {}, r = [];
                    if (0 == e.a) {
                        for (r = 0; r < t.length; r++) n[t[r][e.g]] = t[r][e.l];
                        r = Uo(e.f, n), e.f = n;
                    }
                    return r;
                });
            }, e.ia = function(e) {
                0 == this.c.length && _u(this), this.c.push(e);
            }, e.da = function(e) {
                K(this.c, function(t) {
                    return t == e;
                }), 0 == this.c.length && this.b && this.b.cancel("STOP_EVENT");
            }, (e = bu.prototype).get = function(e) {
                var t = this;
                return Qe().then(function() {
                    return hi(t.a.getItem(e));
                });
            }, e.set = function(e, t) {
                var n = this;
                return Qe().then(function() {
                    var r = ci(t);
                    null === r ? n.X(e) : n.a.setItem(e, r);
                });
            }, e.X = function(e) {
                var t = this;
                return Qe().then(function() {
                    t.a.removeItem(e);
                });
            }, e.ia = function(e) {
                o.window && fn(o.window, "storage", e);
            }, e.da = function(e) {
                o.window && gn(o.window, "storage", e);
            }, (e = Tu.prototype).get = function() {
                return Qe(null);
            }, e.set = function() {
                return Qe();
            }, e.X = function() {
                return Qe();
            }, e.ia = function() {}, e.da = function() {}, (e = Cu.prototype).get = function(e) {
                var t = this;
                return Qe().then(function() {
                    return hi(t.a.getItem(e));
                });
            }, e.set = function(e, t) {
                var n = this;
                return Qe().then(function() {
                    var r = ci(t);
                    null === r ? n.X(e) : n.a.setItem(e, r);
                });
            }, e.X = function(e) {
                var t = this;
                return Qe().then(function() {
                    t.a.removeItem(e);
                });
            }, e.ia = function() {}, e.da = function() {};
            var Ou, Pu, Ru = {
                C: bu,
                jb: Cu
            }, Au = {
                C: bu,
                jb: Cu
            }, ku = {
                C: hu,
                jb: Tu
            }, xu = {
                Lc: "local",
                NONE: "none",
                Nc: "session"
            };
            function Du(e) {
                var t = new Fi("invalid-persistence-type"), n = new Fi("unsupported-persistence-type");
                e: {
                    for (r in xu) if (xu[r] == e) {
                        var r = !0;
                        break e;
                    }
                    r = !1;
                }
                if (!r || "string" != typeof e) throw t;
                switch (Xo()) {
                  case "ReactNative":
                    if ("session" === e) throw n;
                    break;

                  case "Node":
                    if ("none" !== e) throw n;
                    break;

                  default:
                    if (!oi() && "none" !== e) throw n;
                }
            }
            function Lu(e, t, n, r, o) {
                this.i = e, this.g = t, this.A = n, this.u = r, this.v = o, this.a = {}, Ou || (Ou = new Iu()), 
                e = Ou;
                try {
                    if (Lo()) {
                        Xs || (Xs = new du("firebaseLocalStorageDb", "firebaseLocalStorage", "fbase_key", "value", 1));
                        var i = Xs;
                    } else i = new e.a.C();
                    this.l = i;
                } catch (e) {
                    this.l = new pu(), this.u = !0;
                }
                try {
                    this.o = new e.a.jb();
                } catch (e) {
                    this.o = new pu();
                }
                this.w = new pu(), this.h = g(this.m, this), this.b = {};
            }
            function Mu() {
                return Pu || (Pu = new Lu("firebase", ":", !(di(ni()) || !Yo()), ui(), oi())), Pu;
            }
            function Fu(e, t) {
                switch (t) {
                  case "session":
                    return e.o;

                  case "none":
                    return e.w;

                  default:
                    return e.l;
                }
            }
            function Uu(e, t, n) {
                return e.i + e.g + t.name + (n ? e.g + n : "");
            }
            function ju(e, t, n) {
                return n = Uu(e, t, n), "local" == t.C && (e.b[n] = null), Fu(e, t.C).X(n);
            }
            function qu(e, t, n, r) {
                t = Uu(e, t, n), e.v && (e.b[t] = o.localStorage.getItem(t)), te(e.a) && (Fu(e, "local").ia(e.h), 
                e.u || Lo() || !e.v || Bu(e)), e.a[t] || (e.a[t] = []), e.a[t].push(r);
            }
            function Wu(e, t, n) {
                t = Uu(e, Rl("local"), t), e.a[t] && (K(e.a[t], function(e) {
                    return e == n;
                }), 0 == e.a[t].length && delete e.a[t]), te(e.a) && Gu(e);
            }
            function Bu(e) {
                Vu(e), e.f = setInterval(function() {
                    for (var t in e.a) {
                        var n = o.localStorage.getItem(t), r = e.b[t];
                        n != r && (e.b[t] = n, n = new tn({
                            type: "storage",
                            key: t,
                            target: window,
                            oldValue: r,
                            newValue: n,
                            a: !0
                        }), e.m(n));
                    }
                }, 1e3);
            }
            function Vu(e) {
                e.f && (clearInterval(e.f), e.f = null);
            }
            function Gu(e) {
                Fu(e, "local").da(e.h), Vu(e);
            }
            function Hu(e) {
                this.a = e, this.b = Mu();
            }
            Lu.prototype.get = function(e, t) {
                return Fu(this, e.C).get(Uu(this, e, t));
            }, Lu.prototype.set = function(e, t, n) {
                var r = Uu(this, e, n), o = this, i = Fu(this, e.C);
                return i.set(r, t).then(function() {
                    return i.get(r);
                }).then(function(t) {
                    "local" == e.C && (o.b[r] = t);
                });
            }, Lu.prototype.m = function(e) {
                if (e && e.g) {
                    var t = e.a.key;
                    if (null == t) for (var n in this.a) {
                        var r = this.b[n];
                        void 0 === r && (r = null);
                        var i = o.localStorage.getItem(n);
                        i !== r && (this.b[n] = i, this.c(n));
                    } else if (0 == t.indexOf(this.i + this.g) && this.a[t]) {
                        if (void 0 !== e.a.a ? Fu(this, "local").da(this.h) : Vu(this), this.A) if (n = o.localStorage.getItem(t), 
                        (r = e.a.newValue) !== n) null !== r ? o.localStorage.setItem(t, r) : o.localStorage.removeItem(t); else if (this.b[t] === r && void 0 === e.a.a) return;
                        var a = this;
                        n = function() {
                            void 0 === e.a.a && a.b[t] === o.localStorage.getItem(t) || (a.b[t] = o.localStorage.getItem(t), 
                            a.c(t));
                        }, he && be && 10 == be && o.localStorage.getItem(t) !== e.a.newValue && e.a.newValue !== e.a.oldValue ? setTimeout(n, 10) : n();
                    }
                } else U(e, g(this.c, this));
            }, Lu.prototype.c = function(e) {
                this.a[e] && U(this.a[e], function(e) {
                    e();
                });
            };
            var Ku = {
                name: "authEvent",
                C: "local"
            };
            function Qu(e) {
                return e.b.get(Ku, e.a).then(function(e) {
                    return Da(e);
                });
            }
            function Yu() {
                this.a = Mu();
            }
            function Xu(e, t, n, r, o, i, a) {
                this.u = e, this.i = t, this.l = n, this.m = r || null, this.o = a || null, this.h = t + ":" + n, 
                this.A = new Yu(), this.g = new Hu(this.h), this.f = null, this.b = [], this.v = o || 500, 
                this.w = i || 2e3, this.a = this.c = null;
            }
            function zu(e) {
                return new Fi("invalid-cordova-configuration", e);
            }
            function Ju() {
                for (var e = 20, t = []; 0 < e; ) t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), 
                e--;
                return t.join("");
            }
            function $u(e) {
                var t = new Er();
                br(t, e), e = [];
                var n = 8 * t.g;
                56 > t.c ? br(t, gr, 56 - t.c) : br(t, gr, t.b - (t.c - 56));
                for (var r = 63; 56 <= r; r--) t.f[r] = 255 & n, n /= 256;
                for (_r(t), r = n = 0; r < t.i; r++) for (var o = 24; 0 <= o; o -= 8) e[n++] = t.a[r] >> o & 255;
                return Yn(e);
            }
            function Zu(e, t, n, r) {
                var i = Ju(), a = new xa(t, r, null, i, new Fi("no-auth-event")), s = ri("BuildInfo.packageName", o);
                if ("string" != typeof s) throw new Fi("invalid-cordova-configuration");
                var u = ri("BuildInfo.displayName", o), c = {};
                if (ni().toLowerCase().match(/iphone|ipad|ipod/)) c.ibi = s; else {
                    if (!ni().toLowerCase().match(/android/)) return Ye(new Fi("operation-not-supported-in-this-environment"));
                    c.apn = s;
                }
                u && (c.appDisplayName = u), i = $u(i), c.sessionId = i;
                var l = uu(e.u, e.i, e.l, t, n, null, r, e.m, c, e.o);
                return e.ba().then(function() {
                    var t = e.h;
                    return e.A.a.set(Ku, a.B(), t);
                }).then(function() {
                    var t = ri("cordova.plugins.browsertab.isAvailable", o);
                    if ("function" != typeof t) throw new Fi("invalid-cordova-configuration");
                    var n = null;
                    t(function(t) {
                        if (t) {
                            if ("function" != typeof (n = ri("cordova.plugins.browsertab.openUrl", o))) throw new Fi("invalid-cordova-configuration");
                            n(l);
                        } else {
                            if ("function" != typeof (n = ri("cordova.InAppBrowser.open", o))) throw new Fi("invalid-cordova-configuration");
                            t = !(!(t = ni()).match(/(iPad|iPhone|iPod).*OS 7_\d/i) && !t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)), 
                            e.a = n(l, t ? "_blank" : "_system", "location=yes");
                        }
                    });
                });
            }
            function ec(e, t) {
                for (var n = 0; n < e.b.length; n++) try {
                    e.b[n](t);
                } catch (e) {}
            }
            function tc(e) {
                return e.f || (e.f = e.ba().then(function() {
                    return new qe(function(t) {
                        function n(r) {
                            return t(r), e.Ja(n), !1;
                        }
                        e.ua(n), rc(e);
                    });
                })), e.f;
            }
            function nc(e) {
                var t = null;
                return Qu(e.g).then(function(n) {
                    return t = n, ju((n = e.g).b, Ku, n.a);
                }).then(function() {
                    return t;
                });
            }
            function rc(e) {
                function t(t) {
                    i = !0, a && a.cancel(), nc(e).then(function(n) {
                        var o = r;
                        if (n && t && t.url) {
                            o = null;
                            var i = t.url, a = Lr(i), s = Dr(a, "link"), u = Dr(Lr(s), "link");
                            -1 != (i = Dr(Lr(a = Dr(a, "deep_link_id")), "link") || a || u || s || i).indexOf("/__/auth/callback") && (o = (o = "object" == typeof (o = hi(Dr(o = Lr(i), "firebaseError") || null)) ? Ui(o) : null) ? new xa(n.b, n.c, null, null, o) : new xa(n.b, n.c, i, n.g)), 
                            o = o || r;
                        }
                        ec(e, o);
                    });
                }
                var n = ri("universalLinks.subscribe", o);
                if ("function" != typeof n) throw new Fi("invalid-cordova-configuration");
                var r = new xa("unknown", null, null, null, new Fi("no-auth-event")), i = !1, a = xn(e.v).then(function() {
                    return nc(e).then(function() {
                        i || ec(e, r);
                    });
                }), s = o.handleOpenURL;
                o.handleOpenURL = function(e) {
                    if (0 == e.toLowerCase().indexOf(ri("BuildInfo.packageName", o).toLowerCase() + "://") && t({
                        url: e
                    }), "function" == typeof s) try {
                        s(e);
                    } catch (e) {}
                }, n(null, t);
            }
            function oc(e) {
                this.a = e, this.b = Mu();
            }
            (e = Xu.prototype).ba = function() {
                return this.xa ? this.xa : this.xa = Ko().then(function() {
                    if ("function" != typeof ri("universalLinks.subscribe", o)) throw zu("cordova-universal-links-plugin is not installed");
                    if (void 0 === ri("BuildInfo.packageName", o)) throw zu("cordova-plugin-buildinfo is not installed");
                    if ("function" != typeof ri("cordova.plugins.browsertab.openUrl", o)) throw zu("cordova-plugin-browsertab is not installed");
                    if ("function" != typeof ri("cordova.InAppBrowser.open", o)) throw zu("cordova-plugin-inappbrowser is not installed");
                }, function() {
                    throw new Fi("cordova-not-ready");
                });
            }, e.Ca = function(e, t) {
                return t(new Fi("operation-not-supported-in-this-environment")), Qe();
            }, e.vb = function() {
                return Ye(new Fi("operation-not-supported-in-this-environment"));
            }, e.Hb = function() {
                return !1;
            }, e.Db = function() {
                return !0;
            }, e.yb = function() {
                return !0;
            }, e.Aa = function(e, t, n) {
                if (this.c) return Ye(new Fi("redirect-operation-pending"));
                var r = this, i = o.document, a = null, s = null, u = null, c = null;
                return this.c = $e(Qe().then(function() {
                    return ka(t), tc(r);
                }).then(function() {
                    return Zu(r, e, t, n);
                }).then(function() {
                    return new qe(function(e, t) {
                        s = function() {
                            var t = ri("cordova.plugins.browsertab.close", o);
                            return e(), "function" == typeof t && t(), r.a && "function" == typeof r.a.close && (r.a.close(), 
                            r.a = null), !1;
                        }, r.ua(s), u = function() {
                            a || (a = xn(r.w).then(function() {
                                t(new Fi("redirect-cancelled-by-user"));
                            }));
                        }, c = function() {
                            yi() && u();
                        }, i.addEventListener("resume", u, !1), ni().toLowerCase().match(/android/) || i.addEventListener("visibilitychange", c, !1);
                    }).s(function(e) {
                        return nc(r).then(function() {
                            throw e;
                        });
                    });
                }), function() {
                    u && i.removeEventListener("resume", u, !1), c && i.removeEventListener("visibilitychange", c, !1), 
                    a && a.cancel(), s && r.Ja(s), r.c = null;
                });
            }, e.ua = function(e) {
                this.b.push(e), tc(this).s(function(t) {
                    "auth/invalid-cordova-configuration" === t.code && (t = new xa("unknown", null, null, null, new Fi("no-auth-event")), 
                    e(t));
                });
            }, e.Ja = function(e) {
                K(this.b, function(t) {
                    return t == e;
                });
            };
            var ic = {
                name: "pendingRedirect",
                C: "session"
            };
            function ac(e) {
                return e.b.set(ic, "pending", e.a);
            }
            function sc(e) {
                return ju(e.b, ic, e.a);
            }
            function uc(e) {
                return e.b.get(ic, e.a).then(function(e) {
                    return "pending" == e;
                });
            }
            function cc(e, t, n) {
                this.v = e, this.l = t, this.u = n, this.h = [], this.f = !1, this.i = g(this.m, this), 
                this.c = new _c(), this.o = new Nc(), this.g = new oc(this.l + ":" + this.u), this.b = {}, 
                this.b.unknown = this.c, this.b.signInViaRedirect = this.c, this.b.linkViaRedirect = this.c, 
                this.b.reauthViaRedirect = this.c, this.b.signInViaPopup = this.o, this.b.linkViaPopup = this.o, 
                this.b.reauthViaPopup = this.o, this.a = lc(this.v, this.l, this.u, Bs);
            }
            function lc(e, n, r, o) {
                var i = t.SDK_VERSION || null;
                return Qo() ? new Xu(e, n, r, i, void 0, void 0, o) : new ou(e, n, r, i, o);
            }
            function hc(e) {
                e.f || (e.f = !0, e.a.ua(e.i));
                var t = e.a;
                return e.a.ba().s(function(n) {
                    throw e.a == t && e.reset(), n;
                });
            }
            function pc(e) {
                e.a.Db() && hc(e).s(function(t) {
                    var n = new xa("unknown", null, null, null, new Fi("operation-not-supported-in-this-environment"));
                    mc(t) && e.m(n);
                }), e.a.yb() || bc(e.c);
            }
            cc.prototype.reset = function() {
                this.f = !1, this.a.Ja(this.i), this.a = lc(this.v, this.l, this.u);
            }, cc.prototype.subscribe = function(e) {
                if (G(this.h, e) || this.h.push(e), !this.f) {
                    var t = this;
                    uc(this.g).then(function(e) {
                        e ? sc(t.g).then(function() {
                            hc(t).s(function(e) {
                                var n = new xa("unknown", null, null, null, new Fi("operation-not-supported-in-this-environment"));
                                mc(e) && t.m(n);
                            });
                        }) : pc(t);
                    }).s(function() {
                        pc(t);
                    });
                }
            }, cc.prototype.unsubscribe = function(e) {
                K(this.h, function(t) {
                    return t == e;
                });
            }, cc.prototype.m = function(e) {
                if (!e) throw new Fi("invalid-auth-event");
                for (var t = !1, n = 0; n < this.h.length; n++) {
                    var r = this.h[n];
                    if (r.ob(e.b, e.c)) {
                        (t = this.b[e.b]) && t.h(e, r), t = !0;
                        break;
                    }
                }
                return bc(this.c), t;
            };
            var dc = new mi(2e3, 1e4), fc = new mi(3e4, 6e4);
            function vc(e, t, n, r, o, i) {
                return e.a.vb(t, n, r, function() {
                    e.f || (e.f = !0, e.a.ua(e.i));
                }, function() {
                    e.reset();
                }, o, i);
            }
            function mc(e) {
                return !(!e || "auth/cordova-not-ready" != e.code);
            }
            cc.prototype.aa = function() {
                return this.c.aa();
            }, cc.prototype.Aa = function(e, t, n) {
                var r, o = this;
                return ac(this.g).then(function() {
                    return o.a.Aa(e, t, n).s(function(e) {
                        if (mc(e)) throw new Fi("operation-not-supported-in-this-environment");
                        return r = e, sc(o.g).then(function() {
                            throw r;
                        });
                    }).then(function() {
                        return o.a.Hb() ? new qe(function() {}) : sc(o.g).then(function() {
                            return o.aa();
                        }).then(function() {}).s(function() {});
                    });
                });
            }, cc.prototype.Ca = function(e, t, n, r) {
                return this.a.Ca(n, function(n) {
                    e.fa(t, null, n, r);
                }, dc.get());
            };
            var yc = {};
            function gc(e, t, n) {
                var r = t + ":" + n;
                return yc[r] || (yc[r] = new cc(e, t, n)), yc[r];
            }
            function _c() {
                this.b = null, this.f = [], this.c = [], this.a = null, this.g = !1;
            }
            function bc(e) {
                e.g || (e.g = !0, Cc(e, !1, null, null));
            }
            function wc(e, t, n) {
                n = n.va(t.b, t.c);
                var r = t.f, o = t.g, i = !!t.b.match(/Redirect$/);
                return n(r, o).then(function(t) {
                    Cc(e, i, t, null);
                }).s(function(t) {
                    Cc(e, i, null, t);
                });
            }
            function Ec(e, t) {
                if (e.b = function() {
                    return Ye(t);
                }, e.c.length) for (var n = 0; n < e.c.length; n++) e.c[n](t);
            }
            function Tc(e, t) {
                if (e.b = function() {
                    return Qe(t);
                }, e.f.length) for (var n = 0; n < e.f.length; n++) e.f[n](t);
            }
            function Cc(e, t, n, r) {
                t ? r ? Ec(e, r) : Tc(e, n) : Tc(e, {
                    user: null
                }), e.f = [], e.c = [];
            }
            function Sc(e) {
                var t = new Fi("timeout");
                e.a && e.a.cancel(), e.a = xn(fc.get()).then(function() {
                    e.b || Cc(e, !0, null, t);
                });
            }
            function Nc() {}
            function Ic(e, t) {
                var n = e.c, r = e.b;
                return t.va(r, n)(e.f, e.g).then(function(e) {
                    t.fa(r, e, null, n);
                }).s(function(e) {
                    t.fa(r, null, e, n);
                });
            }
            function Oc(e, t) {
                this.a = t, Ti(this, "verificationId", e);
            }
            function Pc(e, t, n, r) {
                return new Pa(e).Qa(t, n).then(function(e) {
                    return new Oc(e, r);
                });
            }
            function Rc(e, t, n, r, o, i) {
                if (this.h = e, this.i = t, this.g = n, this.c = r, this.f = o, this.l = !!i, this.b = null, 
                this.a = this.c, this.f < this.c) throw Error("Proactive refresh lower bound greater than upper bound!");
            }
            function Ac(e, t) {
                return t ? (e.a = e.c, e.g()) : (t = e.a, e.a *= 2, e.a > e.f && (e.a = e.f), t);
            }
            function kc(e, t) {
                xc(e), e.b = xn(Ac(e, t)).then(function() {
                    return e.l ? Qe() : gi();
                }).then(function() {
                    return e.h();
                }).then(function() {
                    kc(e, !0);
                }).s(function(t) {
                    e.i(t) && kc(e, !1);
                });
            }
            function xc(e) {
                e.b && (e.b.cancel(), e.b = null);
            }
            function Dc(e) {
                this.f = e, this.b = this.a = null, this.c = 0;
            }
            function Lc(e, t) {
                var n = t[Wa], r = t.refreshToken;
                t = Mc(t.expiresIn), e.b = n, e.c = t, e.a = r;
            }
            function Mc(e) {
                return b() + 1e3 * parseInt(e, 10);
            }
            function Fc(e, t) {
                return $a(e.f, t).then(function(t) {
                    return e.b = t.access_token, e.c = Mc(t.expires_in), e.a = t.refresh_token, {
                        accessToken: e.b,
                        expirationTime: e.c,
                        refreshToken: e.a
                    };
                }).s(function(t) {
                    throw "auth/user-token-expired" == t.code && (e.a = null), t;
                });
            }
            function Uc(e, t) {
                this.a = e || null, this.b = t || null, Ci(this, {
                    lastSignInTime: _i(t || null),
                    creationTime: _i(e || null)
                });
            }
            function jc(e) {
                return new Uc(e.a, e.b);
            }
            function qc(e, t, n, r, o, i) {
                Ci(this, {
                    uid: e,
                    displayName: r || null,
                    photoURL: o || null,
                    email: n || null,
                    phoneNumber: i || null,
                    providerId: t
                });
            }
            function Wc(e, t) {
                for (var n in en.call(this, e), t) this[n] = t[n];
            }
            function Bc(e, n, r) {
                this.A = [], this.G = e.apiKey, this.o = e.appName, this.w = e.authDomain || null, 
                e = t.SDK_VERSION ? ti(t.SDK_VERSION) : null, this.c = new ja(this.G, Gs(Bs), e), 
                this.h = new Dc(this.c), zc(this, n[Wa]), Lc(this.h, n), Ti(this, "refreshToken", this.h.a), 
                el(this, r || {}), In.call(this), this.I = !1, this.w && ii() && (this.a = gc(this.w, this.G, this.o)), 
                this.N = [], this.i = null, this.l = Qc(this), this.U = g(this.Ga, this);
                var o = this;
                this.ha = null, this.ra = function(e) {
                    o.na(e.h);
                }, this.W = null, this.R = [], this.qa = function(e) {
                    Gc(o, e.f);
                }, this.V = null;
            }
            function Vc(e, t) {
                e.W && gn(e.W, "languageCodeChanged", e.ra), (e.W = t) && fn(t, "languageCodeChanged", e.ra);
            }
            function Gc(e, n) {
                e.R = n, Qa(e.c, t.SDK_VERSION ? ti(t.SDK_VERSION, e.R) : null);
            }
            function Hc(e, t) {
                e.V && gn(e.V, "frameworkChanged", e.qa), (e.V = t) && fn(t, "frameworkChanged", e.qa);
            }
            function Kc(e) {
                try {
                    return t.app(e.o).auth();
                } catch (t) {
                    throw new Fi("internal-error", "No firebase.auth.Auth instance is available for the Firebase App '" + e.o + "'!");
                }
            }
            function Qc(e) {
                return new Rc(function() {
                    return e.F(!0);
                }, function(e) {
                    return !(!e || "auth/network-request-failed" != e.code);
                }, function() {
                    var t = e.h.c - b() - 3e5;
                    return 0 < t ? t : 0;
                }, 3e4, 96e4, !1);
            }
            function Yc(e) {
                e.m || e.l.b || (e.l.start(), gn(e, "tokenChanged", e.U), fn(e, "tokenChanged", e.U));
            }
            function Xc(e) {
                gn(e, "tokenChanged", e.U), xc(e.l);
            }
            function zc(e, t) {
                e.pa = t, Ti(e, "_lat", t);
            }
            function Jc(e, t) {
                K(e.N, function(e) {
                    return e == t;
                });
            }
            function $c(e) {
                for (var t = [], n = 0; n < e.N.length; n++) t.push(e.N[n](e));
                return Je(t).then(function() {
                    return e;
                });
            }
            function Zc(e) {
                e.a && !e.I && (e.I = !0, e.a.subscribe(e));
            }
            function el(e, t) {
                Ci(e, {
                    uid: t.uid,
                    displayName: t.displayName || null,
                    photoURL: t.photoURL || null,
                    email: t.email || null,
                    emailVerified: t.emailVerified || !1,
                    phoneNumber: t.phoneNumber || null,
                    isAnonymous: t.isAnonymous || !1,
                    metadata: new Uc(t.createdAt, t.lastLoginAt),
                    providerData: []
                });
            }
            function tl() {}
            function nl(e) {
                return Qe().then(function() {
                    if (e.m) throw new Fi("app-deleted");
                });
            }
            function rl(e) {
                return W(e.providerData, function(e) {
                    return e.providerId;
                });
            }
            function ol(e, t) {
                t && (il(e, t.providerId), e.providerData.push(t));
            }
            function il(e, t) {
                K(e.providerData, function(e) {
                    return e.providerId == t;
                });
            }
            function al(e, t, n) {
                ("uid" != t || n) && e.hasOwnProperty(t) && Ti(e, t, n);
            }
            function sl(e, t) {
                e != t && (Ci(e, {
                    uid: t.uid,
                    displayName: t.displayName,
                    photoURL: t.photoURL,
                    email: t.email,
                    emailVerified: t.emailVerified,
                    phoneNumber: t.phoneNumber,
                    isAnonymous: t.isAnonymous,
                    providerData: []
                }), t.metadata ? Ti(e, "metadata", jc(t.metadata)) : Ti(e, "metadata", new Uc()), 
                U(t.providerData, function(t) {
                    ol(e, t);
                }), e.h = t.h, Ti(e, "refreshToken", e.h.a));
            }
            function ul(e) {
                return e.F().then(function(t) {
                    var n = e.isAnonymous;
                    return ll(e, t).then(function() {
                        return n || al(e, "isAnonymous", !1), t;
                    });
                });
            }
            function cl(e, t) {
                t[Wa] && e.pa != t[Wa] && (Lc(e.h, t), On(e, new Wc("tokenChanged")), zc(e, t[Wa]), 
                al(e, "refreshToken", e.h.a));
            }
            function ll(e, t) {
                return js(e.c, ws, {
                    idToken: t
                }).then(g(e.kc, e));
            }
            function hl(e) {
                return (e = e.providerUserInfo) && e.length ? W(e, function(e) {
                    return new qc(e.rawId, e.providerId, e.email, e.displayName, e.photoUrl, e.phoneNumber);
                }) : [];
            }
            function pl(e, t) {
                return ul(e).then(function() {
                    if (G(rl(e), t)) return $c(e).then(function() {
                        throw new Fi("provider-already-linked");
                    });
                });
            }
            function dl(e, t, n) {
                return Si({
                    user: e,
                    credential: Aa(t),
                    additionalUserInfo: t = ra(t),
                    operationType: n
                });
            }
            function fl(e, t) {
                return cl(e, t), e.reload().then(function() {
                    return e;
                });
            }
            function vl(e, n, r, o, i) {
                if (!ii()) return Ye(new Fi("operation-not-supported-in-this-environment"));
                if (e.i && !i) return Ye(e.i);
                var a = na(r.providerId), s = pi(e.uid + ":::"), u = null;
                (!ui() || Yo()) && e.w && r.isOAuthProvider && (u = uu(e.w, e.G, e.o, n, r, null, s, t.SDK_VERSION || null));
                var c = Bo(u, a && a.za, a && a.ya);
                return o = o().then(function() {
                    if (yl(e), !i) return e.F().then(function() {});
                }).then(function() {
                    return vc(e.a, c, n, r, s, !!u);
                }).then(function() {
                    return new qe(function(t, r) {
                        e.fa(n, null, new Fi("cancelled-popup-request"), e.g || null), e.f = t, e.v = r, 
                        e.g = s, e.b = e.a.Ca(e, n, c, s);
                    });
                }).then(function(e) {
                    return c && Wo(c), e ? Si(e) : null;
                }).s(function(e) {
                    throw c && Wo(c), e;
                }), gl(e, o, i);
            }
            function ml(e, t, n, r, o) {
                if (!ii()) return Ye(new Fi("operation-not-supported-in-this-environment"));
                if (e.i && !o) return Ye(e.i);
                var i = null, a = pi(e.uid + ":::");
                return r = r().then(function() {
                    if (yl(e), !o) return e.F().then(function() {});
                }).then(function() {
                    return e.Z = a, $c(e);
                }).then(function(t) {
                    return e.ca && (t = (t = e.ca).b.set(Tl, e.B(), t.a)), t;
                }).then(function() {
                    return e.a.Aa(t, n, a);
                }).s(function(t) {
                    if (i = t, e.ca) return Cl(e.ca);
                    throw i;
                }).then(function() {
                    if (i) throw i;
                }), gl(e, r, o);
            }
            function yl(e) {
                if (!e.a || !e.I) {
                    if (e.a && !e.I) throw new Fi("internal-error");
                    throw new Fi("auth-domain-config-required");
                }
            }
            function gl(e, t, n) {
                var r = _l(e, t, n);
                return e.A.push(r), $e(r, function() {
                    H(e.A, r);
                }), r;
            }
            function _l(e, t, n) {
                return e.i && !n ? (t.cancel(), Ye(e.i)) : t.s(function(t) {
                    throw !t || "auth/user-disabled" != t.code && "auth/user-token-expired" != t.code || (e.i || On(e, new Wc("userInvalidated")), 
                    e.i = t), t;
                });
            }
            function bl(e) {
                if (!e.apiKey) return null;
                var t = {
                    apiKey: e.apiKey,
                    authDomain: e.authDomain,
                    appName: e.appName
                }, n = {};
                if (!(e.stsTokenManager && e.stsTokenManager.accessToken && e.stsTokenManager.expirationTime)) return null;
                n[Wa] = e.stsTokenManager.accessToken, n.refreshToken = e.stsTokenManager.refreshToken || null, 
                n.expiresIn = (e.stsTokenManager.expirationTime - b()) / 1e3;
                var r = new Bc(t, n, e);
                return e.providerData && U(e.providerData, function(e) {
                    e && ol(r, Si(e));
                }), e.redirectEventId && (r.Z = e.redirectEventId), r;
            }
            function wl(e, t, n, r) {
                var o = new Bc(e, t);
                return n && (o.ca = n), r && Gc(o, r), o.reload().then(function() {
                    return o;
                });
            }
            function El(e) {
                this.a = e, this.b = Mu();
            }
            _c.prototype.reset = function() {
                this.b = null, this.a && (this.a.cancel(), this.a = null);
            }, _c.prototype.h = function(e, t) {
                if (!e) return Ye(new Fi("invalid-auth-event"));
                this.reset(), this.g = !0;
                var n = e.b, r = e.c, o = e.a && "auth/web-storage-unsupported" == e.a.code, i = e.a && "auth/operation-not-supported-in-this-environment" == e.a.code;
                return "unknown" != n || o || i ? e.a ? (Cc(this, !0, null, e.a), e = Qe()) : e = t.va(n, r) ? wc(this, e, t) : Ye(new Fi("invalid-auth-event")) : (Cc(this, !1, null, null), 
                e = Qe()), e;
            }, _c.prototype.aa = function() {
                var e = this;
                return new qe(function(t, n) {
                    e.b ? e.b().then(t, n) : (e.f.push(t), e.c.push(n), Sc(e));
                });
            }, Nc.prototype.h = function(e, t) {
                if (!e) return Ye(new Fi("invalid-auth-event"));
                var n = e.b, r = e.c;
                return e.a ? (t.fa(e.b, null, e.a, e.c), e = Qe()) : e = t.va(n, r) ? Ic(e, t) : Ye(new Fi("invalid-auth-event")), 
                e;
            }, Oc.prototype.confirm = function(e) {
                return e = Ra(this.verificationId, e), this.a(e);
            }, Rc.prototype.start = function() {
                this.a = this.c, kc(this, !0);
            }, Dc.prototype.B = function() {
                return {
                    apiKey: this.f.b,
                    refreshToken: this.a,
                    accessToken: this.b,
                    expirationTime: this.c
                };
            }, Dc.prototype.getToken = function(e) {
                return e = !!e, this.b && !this.a ? Ye(new Fi("user-token-expired")) : e || !this.b || b() > this.c - 3e4 ? this.a ? Fc(this, {
                    grant_type: "refresh_token",
                    refresh_token: this.a
                }) : Qe(null) : Qe({
                    accessToken: this.b,
                    expirationTime: this.c,
                    refreshToken: this.a
                });
            }, Uc.prototype.B = function() {
                return {
                    lastLoginAt: this.b,
                    createdAt: this.a
                };
            }, w(Wc, en), w(Bc, In), Bc.prototype.na = function(e) {
                this.ha = e, Ka(this.c, e);
            }, Bc.prototype.$ = function() {
                return this.ha;
            }, Bc.prototype.Ka = function() {
                return Y(this.R);
            }, Bc.prototype.Ga = function() {
                this.l.b && (xc(this.l), this.l.start());
            }, Ti(Bc.prototype, "providerId", "firebase"), (e = Bc.prototype).reload = function() {
                var e = this;
                return gl(this, nl(this).then(function() {
                    return ul(e).then(function() {
                        return $c(e);
                    }).then(tl);
                }));
            }, e.F = function(e) {
                var t = this;
                return gl(this, nl(this).then(function() {
                    return t.h.getToken(e);
                }).then(function(e) {
                    if (!e) throw new Fi("internal-error");
                    return e.accessToken != t.pa && (zc(t, e.accessToken), On(t, new Wc("tokenChanged"))), 
                    al(t, "refreshToken", e.refreshToken), e.accessToken;
                }));
            }, e.getToken = function(e) {
                return wi["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."] || (wi["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."] = !0, 
                "undefined" != typeof console && console.warn), this.F(e);
            }, e.kc = function(e) {
                if (!(e = e.users) || !e.length) throw new Fi("internal-error");
                el(this, {
                    uid: (e = e[0]).localId,
                    displayName: e.displayName,
                    photoURL: e.photoUrl,
                    email: e.email,
                    emailVerified: !!e.emailVerified,
                    phoneNumber: e.phoneNumber,
                    lastLoginAt: e.lastLoginAt,
                    createdAt: e.createdAt
                });
                for (var t = hl(e), n = 0; n < t.length; n++) ol(this, t[n]);
                al(this, "isAnonymous", !(this.email && e.passwordHash || this.providerData && this.providerData.length));
            }, e.Za = function(e) {
                var t = this, n = null;
                return gl(this, e.c(this.c, this.uid).then(function(e) {
                    return cl(t, e), n = dl(t, e, "reauthenticate"), t.i = null, t.reload();
                }).then(function() {
                    return n;
                }), !0);
            }, e.mc = function(e) {
                return this.Za(e).then(function() {});
            }, e.Xa = function(e) {
                var t = this, n = null;
                return gl(this, pl(this, e.providerId).then(function() {
                    return t.F();
                }).then(function(n) {
                    return e.b(t.c, n);
                }).then(function(e) {
                    return n = dl(t, e, "link"), fl(t, e);
                }).then(function() {
                    return n;
                }));
            }, e.cc = function(e) {
                return this.Xa(e).then(function(e) {
                    return e.user;
                });
            }, e.dc = function(e, t) {
                var n = this;
                return gl(this, pl(this, "phone").then(function() {
                    return Pc(Kc(n), e, t, g(n.Xa, n));
                }));
            }, e.nc = function(e, t) {
                var n = this;
                return gl(this, Qe().then(function() {
                    return Pc(Kc(n), e, t, g(n.Za, n));
                }), !0);
            }, e.kb = function(e) {
                var t = this;
                return gl(this, this.F().then(function(n) {
                    return t.c.kb(n, e);
                }).then(function(e) {
                    return cl(t, e), t.reload();
                }));
            }, e.Dc = function(e) {
                var t = this;
                return gl(this, this.F().then(function(n) {
                    return e.b(t.c, n);
                }).then(function(e) {
                    return cl(t, e), t.reload();
                }));
            }, e.lb = function(e) {
                var t = this;
                return gl(this, this.F().then(function(n) {
                    return t.c.lb(n, e);
                }).then(function(e) {
                    return cl(t, e), t.reload();
                }));
            }, e.mb = function(e) {
                if (void 0 === e.displayName && void 0 === e.photoURL) return nl(this);
                var t = this;
                return gl(this, this.F().then(function(n) {
                    return t.c.mb(n, {
                        displayName: e.displayName,
                        photoUrl: e.photoURL
                    });
                }).then(function(e) {
                    return cl(t, e), al(t, "displayName", e.displayName || null), al(t, "photoURL", e.photoUrl || null), 
                    U(t.providerData, function(e) {
                        "password" === e.providerId && (Ti(e, "displayName", t.displayName), Ti(e, "photoURL", t.photoURL));
                    }), $c(t);
                }).then(tl));
            }, e.Cc = function(e) {
                var t = this;
                return gl(this, ul(this).then(function(n) {
                    return G(rl(t), e) ? us(t.c, n, [ e ]).then(function(e) {
                        var n = {};
                        return U(e.providerUserInfo || [], function(e) {
                            n[e.providerId] = !0;
                        }), U(rl(t), function(e) {
                            n[e] || il(t, e);
                        }), n[Pa.PROVIDER_ID] || Ti(t, "phoneNumber", null), $c(t);
                    }) : $c(t).then(function() {
                        throw new Fi("no-such-provider");
                    });
                }));
            }, e.delete = function() {
                var e = this;
                return gl(this, this.F().then(function(t) {
                    return js(e.c, _s, {
                        idToken: t
                    });
                }).then(function() {
                    On(e, new Wc("userDeleted"));
                })).then(function() {
                    for (var t = 0; t < e.A.length; t++) e.A[t].cancel("app-deleted");
                    Vc(e, null), Hc(e, null), e.A = [], e.m = !0, Xc(e), Ti(e, "refreshToken", null), 
                    e.a && e.a.unsubscribe(e);
                });
            }, e.ob = function(e, t) {
                return !!("linkViaPopup" == e && (this.g || null) == t && this.f || "reauthViaPopup" == e && (this.g || null) == t && this.f || "linkViaRedirect" == e && (this.Z || null) == t || "reauthViaRedirect" == e && (this.Z || null) == t);
            }, e.fa = function(e, t, n, r) {
                "linkViaPopup" != e && "reauthViaPopup" != e || r != (this.g || null) || (n && this.v ? this.v(n) : t && !n && this.f && this.f(t), 
                this.b && (this.b.cancel(), this.b = null), delete this.f, delete this.v);
            }, e.va = function(e, t) {
                return "linkViaPopup" == e && t == (this.g || null) ? g(this.tb, this) : "reauthViaPopup" == e && t == (this.g || null) ? g(this.ub, this) : "linkViaRedirect" == e && (this.Z || null) == t ? g(this.tb, this) : "reauthViaRedirect" == e && (this.Z || null) == t ? g(this.ub, this) : null;
            }, e.ec = function(e) {
                var t = this;
                return vl(this, "linkViaPopup", e, function() {
                    return pl(t, e.providerId).then(function() {
                        return $c(t);
                    });
                }, !1);
            }, e.oc = function(e) {
                return vl(this, "reauthViaPopup", e, function() {
                    return Qe();
                }, !0);
            }, e.fc = function(e) {
                var t = this;
                return ml(this, "linkViaRedirect", e, function() {
                    return pl(t, e.providerId);
                }, !1);
            }, e.pc = function(e) {
                return ml(this, "reauthViaRedirect", e, function() {
                    return Qe();
                }, !0);
            }, e.tb = function(e, t) {
                var n = this;
                this.b && (this.b.cancel(), this.b = null);
                var r = null;
                return gl(this, this.F().then(function(r) {
                    return ps(n.c, {
                        requestUri: e,
                        sessionId: t,
                        idToken: r
                    });
                }).then(function(e) {
                    return r = dl(n, e, "link"), fl(n, e);
                }).then(function() {
                    return r;
                }));
            }, e.ub = function(e, t) {
                var n = this;
                this.b && (this.b.cancel(), this.b = null);
                var r = null;
                return gl(this, Qe().then(function() {
                    return pa(ds(n.c, {
                        requestUri: e,
                        sessionId: t
                    }), n.uid);
                }).then(function(e) {
                    return r = dl(n, e, "reauthenticate"), cl(n, e), n.i = null, n.reload();
                }).then(function() {
                    return r;
                }), !0);
            }, e.bb = function(e) {
                var t = this, n = null;
                return gl(this, this.F().then(function(t) {
                    return n = t, void 0 === e || te(e) ? {} : zi(new Wi(e));
                }).then(function(e) {
                    return t.c.bb(n, e);
                }).then(function(e) {
                    if (t.email != e) return t.reload();
                }).then(function() {}));
            }, e.toJSON = function() {
                return this.B();
            }, e.B = function() {
                var e = {
                    uid: this.uid,
                    displayName: this.displayName,
                    photoURL: this.photoURL,
                    email: this.email,
                    emailVerified: this.emailVerified,
                    phoneNumber: this.phoneNumber,
                    isAnonymous: this.isAnonymous,
                    providerData: [],
                    apiKey: this.G,
                    appName: this.o,
                    authDomain: this.w,
                    stsTokenManager: this.h.B(),
                    redirectEventId: this.Z || null
                };
                return this.metadata && ie(e, this.metadata.B()), U(this.providerData, function(t) {
                    e.providerData.push(Ni(t));
                }), e;
            };
            var Tl = {
                name: "redirectUser",
                C: "session"
            };
            function Cl(e) {
                return ju(e.b, Tl, e.a);
            }
            function Sl(e, t) {
                return e.b.get(Tl, e.a).then(function(e) {
                    return e && t && (e.authDomain = t), bl(e || {});
                });
            }
            function Nl(e, t) {
                this.a = e, this.b = t || Mu(), this.c = null, this.f = Ol(this), qu(this.b, Rl("local"), this.a, g(this.g, this));
            }
            function Il(e, t) {
                var n, r = [];
                for (n in xu) xu[n] !== t && r.push(ju(e.b, Rl(xu[n]), e.a));
                return r.push(ju(e.b, Pl, e.a)), ze(r);
            }
            function Ol(e) {
                var t = Rl("local"), n = Rl("session"), r = Rl("none");
                return e.b.get(n, e.a).then(function(o) {
                    return o ? n : e.b.get(r, e.a).then(function(n) {
                        return n ? r : e.b.get(t, e.a).then(function(n) {
                            return n ? t : e.b.get(Pl, e.a).then(function(e) {
                                return e ? Rl(e) : t;
                            });
                        });
                    });
                }).then(function(t) {
                    return e.c = t, Il(e, t.C);
                }).s(function() {
                    e.c || (e.c = t);
                });
            }
            Nl.prototype.g = function() {
                var e = this, t = Rl("local");
                Ll(this, function() {
                    return Qe().then(function() {
                        return e.c && "local" != e.c.C ? e.b.get(t, e.a) : null;
                    }).then(function(n) {
                        if (n) return Il(e, "local").then(function() {
                            e.c = t;
                        });
                    });
                });
            };
            var Pl = {
                name: "persistence",
                C: "session"
            };
            function Rl(e) {
                return {
                    name: "authUser",
                    C: e
                };
            }
            function Al(e) {
                return Ll(e, function() {
                    return e.b.set(Pl, e.c.C, e.a);
                });
            }
            function kl(e, t) {
                return Ll(e, function() {
                    return e.b.set(e.c, t.B(), e.a);
                });
            }
            function xl(e) {
                return Ll(e, function() {
                    return ju(e.b, e.c, e.a);
                });
            }
            function Dl(e, t) {
                return Ll(e, function() {
                    return e.b.get(e.c, e.a).then(function(e) {
                        return e && t && (e.authDomain = t), bl(e || {});
                    });
                });
            }
            function Ll(e, t) {
                return e.f = e.f.then(t, t), e.f;
            }
            function Ml(e) {
                if (this.l = !1, Ti(this, "app", e), !Yl(this).options || !Yl(this).options.apiKey) throw new Fi("invalid-api-key");
                e = t.SDK_VERSION ? ti(t.SDK_VERSION) : null, this.c = new ja(Yl(this).options && Yl(this).options.apiKey, Gs(Bs), e), 
                this.N = [], this.m = [], this.I = [], this.Kb = t.INTERNAL.createSubscribe(g(this.ac, this)), 
                this.R = void 0, this.Lb = t.INTERNAL.createSubscribe(g(this.bc, this)), Vl(this, null), 
                this.h = new Nl(Yl(this).options.apiKey + ":" + Yl(this).name), this.G = new El(Yl(this).options.apiKey + ":" + Yl(this).name), 
                this.U = Zl(this, Hl(this)), this.i = Zl(this, Kl(this)), this.W = !1, this.ha = g(this.yc, this), 
                this.Ga = g(this.ka, this), this.pa = g(this.Tb, this), this.qa = g(this.Zb, this), 
                this.ra = g(this.$b, this), Wl(this), this.INTERNAL = {}, this.INTERNAL.delete = g(this.delete, this), 
                this.INTERNAL.logFramework = g(this.gc, this), this.o = 0, In.call(this), jl(this), 
                this.A = [];
            }
            function Fl(e) {
                en.call(this, "languageCodeChanged"), this.h = e;
            }
            function Ul(e) {
                en.call(this, "frameworkChanged"), this.f = e;
            }
            function jl(e) {
                Object.defineProperty(e, "lc", {
                    get: function() {
                        return this.$();
                    },
                    set: function(e) {
                        this.na(e);
                    },
                    enumerable: !1
                }), e.V = null;
            }
            function ql(e) {
                return e.Jb || Ye(new Fi("auth-domain-config-required"));
            }
            function Wl(e) {
                var t = Yl(e).options.authDomain, n = Yl(e).options.apiKey;
                t && ii() && (e.Jb = e.U.then(function() {
                    if (!e.l) {
                        if (e.a = gc(t, n, Yl(e).name), e.a.subscribe(e), Xl(e) && Zc(Xl(e)), e.w) {
                            Zc(e.w);
                            var r = e.w;
                            r.na(e.$()), Vc(r, e), Gc(r = e.w, e.A), Hc(r, e), e.w = null;
                        }
                        return e.a;
                    }
                }));
            }
            function Bl(e, t) {
                var n = {};
                return n.apiKey = Yl(e).options.apiKey, n.authDomain = Yl(e).options.authDomain, 
                n.appName = Yl(e).name, e.U.then(function() {
                    return wl(n, t, e.G, e.Ka());
                }).then(function(t) {
                    return Xl(e) && t.uid == Xl(e).uid ? (sl(Xl(e), t), e.ka(t)) : (Vl(e, t), Zc(t), 
                    e.ka(t));
                }).then(function() {
                    Jl(e);
                });
            }
            function Vl(e, t) {
                Xl(e) && (Jc(Xl(e), e.Ga), gn(Xl(e), "tokenChanged", e.pa), gn(Xl(e), "userDeleted", e.qa), 
                gn(Xl(e), "userInvalidated", e.ra), Xc(Xl(e))), t && (t.N.push(e.Ga), fn(t, "tokenChanged", e.pa), 
                fn(t, "userDeleted", e.qa), fn(t, "userInvalidated", e.ra), 0 < e.o && Yc(t)), Ti(e, "currentUser", t), 
                t && (t.na(e.$()), Vc(t, e), Gc(t, e.A), Hc(t, e));
            }
            function Gl(e) {
                var t = Sl(e.G, Yl(e).options.authDomain).then(function(t) {
                    return (e.w = t) && (t.ca = e.G), Cl(e.G);
                });
                return Zl(e, t);
            }
            function Hl(e) {
                var t = Yl(e).options.authDomain, n = Gl(e).then(function() {
                    return Dl(e.h, t);
                }).then(function(t) {
                    return t ? (t.ca = e.G, e.w && (e.w.Z || null) == (t.Z || null) ? t : t.reload().then(function() {
                        return kl(e.h, t).then(function() {
                            return t;
                        });
                    }).s(function(n) {
                        return "auth/network-request-failed" == n.code ? t : xl(e.h);
                    })) : null;
                }).then(function(t) {
                    Vl(e, t || null);
                });
                return Zl(e, n);
            }
            function Kl(e) {
                return e.U.then(function() {
                    return e.aa();
                }).s(function() {}).then(function() {
                    if (!e.l) return e.ha();
                }).s(function() {}).then(function() {
                    if (!e.l) {
                        e.W = !0;
                        var t = e.h;
                        qu(t.b, Rl("local"), t.a, e.ha);
                    }
                });
            }
            function Ql(e, t) {
                var n = null, r = null;
                return Zl(e, t.then(function(t) {
                    return n = Aa(t), r = ra(t), Bl(e, t);
                }).then(function() {
                    return Si({
                        user: Xl(e),
                        credential: n,
                        additionalUserInfo: r,
                        operationType: "signIn"
                    });
                }));
            }
            function Yl(e) {
                return e.app;
            }
            function Xl(e) {
                return e.currentUser;
            }
            function zl(e) {
                return Xl(e) && Xl(e)._lat || null;
            }
            function Jl(e) {
                if (e.W) {
                    for (var t = 0; t < e.m.length; t++) e.m[t] && e.m[t](zl(e));
                    if (e.R !== e.getUid() && e.I.length) for (e.R = e.getUid(), t = 0; t < e.I.length; t++) e.I[t] && e.I[t](zl(e));
                }
            }
            function $l(e, t) {
                e.I.push(t), Zl(e, e.i.then(function() {
                    !e.l && G(e.I, t) && e.R !== e.getUid() && (e.R = e.getUid(), t(zl(e)));
                }));
            }
            function Zl(e, t) {
                return e.N.push(t), $e(t, function() {
                    H(e.N, t);
                }), t;
            }
            function eh(e, t, n, r) {
                e: {
                    n = Array.prototype.slice.call(n);
                    for (var o = 0, i = !1, a = 0; a < t.length; a++) if (t[a].optional) i = !0; else {
                        if (i) throw new Fi("internal-error", "Argument validator encountered a required argument after an optional argument.");
                        o++;
                    }
                    if (i = t.length, n.length < o || i < n.length) r = "Expected " + (o == i ? 1 == o ? "1 argument" : o + " arguments" : o + "-" + i + " arguments") + " but got " + n.length + "."; else {
                        for (o = 0; o < n.length; o++) if (i = t[o].optional && void 0 === n[o], !t[o].M(n[o]) && !i) {
                            if (t = t[o], 0 > o || o >= th.length) throw new Fi("internal-error", "Argument validator received an unsupported number of arguments.");
                            n = th[o], r = (r ? "" : n + " argument ") + (t.name ? '"' + t.name + '" ' : "") + "must be " + t.K + ".";
                            break e;
                        }
                        r = null;
                    }
                }
                if (r) throw new Fi("argument-error", e + " failed: " + r);
            }
            Nl.prototype.eb = function(e) {
                var t = null, n = this;
                return Du(e), Ll(this, function() {
                    return e != n.c.C ? n.b.get(n.c, n.a).then(function(r) {
                        return t = r, Il(n, e);
                    }).then(function() {
                        if (n.c = Rl(e), t) return n.b.set(n.c, t, n.a);
                    }) : Qe();
                });
            }, w(Ml, In), w(Fl, en), w(Ul, en), (e = Ml.prototype).eb = function(e) {
                return Zl(this, e = this.h.eb(e));
            }, e.na = function(e) {
                this.V === e || this.l || (this.V = e, Ka(this.c, this.V), On(this, new Fl(this.$())));
            }, e.$ = function() {
                return this.V;
            }, e.Ec = function() {
                var e = o.navigator;
                this.na(e && (e.languages && e.languages[0] || e.language || e.userLanguage) || null);
            }, e.gc = function(e) {
                this.A.push(e), Qa(this.c, t.SDK_VERSION ? ti(t.SDK_VERSION, this.A) : null), On(this, new Ul(this.A));
            }, e.Ka = function() {
                return Y(this.A);
            }, e.toJSON = function() {
                return {
                    apiKey: Yl(this).options.apiKey,
                    authDomain: Yl(this).options.authDomain,
                    appName: Yl(this).name,
                    currentUser: Xl(this) && Xl(this).B()
                };
            }, e.ob = function(e, t) {
                switch (e) {
                  case "unknown":
                  case "signInViaRedirect":
                    return !0;

                  case "signInViaPopup":
                    return this.g == t && !!this.f;

                  default:
                    return !1;
                }
            }, e.fa = function(e, t, n, r) {
                "signInViaPopup" == e && this.g == r && (n && this.v ? this.v(n) : t && !n && this.f && this.f(t), 
                this.b && (this.b.cancel(), this.b = null), delete this.f, delete this.v);
            }, e.va = function(e, t) {
                return "signInViaRedirect" == e || "signInViaPopup" == e && this.g == t && this.f ? g(this.Sb, this) : null;
            }, e.Sb = function(e, t) {
                var n = this;
                e = {
                    requestUri: e,
                    sessionId: t
                }, this.b && (this.b.cancel(), this.b = null);
                var r = null, o = null, i = hs(n.c, e).then(function(e) {
                    return r = Aa(e), o = ra(e), e;
                });
                return Zl(this, e = n.U.then(function() {
                    return i;
                }).then(function(e) {
                    return Bl(n, e);
                }).then(function() {
                    return Si({
                        user: Xl(n),
                        credential: r,
                        additionalUserInfo: o,
                        operationType: "signIn"
                    });
                }));
            }, e.wc = function(e) {
                if (!ii()) return Ye(new Fi("operation-not-supported-in-this-environment"));
                var n = this, r = na(e.providerId), o = pi(), i = null;
                (!ui() || Yo()) && Yl(this).options.authDomain && e.isOAuthProvider && (i = uu(Yl(this).options.authDomain, Yl(this).options.apiKey, Yl(this).name, "signInViaPopup", e, null, o, t.SDK_VERSION || null));
                var a = Bo(i, r && r.za, r && r.ya);
                return Zl(this, r = ql(this).then(function(t) {
                    return vc(t, a, "signInViaPopup", e, o, !!i);
                }).then(function() {
                    return new qe(function(e, t) {
                        n.fa("signInViaPopup", null, new Fi("cancelled-popup-request"), n.g), n.f = e, n.v = t, 
                        n.g = o, n.b = n.a.Ca(n, "signInViaPopup", a, o);
                    });
                }).then(function(e) {
                    return a && Wo(a), e ? Si(e) : null;
                }).s(function(e) {
                    throw a && Wo(a), e;
                }));
            }, e.xc = function(e) {
                if (!ii()) return Ye(new Fi("operation-not-supported-in-this-environment"));
                var t = this;
                return Zl(this, ql(this).then(function() {
                    return Al(t.h);
                }).then(function() {
                    return t.a.Aa("signInViaRedirect", e);
                }));
            }, e.aa = function() {
                if (!ii()) return Ye(new Fi("operation-not-supported-in-this-environment"));
                var e = this;
                return Zl(this, ql(this).then(function() {
                    return e.a.aa();
                }).then(function(e) {
                    return e ? Si(e) : null;
                }));
            }, e.hb = function() {
                var e = this;
                return Zl(this, this.i.then(function() {
                    return Xl(e) ? (Vl(e, null), xl(e.h).then(function() {
                        Jl(e);
                    })) : Qe();
                }));
            }, e.yc = function() {
                var e = this;
                return Dl(this.h, Yl(this).options.authDomain).then(function(t) {
                    if (!e.l) {
                        var n;
                        if (n = Xl(e) && t) {
                            n = Xl(e).uid;
                            var r = t.uid;
                            n = void 0 !== n && null !== n && "" !== n && void 0 !== r && null !== r && "" !== r && n == r;
                        }
                        if (n) return sl(Xl(e), t), Xl(e).F();
                        (Xl(e) || t) && (Vl(e, t), t && (Zc(t), t.ca = e.G), e.a && e.a.subscribe(e), Jl(e));
                    }
                });
            }, e.ka = function(e) {
                return kl(this.h, e);
            }, e.Tb = function() {
                Jl(this), this.ka(Xl(this));
            }, e.Zb = function() {
                this.hb();
            }, e.$b = function() {
                this.hb();
            }, e.ac = function(e) {
                var t = this;
                this.addAuthTokenListener(function() {
                    e.next(Xl(t));
                });
            }, e.bc = function(e) {
                var t = this;
                $l(this, function() {
                    e.next(Xl(t));
                });
            }, e.ic = function(e, n, r) {
                var o = this;
                return this.W && t.Promise.resolve().then(function() {
                    p(e) ? e(Xl(o)) : p(e.next) && e.next(Xl(o));
                }), this.Kb(e, n, r);
            }, e.hc = function(e, n, r) {
                var o = this;
                return this.W && t.Promise.resolve().then(function() {
                    o.R = o.getUid(), p(e) ? e(Xl(o)) : p(e.next) && e.next(Xl(o));
                }), this.Lb(e, n, r);
            }, e.Vb = function(e) {
                var t = this;
                return Zl(this, this.i.then(function() {
                    return Xl(t) ? Xl(t).F(e).then(function(e) {
                        return {
                            accessToken: e
                        };
                    }) : null;
                }));
            }, e.tc = function(e) {
                return this.Eb(e).then(function(e) {
                    return e.user;
                });
            }, e.Eb = function(e) {
                var t = this;
                return this.i.then(function() {
                    return Ql(t, js(t.c, Ds, {
                        token: e
                    }));
                }).then(function(e) {
                    var n = e.user;
                    return al(n, "isAnonymous", !1), t.ka(n), e;
                });
            }, e.Fb = function(e, t) {
                var n = this;
                return this.i.then(function() {
                    return Ql(n, js(n.c, Ls, {
                        email: e,
                        password: t
                    }));
                });
            }, e.uc = function(e, t) {
                return this.Fb(e, t).then(function(e) {
                    return e.user;
                });
            }, e.Ob = function(e, t) {
                return this.qb(e, t).then(function(e) {
                    return e.user;
                });
            }, e.qb = function(e, t) {
                var n = this;
                return this.i.then(function() {
                    return Ql(n, js(n.c, ys, {
                        email: e,
                        password: t
                    }));
                });
            }, e.sc = function(e) {
                return this.fb(e).then(function(e) {
                    return e.user;
                });
            }, e.fb = function(e) {
                var t = this;
                return this.i.then(function() {
                    return Ql(t, e.wa(t.c));
                });
            }, e.gb = function() {
                return this.Gb().then(function(e) {
                    return e.user;
                });
            }, e.Gb = function() {
                var e = this;
                return this.i.then(function() {
                    var t = Xl(e);
                    return t && t.isAnonymous ? Si({
                        user: t,
                        credential: null,
                        additionalUserInfo: Si({
                            providerId: null,
                            isNewUser: !1
                        }),
                        operationType: "signIn"
                    }) : Ql(e, e.c.gb()).then(function(t) {
                        var n = t.user;
                        return al(n, "isAnonymous", !0), e.ka(n), t;
                    });
                });
            }, e.getUid = function() {
                return Xl(this) && Xl(this).uid || null;
            }, e.Mb = function(e) {
                this.addAuthTokenListener(e), this.o++, 0 < this.o && Xl(this) && Yc(Xl(this));
            }, e.qc = function(e) {
                var t = this;
                U(this.m, function(n) {
                    n == e && t.o--;
                }), 0 > this.o && (this.o = 0), 0 == this.o && Xl(this) && Xc(Xl(this)), this.removeAuthTokenListener(e);
            }, e.addAuthTokenListener = function(e) {
                var t = this;
                this.m.push(e), Zl(this, this.i.then(function() {
                    t.l || G(t.m, e) && e(zl(t));
                }));
            }, e.removeAuthTokenListener = function(e) {
                K(this.m, function(t) {
                    return t == e;
                });
            }, e.delete = function() {
                this.l = !0;
                for (var e = 0; e < this.N.length; e++) this.N[e].cancel("app-deleted");
                return this.N = [], this.h && Wu((e = this.h).b, e.a, this.ha), this.a && this.a.unsubscribe(this), 
                t.Promise.resolve();
            }, e.Rb = function(e) {
                return Zl(this, ns(this.c, e));
            }, e.Fc = function(e) {
                return this.Ia(e).then(function(e) {
                    return e.data.email;
                });
            }, e.Ta = function(e, t) {
                return Zl(this, this.c.Ta(e, t).then(function() {}));
            }, e.Ia = function(e) {
                return Zl(this, this.c.Ia(e).then(function(e) {
                    return new Pi(e);
                }));
            }, e.Sa = function(e) {
                return Zl(this, this.c.Sa(e).then(function() {}));
            }, e.cb = function(e, t) {
                var n = this;
                return Zl(this, Qe().then(function() {
                    return void 0 === t || te(t) ? {} : zi(new Wi(t));
                }).then(function(t) {
                    return n.c.cb(e, t);
                }).then(function() {}));
            }, e.vc = function(e, t) {
                return Zl(this, Pc(this, e, t, g(this.fb, this)));
            };
            var th = "First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");
            function nh(e, t) {
                return {
                    name: e || "",
                    K: "a valid string",
                    optional: !!t,
                    M: i
                };
            }
            function rh() {
                return {
                    name: "opt_forceRefresh",
                    K: "a boolean",
                    optional: !0,
                    M: a
                };
            }
            function oh(e, t) {
                return {
                    name: e || "",
                    K: "a valid object",
                    optional: !!t,
                    M: d
                };
            }
            function ih(e, t) {
                return {
                    name: e || "",
                    K: "a function",
                    optional: !!t,
                    M: p
                };
            }
            function ah(e, t) {
                return {
                    name: e || "",
                    K: "null",
                    optional: !!t,
                    M: c
                };
            }
            function sh() {
                return {
                    name: "",
                    K: "an HTML element",
                    optional: !1,
                    M: function(e) {
                        return !!(e && e instanceof Element);
                    }
                };
            }
            function uh() {
                return {
                    name: "auth",
                    K: "an instance of Firebase Auth",
                    optional: !0,
                    M: function(e) {
                        return !!(e && e instanceof Ml);
                    }
                };
            }
            function ch() {
                return {
                    name: "app",
                    K: "an instance of Firebase App",
                    optional: !0,
                    M: function(e) {
                        return !!(e && e instanceof t.app.App);
                    }
                };
            }
            function lh(e) {
                return {
                    name: e ? e + "Credential" : "credential",
                    K: e ? "a valid " + e + " credential" : "a valid credential",
                    optional: !1,
                    M: function(t) {
                        if (!t) return !1;
                        var n = !e || t.providerId === e;
                        return !(!t.wa || !n);
                    }
                };
            }
            function hh() {
                return {
                    name: "authProvider",
                    K: "a valid Auth provider",
                    optional: !1,
                    M: function(e) {
                        return !!(e && e.providerId && e.hasOwnProperty && e.hasOwnProperty("isOAuthProvider"));
                    }
                };
            }
            function ph() {
                return {
                    name: "applicationVerifier",
                    K: "an implementation of firebase.auth.ApplicationVerifier",
                    optional: !1,
                    M: function(e) {
                        return !!(e && i(e.type) && p(e.verify));
                    }
                };
            }
            function dh(e, t, n, r) {
                return {
                    name: n || "",
                    K: e.K + " or " + t.K,
                    optional: !!r,
                    M: function(n) {
                        return e.M(n) || t.M(n);
                    }
                };
            }
            function fh(e, t, n, r, i, a) {
                if (Ti(this, "type", "recaptcha"), this.b = this.c = null, this.m = !1, this.l = t, 
                this.a = n || {
                    theme: "light",
                    type: "image"
                }, this.g = [], this.a[yh]) throw new Fi("argument-error", "sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");
                if (this.h = "invisible" === this.a[gh], !Dt(t) || !this.h && Dt(t).hasChildNodes()) throw new Fi("argument-error", "reCAPTCHA container is either not found or already contains inner elements!");
                this.u = new ja(e, a || null, i || null), this.o = r || function() {
                    return null;
                };
                var s = this;
                this.i = [];
                var u = this.a[vh];
                this.a[vh] = function(e) {
                    if (_h(s, e), "function" == typeof u) u(e); else if ("string" == typeof u) {
                        var t = ri(u, o);
                        "function" == typeof t && t(e);
                    }
                };
                var c = this.a[mh];
                this.a[mh] = function() {
                    if (_h(s, null), "function" == typeof c) c(); else if ("string" == typeof c) {
                        var e = ri(c, o);
                        "function" == typeof e && e();
                    }
                };
            }
            var vh = "callback", mh = "expired-callback", yh = "sitekey", gh = "size";
            function _h(e, t) {
                for (var n = 0; n < e.i.length; n++) try {
                    e.i[n](t);
                } catch (e) {}
            }
            function bh(e, t) {
                K(e.i, function(e) {
                    return e == t;
                });
            }
            function wh(e, t) {
                return e.g.push(t), $e(t, function() {
                    H(e.g, t);
                }), t;
            }
            function Eh(e) {
                if (e.m) throw new Fi("internal-error", "RecaptchaVerifier instance has been destroyed.");
            }
            (e = fh.prototype).xa = function() {
                var e = this;
                return this.c ? this.c : this.c = wh(this, Qe().then(function() {
                    if (ai()) return Ho();
                    throw new Fi("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.");
                }).then(function() {
                    return Sh(Ih(), e.o());
                }).then(function() {
                    return js(e.u, Ss, {});
                }).then(function(t) {
                    e.a[yh] = t.recaptchaSiteKey;
                }).s(function(t) {
                    throw e.c = null, t;
                }));
            }, e.render = function() {
                Eh(this);
                var e = this;
                return wh(this, this.xa().then(function() {
                    if (null === e.b) {
                        var t = e.l;
                        if (!e.h) {
                            var n = Dt(t);
                            t = Ft("DIV"), n.appendChild(t);
                        }
                        e.b = grecaptcha.render(t, e.a);
                    }
                    return e.b;
                }));
            }, e.verify = function() {
                Eh(this);
                var e = this;
                return wh(this, this.render().then(function(t) {
                    return new qe(function(n) {
                        var r = grecaptcha.getResponse(t);
                        if (r) n(r); else {
                            var o = function(t) {
                                t && (bh(e, o), n(t));
                            };
                            e.i.push(o), e.h && grecaptcha.execute(e.b);
                        }
                    });
                }));
            }, e.reset = function() {
                Eh(this), null !== this.b && grecaptcha.reset(this.b);
            }, e.clear = function() {
                Eh(this), this.m = !0, Ih().b--;
                for (var e = 0; e < this.g.length; e++) this.g[e].cancel("RecaptchaVerifier instance has been destroyed.");
                if (!this.h) {
                    e = Dt(this.l);
                    for (var t; t = e.firstChild; ) e.removeChild(t);
                }
            };
            var Th = mt("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}");
            function Ch() {
                this.b = o.grecaptcha ? 1 / 0 : 0, this.c = null, this.a = "__rcb" + Math.floor(1e6 * Math.random()).toString();
            }
            function Sh(e, t) {
                return new qe(function(n, r) {
                    if (vi()) if (!o.grecaptcha || t !== e.c && !e.b) {
                        o[e.a] = function() {
                            if (o.grecaptcha) {
                                e.c = t;
                                var i = o.grecaptcha.render;
                                o.grecaptcha.render = function(t, n) {
                                    return t = i(t, n), e.b++, t;
                                }, n();
                            } else r(new Fi("internal-error"));
                            delete o[e.a];
                        }, Qe(So(_t(Th, {
                            onload: e.a,
                            hl: t || ""
                        }))).s(function() {
                            r(new Fi("internal-error", "Unable to load external reCAPTCHA dependencies!"));
                        });
                    } else n(); else r(new Fi("network-request-failed"));
                });
            }
            var Nh = null;
            function Ih() {
                return Nh || (Nh = new Ch()), Nh;
            }
            function Oh(e, n, r) {
                try {
                    this.f = r || t.app();
                } catch (e) {
                    throw new Fi("argument-error", "No firebase.app.App instance is currently initialized.");
                }
                if (!this.f.options || !this.f.options.apiKey) throw new Fi("invalid-api-key");
                r = this.f.options.apiKey;
                var o = this, i = null;
                try {
                    i = this.f.auth().Ka();
                } catch (e) {}
                i = t.SDK_VERSION ? ti(t.SDK_VERSION, i) : null, fh.call(this, r, e, n, function() {
                    try {
                        var e = o.f.auth().$();
                    } catch (t) {
                        e = null;
                    }
                    return e;
                }, i, Gs(Bs));
            }
            function Ph(e, t) {
                for (var n in t) {
                    var r = t[n].name;
                    e[r] = Ah(r, e[n], t[n].j);
                }
            }
            function Rh(e, t, n, r) {
                e[t] = Ah(t, n, r);
            }
            function Ah(e, t, n) {
                function r() {
                    var e = Array.prototype.slice.call(arguments);
                    return eh(i, n, e), t.apply(this, e);
                }
                if (!n) return t;
                var o, i = kh(e);
                for (o in t) r[o] = t[o];
                for (o in t.prototype) r.prototype[o] = t.prototype[o];
                return r;
            }
            function kh(e) {
                return (e = e.split("."))[e.length - 1];
            }
            w(Oh, fh), Ph(Ml.prototype, {
                Sa: {
                    name: "applyActionCode",
                    j: [ nh("code") ]
                },
                Ia: {
                    name: "checkActionCode",
                    j: [ nh("code") ]
                },
                Ta: {
                    name: "confirmPasswordReset",
                    j: [ nh("code"), nh("newPassword") ]
                },
                Ob: {
                    name: "createUserWithEmailAndPassword",
                    j: [ nh("email"), nh("password") ]
                },
                qb: {
                    name: "createUserAndRetrieveDataWithEmailAndPassword",
                    j: [ nh("email"), nh("password") ]
                },
                Rb: {
                    name: "fetchProvidersForEmail",
                    j: [ nh("email") ]
                },
                aa: {
                    name: "getRedirectResult",
                    j: []
                },
                hc: {
                    name: "onAuthStateChanged",
                    j: [ dh(oh(), ih(), "nextOrObserver"), ih("opt_error", !0), ih("opt_completed", !0) ]
                },
                ic: {
                    name: "onIdTokenChanged",
                    j: [ dh(oh(), ih(), "nextOrObserver"), ih("opt_error", !0), ih("opt_completed", !0) ]
                },
                cb: {
                    name: "sendPasswordResetEmail",
                    j: [ nh("email"), dh(oh("opt_actionCodeSettings", !0), ah(null, !0), "opt_actionCodeSettings", !0) ]
                },
                eb: {
                    name: "setPersistence",
                    j: [ nh("persistence") ]
                },
                fb: {
                    name: "signInAndRetrieveDataWithCredential",
                    j: [ lh() ]
                },
                gb: {
                    name: "signInAnonymously",
                    j: []
                },
                Gb: {
                    name: "signInAnonymouslyAndRetrieveData",
                    j: []
                },
                sc: {
                    name: "signInWithCredential",
                    j: [ lh() ]
                },
                tc: {
                    name: "signInWithCustomToken",
                    j: [ nh("token") ]
                },
                Eb: {
                    name: "signInAndRetrieveDataWithCustomToken",
                    j: [ nh("token") ]
                },
                uc: {
                    name: "signInWithEmailAndPassword",
                    j: [ nh("email"), nh("password") ]
                },
                Fb: {
                    name: "signInAndRetrieveDataWithEmailAndPassword",
                    j: [ nh("email"), nh("password") ]
                },
                vc: {
                    name: "signInWithPhoneNumber",
                    j: [ nh("phoneNumber"), ph() ]
                },
                wc: {
                    name: "signInWithPopup",
                    j: [ hh() ]
                },
                xc: {
                    name: "signInWithRedirect",
                    j: [ hh() ]
                },
                hb: {
                    name: "signOut",
                    j: []
                },
                toJSON: {
                    name: "toJSON",
                    j: [ nh(null, !0) ]
                },
                Ec: {
                    name: "useDeviceLanguage",
                    j: []
                },
                Fc: {
                    name: "verifyPasswordResetCode",
                    j: [ nh("code") ]
                }
            }), function(e, t) {
                for (var n in t) {
                    var r = t[n].name;
                    if (r !== n) {
                        var o = t[n].Nb;
                        Object.defineProperty(e, r, {
                            get: function() {
                                return this[n];
                            },
                            set: function(e) {
                                eh(r, [ o ], [ e ], !0), this[n] = e;
                            },
                            enumerable: !0
                        });
                    }
                }
            }(Ml.prototype, {
                lc: {
                    name: "languageCode",
                    Nb: dh(nh(), ah(), "languageCode")
                }
            }), Ml.Persistence = xu, Ml.Persistence.LOCAL = "local", Ml.Persistence.SESSION = "session", 
            Ml.Persistence.NONE = "none", Ph(Bc.prototype, {
                delete: {
                    name: "delete",
                    j: []
                },
                F: {
                    name: "getIdToken",
                    j: [ rh() ]
                },
                getToken: {
                    name: "getToken",
                    j: [ rh() ]
                },
                Xa: {
                    name: "linkAndRetrieveDataWithCredential",
                    j: [ lh() ]
                },
                cc: {
                    name: "linkWithCredential",
                    j: [ lh() ]
                },
                dc: {
                    name: "linkWithPhoneNumber",
                    j: [ nh("phoneNumber"), ph() ]
                },
                ec: {
                    name: "linkWithPopup",
                    j: [ hh() ]
                },
                fc: {
                    name: "linkWithRedirect",
                    j: [ hh() ]
                },
                Za: {
                    name: "reauthenticateAndRetrieveDataWithCredential",
                    j: [ lh() ]
                },
                mc: {
                    name: "reauthenticateWithCredential",
                    j: [ lh() ]
                },
                nc: {
                    name: "reauthenticateWithPhoneNumber",
                    j: [ nh("phoneNumber"), ph() ]
                },
                oc: {
                    name: "reauthenticateWithPopup",
                    j: [ hh() ]
                },
                pc: {
                    name: "reauthenticateWithRedirect",
                    j: [ hh() ]
                },
                reload: {
                    name: "reload",
                    j: []
                },
                bb: {
                    name: "sendEmailVerification",
                    j: [ dh(oh("opt_actionCodeSettings", !0), ah(null, !0), "opt_actionCodeSettings", !0) ]
                },
                toJSON: {
                    name: "toJSON",
                    j: [ nh(null, !0) ]
                },
                Cc: {
                    name: "unlink",
                    j: [ nh("provider") ]
                },
                kb: {
                    name: "updateEmail",
                    j: [ nh("email") ]
                },
                lb: {
                    name: "updatePassword",
                    j: [ nh("password") ]
                },
                Dc: {
                    name: "updatePhoneNumber",
                    j: [ lh("phone") ]
                },
                mb: {
                    name: "updateProfile",
                    j: [ oh("profile") ]
                }
            }), Ph(qe.prototype, {
                s: {
                    name: "catch"
                },
                then: {
                    name: "then"
                }
            }), Ph(Oc.prototype, {
                confirm: {
                    name: "confirm",
                    j: [ nh("verificationCode") ]
                }
            }), Rh(Na, "credential", function(e, t) {
                return new Sa(e, t);
            }, [ nh("email"), nh("password") ]), Ph(ya.prototype, {
                sa: {
                    name: "addScope",
                    j: [ nh("scope") ]
                },
                Ba: {
                    name: "setCustomParameters",
                    j: [ oh("customOAuthParameters") ]
                }
            }), Rh(ya, "credential", ga, [ dh(nh(), oh(), "token") ]), Ph(_a.prototype, {
                sa: {
                    name: "addScope",
                    j: [ nh("scope") ]
                },
                Ba: {
                    name: "setCustomParameters",
                    j: [ oh("customOAuthParameters") ]
                }
            }), Rh(_a, "credential", ba, [ dh(nh(), oh(), "token") ]), Ph(wa.prototype, {
                sa: {
                    name: "addScope",
                    j: [ nh("scope") ]
                },
                Ba: {
                    name: "setCustomParameters",
                    j: [ oh("customOAuthParameters") ]
                }
            }), Rh(wa, "credential", Ea, [ dh(nh(), dh(oh(), ah()), "idToken"), dh(nh(), ah(), "accessToken", !0) ]), 
            Ph(Ta.prototype, {
                Ba: {
                    name: "setCustomParameters",
                    j: [ oh("customOAuthParameters") ]
                }
            }), Rh(Ta, "credential", Ca, [ dh(nh(), oh(), "token"), nh("secret", !0) ]), Ph(ma.prototype, {
                sa: {
                    name: "addScope",
                    j: [ nh("scope") ]
                },
                credential: {
                    name: "credential",
                    j: [ dh(nh(), ah(), "idToken", !0), dh(nh(), ah(), "accessToken", !0) ]
                },
                Ba: {
                    name: "setCustomParameters",
                    j: [ oh("customOAuthParameters") ]
                }
            }), Rh(Pa, "credential", Ra, [ nh("verificationId"), nh("verificationCode") ]), 
            Ph(Pa.prototype, {
                Qa: {
                    name: "verifyPhoneNumber",
                    j: [ nh("phoneNumber"), ph() ]
                }
            }), Ph(Fi.prototype, {
                toJSON: {
                    name: "toJSON",
                    j: [ nh(null, !0) ]
                }
            }), Ph(Ma.prototype, {
                toJSON: {
                    name: "toJSON",
                    j: [ nh(null, !0) ]
                }
            }), Ph(La.prototype, {
                toJSON: {
                    name: "toJSON",
                    j: [ nh(null, !0) ]
                }
            }), Ph(Oh.prototype, {
                clear: {
                    name: "clear",
                    j: []
                },
                render: {
                    name: "render",
                    j: []
                },
                verify: {
                    name: "verify",
                    j: []
                }
            }), function() {
                if (void 0 === t || !t.INTERNAL || !t.INTERNAL.registerService) throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");
                var e = {
                    Auth: Ml,
                    Error: Fi
                };
                Rh(e, "EmailAuthProvider", Na, []), Rh(e, "FacebookAuthProvider", ya, []), Rh(e, "GithubAuthProvider", _a, []), 
                Rh(e, "GoogleAuthProvider", wa, []), Rh(e, "TwitterAuthProvider", Ta, []), Rh(e, "OAuthProvider", ma, [ nh("providerId") ]), 
                Rh(e, "PhoneAuthProvider", Pa, [ uh() ]), Rh(e, "RecaptchaVerifier", Oh, [ dh(nh(), sh(), "recaptchaContainer"), oh("recaptchaParameters", !0), ch() ]), 
                t.INTERNAL.registerService("auth", function(e, t) {
                    return t({
                        INTERNAL: {
                            getUid: g((e = new Ml(e)).getUid, e),
                            getToken: g(e.Vb, e),
                            addAuthTokenListener: g(e.Mb, e),
                            removeAuthTokenListener: g(e.qc, e)
                        }
                    }), e;
                }, e, function(e, t) {
                    if ("create" === e) try {
                        t.auth();
                    } catch (e) {}
                }), t.INTERNAL.extendNamespace({
                    User: Bc
                });
            }();
        }).call(void 0 !== e ? e : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }).call(this, n(27));
}, function(e, t, n) {
    e.exports = n(126);
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(13), o = n(54);
    t.Database = o.Database;
    var i = n(58);
    t.Query = i.Query;
    var a = n(41);
    t.Reference = a.Reference;
    var s = n(3);
    t.enableLogging = s.enableLogging;
    var u = n(46), c = n(158), l = n(159), h = n(0), p = o.Database.ServerValue;
    function d(t) {
        var n = t.INTERNAL.registerService("database", function(e, t, n) {
            return u.RepoManager.getInstance().databaseFromApp(e, n);
        }, {
            Reference: a.Reference,
            Query: i.Query,
            Database: o.Database,
            enableLogging: s.enableLogging,
            INTERNAL: c,
            ServerValue: p,
            TEST_ACCESS: l
        }, null, !0);
        h.isNodeSdk() && (e.exports = n);
    }
    t.ServerValue = p, t.registerDatabase = d, d(r.default);
    var f = n(42);
    t.DataSnapshot = f.DataSnapshot;
    var v = n(57);
    t.OnDisconnect = v.OnDisconnect;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = function() {
        function e(e) {
            this.domStorage_ = e, this.prefix_ = "firebase:";
        }
        return e.prototype.set = function(e, t) {
            null == t ? this.domStorage_.removeItem(this.prefixedName_(e)) : this.domStorage_.setItem(this.prefixedName_(e), r.stringify(t));
        }, e.prototype.get = function(e) {
            var t = this.domStorage_.getItem(this.prefixedName_(e));
            return null == t ? null : r.jsonEval(t);
        }, e.prototype.remove = function(e) {
            this.domStorage_.removeItem(this.prefixedName_(e));
        }, e.prototype.prefixedName_ = function(e) {
            return this.prefix_ + e;
        }, e.prototype.toString = function() {
            return this.domStorage_.toString();
        }, e;
    }();
    t.DOMStorageWrapper = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = function() {
        function e() {
            this.cache_ = {}, this.isInMemoryStorage = !0;
        }
        return e.prototype.set = function(e, t) {
            null == t ? delete this.cache_[e] : this.cache_[e] = t;
        }, e.prototype.get = function(e) {
            return r.contains(this.cache_, e) ? this.cache_[e] : null;
        }, e.prototype.remove = function(e) {
            delete this.cache_[e];
        }, e;
    }();
    t.MemoryStorage = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = function() {
        function e(e, t) {
            this.committed = e, this.snapshot = t;
        }
        return e.prototype.toJSON = function() {
            return r.validateArgCount("TransactionResult.toJSON", 0, 1, arguments.length), {
                committed: this.committed,
                snapshot: this.snapshot.toJSON()
            };
        }, e;
    }();
    t.TransactionResult = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o, i, a = n(0);
    t.nextPushId = (r = "-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz", 
    o = 0, i = [], function(e) {
        var t, n = e === o;
        o = e;
        var s = new Array(8);
        for (t = 7; t >= 0; t--) s[t] = r.charAt(e % 64), e = Math.floor(e / 64);
        a.assert(0 === e, "Cannot push at time == 0");
        var u = s.join("");
        if (n) {
            for (t = 11; t >= 0 && 63 === i[t]; t--) i[t] = 0;
            i[t]++;
        } else for (t = 0; t < 12; t++) i[t] = Math.floor(64 * Math.random());
        for (t = 0; t < 12; t++) u += r.charAt(i[t]);
        return a.assert(20 === u.length, "nextPushId: Length should be 20."), u;
    });
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(42), o = n(132), i = n(0), a = n(0), s = function() {
        function e(e, t, n) {
            this.callback_ = e, this.cancelCallback_ = t, this.context_ = n;
        }
        return e.prototype.respondsTo = function(e) {
            return "value" === e;
        }, e.prototype.createEvent = function(e, t) {
            var n = t.getQueryParams().getIndex();
            return new o.DataEvent("value", this, new r.DataSnapshot(e.snapshotNode, t.getRef(), n));
        }, e.prototype.getEventRunner = function(e) {
            var t = this.context_;
            if ("cancel" === e.getEventType()) {
                a.assert(this.cancelCallback_, "Raising a cancel event on a listener with no cancel callback");
                var n = this.cancelCallback_;
                return function() {
                    n.call(t, e.error);
                };
            }
            var r = this.callback_;
            return function() {
                r.call(t, e.snapshot);
            };
        }, e.prototype.createCancelEvent = function(e, t) {
            return this.cancelCallback_ ? new o.CancelEvent(this, e, t) : null;
        }, e.prototype.matches = function(t) {
            return t instanceof e && (!t.callback_ || !this.callback_ || t.callback_ === this.callback_ && t.context_ === this.context_);
        }, e.prototype.hasAnyCallback = function() {
            return null !== this.callback_;
        }, e;
    }();
    t.ValueEventRegistration = s;
    var u = function() {
        function e(e, t, n) {
            this.callbacks_ = e, this.cancelCallback_ = t, this.context_ = n;
        }
        return e.prototype.respondsTo = function(e) {
            var t = "children_added" === e ? "child_added" : e;
            return t = "children_removed" === t ? "child_removed" : t, i.contains(this.callbacks_, t);
        }, e.prototype.createCancelEvent = function(e, t) {
            return this.cancelCallback_ ? new o.CancelEvent(this, e, t) : null;
        }, e.prototype.createEvent = function(e, t) {
            a.assert(null != e.childName, "Child events should have a childName.");
            var n = t.getRef().child(e.childName), i = t.getQueryParams().getIndex();
            return new o.DataEvent(e.type, this, new r.DataSnapshot(e.snapshotNode, n, i), e.prevName);
        }, e.prototype.getEventRunner = function(e) {
            var t = this.context_;
            if ("cancel" === e.getEventType()) {
                a.assert(this.cancelCallback_, "Raising a cancel event on a listener with no cancel callback");
                var n = this.cancelCallback_;
                return function() {
                    n.call(t, e.error);
                };
            }
            var r = this.callbacks_[e.eventType];
            return function() {
                r.call(t, e.snapshot, e.prevName);
            };
        }, e.prototype.matches = function(t) {
            if (t instanceof e) {
                if (!this.callbacks_ || !t.callbacks_) return !0;
                if (this.context_ === t.context_) {
                    var n = i.getCount(t.callbacks_);
                    if (n === i.getCount(this.callbacks_)) {
                        if (1 === n) {
                            var r = i.getAnyKey(t.callbacks_), o = i.getAnyKey(this.callbacks_);
                            return !(o !== r || t.callbacks_[r] && this.callbacks_[o] && t.callbacks_[r] !== this.callbacks_[o]);
                        }
                        return i.every(this.callbacks_, function(e, n) {
                            return t.callbacks_[e] === n;
                        });
                    }
                }
            }
            return !1;
        }, e.prototype.hasAnyCallback = function() {
            return null !== this.callbacks_;
        }, e;
    }();
    t.ChildEventRegistration = u;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = function() {
        function e(e, t, n, r) {
            this.eventType = e, this.eventRegistration = t, this.snapshot = n, this.prevName = r;
        }
        return e.prototype.getPath = function() {
            var e = this.snapshot.getRef();
            return "value" === this.eventType ? e.path : e.getParent().path;
        }, e.prototype.getEventType = function() {
            return this.eventType;
        }, e.prototype.getEventRunner = function() {
            return this.eventRegistration.getEventRunner(this);
        }, e.prototype.toString = function() {
            return this.getPath().toString() + ":" + this.eventType + ":" + r.stringify(this.snapshot.exportVal());
        }, e;
    }();
    t.DataEvent = o;
    var i = function() {
        function e(e, t, n) {
            this.eventRegistration = e, this.error = t, this.path = n;
        }
        return e.prototype.getPath = function() {
            return this.path;
        }, e.prototype.getEventType = function() {
            return "cancel";
        }, e.prototype.getEventRunner = function() {
            return this.eventRegistration.getEventRunner(this);
        }, e.prototype.toString = function() {
            return this.path.toString() + ":cancel";
        }, e;
    }();
    t.CancelEvent = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(3), i = n(134), a = n(11), s = n(0), u = n(43), c = n(135), l = n(136), h = n(20), p = n(68), d = n(5), f = n(69), v = n(142), m = function() {
        function e(e) {
            this.listenProvider_ = e, this.syncPointTree_ = u.ImmutableTree.Empty, this.pendingWriteTree_ = new v.WriteTree(), 
            this.tagToQueryMap_ = {}, this.queryToTagMap_ = {};
        }
        return e.prototype.applyUserOverwrite = function(e, t, n, r) {
            return this.pendingWriteTree_.addOverwrite(e, t, n, r), r ? this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.User, e, t)) : [];
        }, e.prototype.applyUserMerge = function(e, t, n) {
            this.pendingWriteTree_.addMerge(e, t, n);
            var r = u.ImmutableTree.fromObject(t);
            return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.User, e, r));
        }, e.prototype.ackUserWrite = function(e, t) {
            void 0 === t && (t = !1);
            var n = this.pendingWriteTree_.getWrite(e);
            if (this.pendingWriteTree_.removeWrite(e)) {
                var r = u.ImmutableTree.Empty;
                return null != n.snap ? r = r.set(d.Path.Empty, !0) : s.forEach(n.children, function(e, t) {
                    r = r.set(new d.Path(e), t);
                }), this.applyOperationToSyncPoints_(new i.AckUserWrite(n.path, r, t));
            }
            return [];
        }, e.prototype.applyServerOverwrite = function(e, t) {
            return this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.Server, e, t));
        }, e.prototype.applyServerMerge = function(e, t) {
            var n = u.ImmutableTree.fromObject(t);
            return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.Server, e, n));
        }, e.prototype.applyListenComplete = function(e) {
            return this.applyOperationToSyncPoints_(new c.ListenComplete(h.OperationSource.Server, e));
        }, e.prototype.applyTaggedQueryOverwrite = function(t, n, r) {
            var o = this.queryKeyForTag_(r);
            if (null != o) {
                var i = e.parseQueryKey_(o), a = i.path, s = i.queryId, u = d.Path.relativePath(a, t), c = new p.Overwrite(h.OperationSource.forServerTaggedQuery(s), u, n);
                return this.applyTaggedOperation_(a, c);
            }
            return [];
        }, e.prototype.applyTaggedQueryMerge = function(t, n, r) {
            var o = this.queryKeyForTag_(r);
            if (o) {
                var i = e.parseQueryKey_(o), a = i.path, s = i.queryId, c = d.Path.relativePath(a, t), p = u.ImmutableTree.fromObject(n), f = new l.Merge(h.OperationSource.forServerTaggedQuery(s), c, p);
                return this.applyTaggedOperation_(a, f);
            }
            return [];
        }, e.prototype.applyTaggedListenComplete = function(t, n) {
            var r = this.queryKeyForTag_(n);
            if (r) {
                var o = e.parseQueryKey_(r), i = o.path, a = o.queryId, s = d.Path.relativePath(i, t), u = new c.ListenComplete(h.OperationSource.forServerTaggedQuery(a), s);
                return this.applyTaggedOperation_(i, u);
            }
            return [];
        }, e.prototype.addEventRegistration = function(t, n) {
            var o = t.path, i = null, s = !1;
            this.syncPointTree_.foreachOnPath(o, function(e, t) {
                var n = d.Path.relativePath(e, o);
                i = i || t.getCompleteServerCache(n), s = s || t.hasCompleteView();
            });
            var u, c = this.syncPointTree_.get(o);
            (c ? (s = s || c.hasCompleteView(), i = i || c.getCompleteServerCache(d.Path.Empty)) : (c = new f.SyncPoint(), 
            this.syncPointTree_ = this.syncPointTree_.set(o, c)), null != i) ? u = !0 : (u = !1, 
            i = a.ChildrenNode.EMPTY_NODE, this.syncPointTree_.subtree(o).foreachChild(function(e, t) {
                var n = t.getCompleteServerCache(d.Path.Empty);
                n && (i = i.updateImmediateChild(e, n));
            }));
            var l = c.viewExistsForQuery(t);
            if (!l && !t.getQueryParams().loadsAllData()) {
                var h = e.makeQueryKey_(t);
                r.assert(!(h in this.queryToTagMap_), "View does not exist, but we have a tag");
                var p = e.getNextQueryTag_();
                this.queryToTagMap_[h] = p, this.tagToQueryMap_["_" + p] = h;
            }
            var v = this.pendingWriteTree_.childWrites(o), m = c.addEventRegistration(t, n, v, i, u);
            if (!l && !s) {
                var y = c.viewForQuery(t);
                m = m.concat(this.setupListener_(t, y));
            }
            return m;
        }, e.prototype.removeEventRegistration = function(t, n, r) {
            var o = this, i = t.path, a = this.syncPointTree_.get(i), s = [];
            if (a && ("default" === t.queryIdentifier() || a.viewExistsForQuery(t))) {
                var u = a.removeEventRegistration(t, n, r);
                a.isEmpty() && (this.syncPointTree_ = this.syncPointTree_.remove(i));
                var c = u.removed;
                s = u.events;
                var l = -1 !== c.findIndex(function(e) {
                    return e.getQueryParams().loadsAllData();
                }), h = this.syncPointTree_.findOnPath(i, function(e, t) {
                    return t.hasCompleteView();
                });
                if (l && !h) {
                    var p = this.syncPointTree_.subtree(i);
                    if (!p.isEmpty()) for (var d = this.collectDistinctViewsForSubTree_(p), f = 0; f < d.length; ++f) {
                        var v = d[f], m = v.getQuery(), y = this.createListenerForView_(v);
                        this.listenProvider_.startListening(e.queryForListening_(m), this.tagForQuery_(m), y.hashFn, y.onComplete);
                    }
                }
                if (!h && c.length > 0 && !r) if (l) {
                    var g = null;
                    this.listenProvider_.stopListening(e.queryForListening_(t), g);
                } else c.forEach(function(t) {
                    var n = o.queryToTagMap_[e.makeQueryKey_(t)];
                    o.listenProvider_.stopListening(e.queryForListening_(t), n);
                });
                this.removeTags_(c);
            }
            return s;
        }, e.prototype.calcCompleteEventCache = function(e, t) {
            var n = !0, r = this.pendingWriteTree_, o = this.syncPointTree_.findOnPath(e, function(t, n) {
                var r = d.Path.relativePath(t, e), o = n.getCompleteServerCache(r);
                if (o) return o;
            });
            return r.calcCompleteEventCache(e, o, t, n);
        }, e.prototype.collectDistinctViewsForSubTree_ = function(e) {
            return e.fold(function(e, t, n) {
                if (t && t.hasCompleteView()) return [ t.getCompleteView() ];
                var r = [];
                return t && (r = t.getQueryViews()), s.forEach(n, function(e, t) {
                    r = r.concat(t);
                }), r;
            });
        }, e.prototype.removeTags_ = function(t) {
            for (var n = 0; n < t.length; ++n) {
                var r = t[n];
                if (!r.getQueryParams().loadsAllData()) {
                    var o = e.makeQueryKey_(r), i = this.queryToTagMap_[o];
                    delete this.queryToTagMap_[o], delete this.tagToQueryMap_["_" + i];
                }
            }
        }, e.queryForListening_ = function(e) {
            return e.getQueryParams().loadsAllData() && !e.getQueryParams().isDefault() ? e.getRef() : e;
        }, e.prototype.setupListener_ = function(t, n) {
            var o = t.path, i = this.tagForQuery_(t), a = this.createListenerForView_(n), u = this.listenProvider_.startListening(e.queryForListening_(t), i, a.hashFn, a.onComplete), c = this.syncPointTree_.subtree(o);
            if (i) r.assert(!c.value.hasCompleteView(), "If we're adding a query, it shouldn't be shadowed"); else for (var l = c.fold(function(e, t, n) {
                if (!e.isEmpty() && t && t.hasCompleteView()) return [ t.getCompleteView().getQuery() ];
                var r = [];
                return t && (r = r.concat(t.getQueryViews().map(function(e) {
                    return e.getQuery();
                }))), s.forEach(n, function(e, t) {
                    r = r.concat(t);
                }), r;
            }), h = 0; h < l.length; ++h) {
                var p = l[h];
                this.listenProvider_.stopListening(e.queryForListening_(p), this.tagForQuery_(p));
            }
            return u;
        }, e.prototype.createListenerForView_ = function(e) {
            var t = this, n = e.getQuery(), r = this.tagForQuery_(n);
            return {
                hashFn: function() {
                    return (e.getServerCache() || a.ChildrenNode.EMPTY_NODE).hash();
                },
                onComplete: function(e) {
                    if ("ok" === e) return r ? t.applyTaggedListenComplete(n.path, r) : t.applyListenComplete(n.path);
                    var i = o.errorForServerCode(e, n);
                    return t.removeEventRegistration(n, null, i);
                }
            };
        }, e.makeQueryKey_ = function(e) {
            return e.path.toString() + "$" + e.queryIdentifier();
        }, e.parseQueryKey_ = function(e) {
            var t = e.indexOf("$");
            return r.assert(-1 !== t && t < e.length - 1, "Bad queryKey."), {
                queryId: e.substr(t + 1),
                path: new d.Path(e.substr(0, t))
            };
        }, e.prototype.queryKeyForTag_ = function(e) {
            return this.tagToQueryMap_["_" + e];
        }, e.prototype.tagForQuery_ = function(t) {
            var n = e.makeQueryKey_(t);
            return s.safeGet(this.queryToTagMap_, n);
        }, e.getNextQueryTag_ = function() {
            return e.nextQueryTag_++;
        }, e.prototype.applyTaggedOperation_ = function(e, t) {
            var n = this.syncPointTree_.get(e);
            r.assert(n, "Missing sync point for query tag that we're tracking");
            var o = this.pendingWriteTree_.childWrites(e);
            return n.applyOperation(t, o, null);
        }, e.prototype.applyOperationToSyncPoints_ = function(e) {
            return this.applyOperationHelper_(e, this.syncPointTree_, null, this.pendingWriteTree_.childWrites(d.Path.Empty));
        }, e.prototype.applyOperationHelper_ = function(e, t, n, r) {
            if (e.path.isEmpty()) return this.applyOperationDescendantsHelper_(e, t, n, r);
            var o = t.get(d.Path.Empty);
            null == n && null != o && (n = o.getCompleteServerCache(d.Path.Empty));
            var i = [], a = e.path.getFront(), s = e.operationForChild(a), u = t.children.get(a);
            if (u && s) {
                var c = n ? n.getImmediateChild(a) : null, l = r.child(a);
                i = i.concat(this.applyOperationHelper_(s, u, c, l));
            }
            return o && (i = i.concat(o.applyOperation(e, r, n))), i;
        }, e.prototype.applyOperationDescendantsHelper_ = function(e, t, n, r) {
            var o = this, i = t.get(d.Path.Empty);
            null == n && null != i && (n = i.getCompleteServerCache(d.Path.Empty));
            var a = [];
            return t.children.inorderTraversal(function(t, i) {
                var s = n ? n.getImmediateChild(t) : null, u = r.child(t), c = e.operationForChild(t);
                c && (a = a.concat(o.applyOperationDescendantsHelper_(c, i, s, u)));
            }), i && (a = a.concat(i.applyOperation(e, r, n))), a;
        }, e.nextQueryTag_ = 1, e;
    }();
    t.SyncTree = m;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(5), i = n(20), a = function() {
        function e(e, t, n) {
            this.path = e, this.affectedTree = t, this.revert = n, this.type = i.OperationType.ACK_USER_WRITE, 
            this.source = i.OperationSource.User;
        }
        return e.prototype.operationForChild = function(t) {
            if (this.path.isEmpty()) {
                if (null != this.affectedTree.value) return r.assert(this.affectedTree.children.isEmpty(), "affectedTree should not have overlapping affected paths."), 
                this;
                var n = this.affectedTree.subtree(new o.Path(t));
                return new e(o.Path.Empty, n, this.revert);
            }
            return r.assert(this.path.getFront() === t, "operationForChild called for unrelated child."), 
            new e(this.path.popFront(), this.affectedTree, this.revert);
        }, e;
    }();
    t.AckUserWrite = a;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(5), o = n(20), i = function() {
        function e(e, t) {
            this.source = e, this.path = t, this.type = o.OperationType.LISTEN_COMPLETE;
        }
        return e.prototype.operationForChild = function(t) {
            return this.path.isEmpty() ? new e(this.source, r.Path.Empty) : new e(this.source, this.path.popFront());
        }, e;
    }();
    t.ListenComplete = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(20), o = n(68), i = n(5), a = n(0), s = function() {
        function e(e, t, n) {
            this.source = e, this.path = t, this.children = n, this.type = r.OperationType.MERGE;
        }
        return e.prototype.operationForChild = function(t) {
            if (this.path.isEmpty()) {
                var n = this.children.subtree(new i.Path(t));
                return n.isEmpty() ? null : n.value ? new o.Overwrite(this.source, i.Path.Empty, n.value) : new e(this.source, i.Path.Empty, n);
            }
            return a.assert(this.path.getFront() === t, "Can't get a merge for a child not on the path of the operation"), 
            new e(this.source, this.path.popFront(), this.children);
        }, e.prototype.toString = function() {
            return "Operation(" + this.path + ": " + this.source.toString() + " merge: " + this.children.toString() + ")";
        }, e;
    }();
    t.Merge = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(44), o = n(138), i = n(11), a = n(37), s = n(70), u = n(141), c = n(0), l = n(20), h = n(22), p = n(8), d = function() {
        function e(e, t) {
            this.query_ = e, this.eventRegistrations_ = [];
            var n = this.query_.getQueryParams(), c = new r.IndexedFilter(n.getIndex()), l = n.getNodeFilter();
            this.processor_ = new o.ViewProcessor(l);
            var h = t.getServerCache(), p = t.getEventCache(), d = c.updateFullNode(i.ChildrenNode.EMPTY_NODE, h.getNode(), null), f = l.updateFullNode(i.ChildrenNode.EMPTY_NODE, p.getNode(), null), v = new a.CacheNode(d, h.isFullyInitialized(), c.filtersNodes()), m = new a.CacheNode(f, p.isFullyInitialized(), l.filtersNodes());
            this.viewCache_ = new s.ViewCache(m, v), this.eventGenerator_ = new u.EventGenerator(this.query_);
        }
        return e.prototype.getQuery = function() {
            return this.query_;
        }, e.prototype.getServerCache = function() {
            return this.viewCache_.getServerCache().getNode();
        }, e.prototype.getCompleteServerCache = function(e) {
            var t = this.viewCache_.getCompleteServerSnap();
            return t && (this.query_.getQueryParams().loadsAllData() || !e.isEmpty() && !t.getImmediateChild(e.getFront()).isEmpty()) ? t.getChild(e) : null;
        }, e.prototype.isEmpty = function() {
            return 0 === this.eventRegistrations_.length;
        }, e.prototype.addEventRegistration = function(e) {
            this.eventRegistrations_.push(e);
        }, e.prototype.removeEventRegistration = function(e, t) {
            var n = [];
            if (t) {
                c.assert(null == e, "A cancel should cancel all event registrations.");
                var r = this.query_.path;
                this.eventRegistrations_.forEach(function(e) {
                    t = t;
                    var o = e.createCancelEvent(t, r);
                    o && n.push(o);
                });
            }
            if (e) {
                for (var o = [], i = 0; i < this.eventRegistrations_.length; ++i) {
                    var a = this.eventRegistrations_[i];
                    if (a.matches(e)) {
                        if (e.hasAnyCallback()) {
                            o = o.concat(this.eventRegistrations_.slice(i + 1));
                            break;
                        }
                    } else o.push(a);
                }
                this.eventRegistrations_ = o;
            } else this.eventRegistrations_ = [];
            return n;
        }, e.prototype.applyOperation = function(e, t, n) {
            e.type === l.OperationType.MERGE && null !== e.source.queryId && (c.assert(this.viewCache_.getCompleteServerSnap(), "We should always have a full cache before handling merges"), 
            c.assert(this.viewCache_.getCompleteEventSnap(), "Missing event cache, even though we have a server cache"));
            var r = this.viewCache_, o = this.processor_.applyOperation(r, e, t, n);
            return this.processor_.assertIndexed(o.viewCache), c.assert(o.viewCache.getServerCache().isFullyInitialized() || !r.getServerCache().isFullyInitialized(), "Once a server snap is complete, it should never go back"), 
            this.viewCache_ = o.viewCache, this.generateEventsForChanges_(o.changes, o.viewCache.getEventCache().getNode(), null);
        }, e.prototype.getInitialEvents = function(e) {
            var t = this.viewCache_.getEventCache(), n = [];
            t.getNode().isLeafNode() || t.getNode().forEachChild(p.PRIORITY_INDEX, function(e, t) {
                n.push(h.Change.childAddedChange(e, t));
            });
            return t.isFullyInitialized() && n.push(h.Change.valueChange(t.getNode())), this.generateEventsForChanges_(n, t.getNode(), e);
        }, e.prototype.generateEventsForChanges_ = function(e, t, n) {
            var r = n ? [ n ] : this.eventRegistrations_;
            return this.eventGenerator_.generateEventsForChanges(e, t, r);
        }, e;
    }();
    t.View = d;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(20), o = n(0), i = n(139), a = n(22), s = n(11), u = n(28), c = n(43), l = n(5), h = n(140), p = function() {
        function e(e, t) {
            this.viewCache = e, this.changes = t;
        }
        return e;
    }();
    t.ProcessorResult = p;
    var d = function() {
        function e(e) {
            this.filter_ = e;
        }
        return e.prototype.assertIndexed = function(e) {
            o.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()), "Event snap not indexed"), 
            o.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()), "Server snap not indexed");
        }, e.prototype.applyOperation = function(t, n, a, s) {
            var u, c, l = new i.ChildChangeAccumulator();
            if (n.type === r.OperationType.OVERWRITE) {
                var h = n;
                h.source.fromUser ? u = this.applyUserOverwrite_(t, h.path, h.snap, a, s, l) : (o.assert(h.source.fromServer, "Unknown source."), 
                c = h.source.tagged || t.getServerCache().isFiltered() && !h.path.isEmpty(), u = this.applyServerOverwrite_(t, h.path, h.snap, a, s, c, l));
            } else if (n.type === r.OperationType.MERGE) {
                var d = n;
                d.source.fromUser ? u = this.applyUserMerge_(t, d.path, d.children, a, s, l) : (o.assert(d.source.fromServer, "Unknown source."), 
                c = d.source.tagged || t.getServerCache().isFiltered(), u = this.applyServerMerge_(t, d.path, d.children, a, s, c, l));
            } else if (n.type === r.OperationType.ACK_USER_WRITE) {
                var f = n;
                u = f.revert ? this.revertUserWrite_(t, f.path, a, s, l) : this.ackUserWrite_(t, f.path, f.affectedTree, a, s, l);
            } else {
                if (n.type !== r.OperationType.LISTEN_COMPLETE) throw o.assertionError("Unknown operation type: " + n.type);
                u = this.listenComplete_(t, n.path, a, l);
            }
            var v = l.getChanges();
            return e.maybeAddValueEvent_(t, u, v), new p(u, v);
        }, e.maybeAddValueEvent_ = function(e, t, n) {
            var r = t.getEventCache();
            if (r.isFullyInitialized()) {
                var o = r.getNode().isLeafNode() || r.getNode().isEmpty(), i = e.getCompleteEventSnap();
                (n.length > 0 || !e.getEventCache().isFullyInitialized() || o && !r.getNode().equals(i) || !r.getNode().getPriority().equals(i.getPriority())) && n.push(a.Change.valueChange(t.getCompleteEventSnap()));
            }
        }, e.prototype.generateEventCacheAfterServerEvent_ = function(e, t, n, r, i) {
            var a = e.getEventCache();
            if (null != n.shadowingWrite(t)) return e;
            var u = void 0, c = void 0;
            if (t.isEmpty()) if (o.assert(e.getServerCache().isFullyInitialized(), "If change path is empty, we must have complete server data"), 
            e.getServerCache().isFiltered()) {
                var l = e.getCompleteServerSnap(), h = l instanceof s.ChildrenNode ? l : s.ChildrenNode.EMPTY_NODE, p = n.calcCompleteEventChildren(h);
                u = this.filter_.updateFullNode(e.getEventCache().getNode(), p, i);
            } else {
                var d = n.calcCompleteEventCache(e.getCompleteServerSnap());
                u = this.filter_.updateFullNode(e.getEventCache().getNode(), d, i);
            } else {
                var f = t.getFront();
                if (".priority" == f) {
                    o.assert(1 == t.getLength(), "Can't have a priority with additional path components");
                    var v = a.getNode();
                    c = e.getServerCache().getNode();
                    var m = n.calcEventCacheAfterServerOverwrite(t, v, c);
                    u = null != m ? this.filter_.updatePriority(v, m) : a.getNode();
                } else {
                    var y = t.popFront(), g = void 0;
                    if (a.isCompleteForChild(f)) {
                        c = e.getServerCache().getNode();
                        var _ = n.calcEventCacheAfterServerOverwrite(t, a.getNode(), c);
                        g = null != _ ? a.getNode().getImmediateChild(f).updateChild(y, _) : a.getNode().getImmediateChild(f);
                    } else g = n.calcCompleteChild(f, e.getServerCache());
                    u = null != g ? this.filter_.updateChild(a.getNode(), f, g, y, r, i) : a.getNode();
                }
            }
            return e.updateEventSnap(u, a.isFullyInitialized() || t.isEmpty(), this.filter_.filtersNodes());
        }, e.prototype.applyServerOverwrite_ = function(e, t, n, r, o, i, a) {
            var s, u = e.getServerCache(), c = i ? this.filter_ : this.filter_.getIndexedFilter();
            if (t.isEmpty()) s = c.updateFullNode(u.getNode(), n, null); else if (c.filtersNodes() && !u.isFiltered()) {
                var l = u.getNode().updateChild(t, n);
                s = c.updateFullNode(u.getNode(), l, null);
            } else {
                var p = t.getFront();
                if (!u.isCompleteForPath(t) && t.getLength() > 1) return e;
                var d = t.popFront(), f = u.getNode().getImmediateChild(p).updateChild(d, n);
                s = ".priority" == p ? c.updatePriority(u.getNode(), f) : c.updateChild(u.getNode(), p, f, d, h.NO_COMPLETE_CHILD_SOURCE, null);
            }
            var v = e.updateServerSnap(s, u.isFullyInitialized() || t.isEmpty(), c.filtersNodes()), m = new h.WriteTreeCompleteChildSource(r, v, o);
            return this.generateEventCacheAfterServerEvent_(v, t, r, m, a);
        }, e.prototype.applyUserOverwrite_ = function(e, t, n, r, o, i) {
            var a, u, c = e.getEventCache(), l = new h.WriteTreeCompleteChildSource(r, e, o);
            if (t.isEmpty()) u = this.filter_.updateFullNode(e.getEventCache().getNode(), n, i), 
            a = e.updateEventSnap(u, !0, this.filter_.filtersNodes()); else {
                var p = t.getFront();
                if (".priority" === p) u = this.filter_.updatePriority(e.getEventCache().getNode(), n), 
                a = e.updateEventSnap(u, c.isFullyInitialized(), c.isFiltered()); else {
                    var d = t.popFront(), f = c.getNode().getImmediateChild(p), v = void 0;
                    if (d.isEmpty()) v = n; else {
                        var m = l.getCompleteChild(p);
                        v = null != m ? ".priority" === d.getBack() && m.getChild(d.parent()).isEmpty() ? m : m.updateChild(d, n) : s.ChildrenNode.EMPTY_NODE;
                    }
                    if (f.equals(v)) a = e; else {
                        var y = this.filter_.updateChild(c.getNode(), p, v, d, l, i);
                        a = e.updateEventSnap(y, c.isFullyInitialized(), this.filter_.filtersNodes());
                    }
                }
            }
            return a;
        }, e.cacheHasChild_ = function(e, t) {
            return e.getEventCache().isCompleteForChild(t);
        }, e.prototype.applyUserMerge_ = function(t, n, r, o, i, a) {
            var s = this, u = t;
            return r.foreach(function(r, c) {
                var l = n.child(r);
                e.cacheHasChild_(t, l.getFront()) && (u = s.applyUserOverwrite_(u, l, c, o, i, a));
            }), r.foreach(function(r, c) {
                var l = n.child(r);
                e.cacheHasChild_(t, l.getFront()) || (u = s.applyUserOverwrite_(u, l, c, o, i, a));
            }), u;
        }, e.prototype.applyMerge_ = function(e, t) {
            return t.foreach(function(t, n) {
                e = e.updateChild(t, n);
            }), e;
        }, e.prototype.applyServerMerge_ = function(e, t, n, r, o, i, a) {
            var s = this;
            if (e.getServerCache().getNode().isEmpty() && !e.getServerCache().isFullyInitialized()) return e;
            var u, h = e;
            u = t.isEmpty() ? n : c.ImmutableTree.Empty.setTree(t, n);
            var p = e.getServerCache().getNode();
            return u.children.inorderTraversal(function(t, n) {
                if (p.hasChild(t)) {
                    var u = e.getServerCache().getNode().getImmediateChild(t), c = s.applyMerge_(u, n);
                    h = s.applyServerOverwrite_(h, new l.Path(t), c, r, o, i, a);
                }
            }), u.children.inorderTraversal(function(t, n) {
                var u = !e.getServerCache().isCompleteForChild(t) && null == n.value;
                if (!p.hasChild(t) && !u) {
                    var c = e.getServerCache().getNode().getImmediateChild(t), d = s.applyMerge_(c, n);
                    h = s.applyServerOverwrite_(h, new l.Path(t), d, r, o, i, a);
                }
            }), h;
        }, e.prototype.ackUserWrite_ = function(e, t, n, r, o, i) {
            if (null != r.shadowingWrite(t)) return e;
            var a = e.getServerCache().isFiltered(), s = e.getServerCache();
            if (null != n.value) {
                if (t.isEmpty() && s.isFullyInitialized() || s.isCompleteForPath(t)) return this.applyServerOverwrite_(e, t, s.getNode().getChild(t), r, o, a, i);
                if (t.isEmpty()) {
                    var h = c.ImmutableTree.Empty;
                    return s.getNode().forEachChild(u.KEY_INDEX, function(e, t) {
                        h = h.set(new l.Path(e), t);
                    }), this.applyServerMerge_(e, t, h, r, o, a, i);
                }
                return e;
            }
            var p = c.ImmutableTree.Empty;
            return n.foreach(function(e, n) {
                var r = t.child(e);
                s.isCompleteForPath(r) && (p = p.set(e, s.getNode().getChild(r)));
            }), this.applyServerMerge_(e, t, p, r, o, a, i);
        }, e.prototype.listenComplete_ = function(e, t, n, r) {
            var o = e.getServerCache(), i = e.updateServerSnap(o.getNode(), o.isFullyInitialized() || t.isEmpty(), o.isFiltered());
            return this.generateEventCacheAfterServerEvent_(i, t, n, h.NO_COMPLETE_CHILD_SOURCE, r);
        }, e.prototype.revertUserWrite_ = function(e, t, n, r, i) {
            var a;
            if (null != n.shadowingWrite(t)) return e;
            var u = new h.WriteTreeCompleteChildSource(n, e, r), c = e.getEventCache().getNode(), p = void 0;
            if (t.isEmpty() || ".priority" === t.getFront()) {
                var d = void 0;
                if (e.getServerCache().isFullyInitialized()) d = n.calcCompleteEventCache(e.getCompleteServerSnap()); else {
                    var f = e.getServerCache().getNode();
                    o.assert(f instanceof s.ChildrenNode, "serverChildren would be complete if leaf node"), 
                    d = n.calcCompleteEventChildren(f);
                }
                d = d, p = this.filter_.updateFullNode(c, d, i);
            } else {
                var v = t.getFront(), m = n.calcCompleteChild(v, e.getServerCache());
                null == m && e.getServerCache().isCompleteForChild(v) && (m = c.getImmediateChild(v)), 
                (p = null != m ? this.filter_.updateChild(c, v, m, t.popFront(), u, i) : e.getEventCache().getNode().hasChild(v) ? this.filter_.updateChild(c, v, s.ChildrenNode.EMPTY_NODE, t.popFront(), u, i) : c).isEmpty() && e.getServerCache().isFullyInitialized() && (a = n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode() && (p = this.filter_.updateFullNode(p, a, i));
            }
            return a = e.getServerCache().isFullyInitialized() || null != n.shadowingWrite(l.Path.Empty), 
            e.updateEventSnap(p, a, this.filter_.filtersNodes());
        }, e;
    }();
    t.ViewProcessor = d;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(22), i = n(0), a = function() {
        function e() {
            this.changeMap_ = {};
        }
        return e.prototype.trackChildChange = function(e) {
            var t = e.type, n = e.childName;
            i.assert(t == o.Change.CHILD_ADDED || t == o.Change.CHILD_CHANGED || t == o.Change.CHILD_REMOVED, "Only child changes supported for tracking"), 
            i.assert(".priority" !== n, "Only non-priority child changes can be tracked.");
            var a = r.safeGet(this.changeMap_, n);
            if (a) {
                var s = a.type;
                if (t == o.Change.CHILD_ADDED && s == o.Change.CHILD_REMOVED) this.changeMap_[n] = o.Change.childChangedChange(n, e.snapshotNode, a.snapshotNode); else if (t == o.Change.CHILD_REMOVED && s == o.Change.CHILD_ADDED) delete this.changeMap_[n]; else if (t == o.Change.CHILD_REMOVED && s == o.Change.CHILD_CHANGED) this.changeMap_[n] = o.Change.childRemovedChange(n, a.oldSnap); else if (t == o.Change.CHILD_CHANGED && s == o.Change.CHILD_ADDED) this.changeMap_[n] = o.Change.childAddedChange(n, e.snapshotNode); else {
                    if (t != o.Change.CHILD_CHANGED || s != o.Change.CHILD_CHANGED) throw i.assertionError("Illegal combination of changes: " + e + " occurred after " + a);
                    this.changeMap_[n] = o.Change.childChangedChange(n, e.snapshotNode, a.oldSnap);
                }
            } else this.changeMap_[n] = e;
        }, e.prototype.getChanges = function() {
            return r.getValues(this.changeMap_);
        }, e;
    }();
    t.ChildChangeAccumulator = a;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(37), o = function() {
        function e() {}
        return e.prototype.getCompleteChild = function(e) {
            return null;
        }, e.prototype.getChildAfterChild = function(e, t, n) {
            return null;
        }, e;
    }();
    t.NoCompleteChildSource_ = o, t.NO_COMPLETE_CHILD_SOURCE = new o();
    var i = function() {
        function e(e, t, n) {
            void 0 === n && (n = null), this.writes_ = e, this.viewCache_ = t, this.optCompleteServerCache_ = n;
        }
        return e.prototype.getCompleteChild = function(e) {
            var t = this.viewCache_.getEventCache();
            if (t.isCompleteForChild(e)) return t.getNode().getImmediateChild(e);
            var n = null != this.optCompleteServerCache_ ? new r.CacheNode(this.optCompleteServerCache_, !0, !1) : this.viewCache_.getServerCache();
            return this.writes_.calcCompleteChild(e, n);
        }, e.prototype.getChildAfterChild = function(e, t, n) {
            var r = null != this.optCompleteServerCache_ ? this.optCompleteServerCache_ : this.viewCache_.getCompleteServerSnap(), o = this.writes_.calcIndexedSlice(r, t, 1, n, e);
            return 0 === o.length ? null : o[0];
        }, e;
    }();
    t.WriteTreeCompleteChildSource = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(12), o = n(22), i = n(0), a = function() {
        function e(e) {
            this.query_ = e, this.index_ = this.query_.getQueryParams().getIndex();
        }
        return e.prototype.generateEventsForChanges = function(e, t, n) {
            var r = this, i = [], a = [];
            return e.forEach(function(e) {
                e.type === o.Change.CHILD_CHANGED && r.index_.indexedValueChanged(e.oldSnap, e.snapshotNode) && a.push(o.Change.childMovedChange(e.childName, e.snapshotNode));
            }), this.generateEventsForType_(i, o.Change.CHILD_REMOVED, e, n, t), this.generateEventsForType_(i, o.Change.CHILD_ADDED, e, n, t), 
            this.generateEventsForType_(i, o.Change.CHILD_MOVED, a, n, t), this.generateEventsForType_(i, o.Change.CHILD_CHANGED, e, n, t), 
            this.generateEventsForType_(i, o.Change.VALUE, e, n, t), i;
        }, e.prototype.generateEventsForType_ = function(e, t, n, r, o) {
            var i = this, a = n.filter(function(e) {
                return e.type === t;
            });
            a.sort(this.compareChanges_.bind(this)), a.forEach(function(t) {
                var n = i.materializeSingleChange_(t, o);
                r.forEach(function(r) {
                    r.respondsTo(t.type) && e.push(r.createEvent(n, i.query_));
                });
            });
        }, e.prototype.materializeSingleChange_ = function(e, t) {
            return "value" === e.type || "child_removed" === e.type ? e : (e.prevName = t.getPredecessorChildName(e.childName, e.snapshotNode, this.index_), 
            e);
        }, e.prototype.compareChanges_ = function(e, t) {
            if (null == e.childName || null == t.childName) throw i.assertionError("Should only compare child_ events.");
            var n = new r.NamedNode(e.childName, e.snapshotNode), o = new r.NamedNode(t.childName, t.snapshotNode);
            return this.index_.compare(n, o);
        }, e;
    }();
    t.EventGenerator = a;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(0), i = n(5), a = n(143), s = n(8), u = n(11), c = function() {
        function e() {
            this.visibleWrites_ = a.CompoundWrite.Empty, this.allWrites_ = [], this.lastWriteId_ = -1;
        }
        return e.prototype.childWrites = function(e) {
            return new l(e, this);
        }, e.prototype.addOverwrite = function(e, t, n, r) {
            o.assert(n > this.lastWriteId_, "Stacking an older write on top of newer ones"), 
            void 0 === r && (r = !0), this.allWrites_.push({
                path: e,
                snap: t,
                writeId: n,
                visible: r
            }), r && (this.visibleWrites_ = this.visibleWrites_.addWrite(e, t)), this.lastWriteId_ = n;
        }, e.prototype.addMerge = function(e, t, n) {
            o.assert(n > this.lastWriteId_, "Stacking an older merge on top of newer ones"), 
            this.allWrites_.push({
                path: e,
                children: t,
                writeId: n,
                visible: !0
            }), this.visibleWrites_ = this.visibleWrites_.addWrites(e, t), this.lastWriteId_ = n;
        }, e.prototype.getWrite = function(e) {
            for (var t = 0; t < this.allWrites_.length; t++) {
                var n = this.allWrites_[t];
                if (n.writeId === e) return n;
            }
            return null;
        }, e.prototype.removeWrite = function(e) {
            var t = this, n = this.allWrites_.findIndex(function(t) {
                return t.writeId === e;
            });
            o.assert(n >= 0, "removeWrite called with nonexistent writeId.");
            var i = this.allWrites_[n];
            this.allWrites_.splice(n, 1);
            for (var a = i.visible, s = !1, u = this.allWrites_.length - 1; a && u >= 0; ) {
                var c = this.allWrites_[u];
                c.visible && (u >= n && this.recordContainsPath_(c, i.path) ? a = !1 : i.path.contains(c.path) && (s = !0)), 
                u--;
            }
            if (a) {
                if (s) return this.resetTree_(), !0;
                if (i.snap) this.visibleWrites_ = this.visibleWrites_.removeWrite(i.path); else {
                    var l = i.children;
                    r.forEach(l, function(e) {
                        t.visibleWrites_ = t.visibleWrites_.removeWrite(i.path.child(e));
                    });
                }
                return !0;
            }
            return !1;
        }, e.prototype.getCompleteWriteData = function(e) {
            return this.visibleWrites_.getCompleteNode(e);
        }, e.prototype.calcCompleteEventCache = function(t, n, r, o) {
            if (r || o) {
                var a = this.visibleWrites_.childCompoundWrite(t);
                if (!o && a.isEmpty()) return n;
                if (o || null != n || a.hasCompleteWrite(i.Path.Empty)) {
                    var s = function(e) {
                        return (e.visible || o) && (!r || !~r.indexOf(e.writeId)) && (e.path.contains(t) || t.contains(e.path));
                    }, c = e.layerTree_(this.allWrites_, s, t);
                    p = n || u.ChildrenNode.EMPTY_NODE;
                    return c.apply(p);
                }
                return null;
            }
            var l = this.visibleWrites_.getCompleteNode(t);
            if (null != l) return l;
            var h = this.visibleWrites_.childCompoundWrite(t);
            if (h.isEmpty()) return n;
            if (null != n || h.hasCompleteWrite(i.Path.Empty)) {
                var p = n || u.ChildrenNode.EMPTY_NODE;
                return h.apply(p);
            }
            return null;
        }, e.prototype.calcCompleteEventChildren = function(e, t) {
            var n = u.ChildrenNode.EMPTY_NODE, r = this.visibleWrites_.getCompleteNode(e);
            if (r) return r.isLeafNode() || r.forEachChild(s.PRIORITY_INDEX, function(e, t) {
                n = n.updateImmediateChild(e, t);
            }), n;
            if (t) {
                var o = this.visibleWrites_.childCompoundWrite(e);
                return t.forEachChild(s.PRIORITY_INDEX, function(e, t) {
                    var r = o.childCompoundWrite(new i.Path(e)).apply(t);
                    n = n.updateImmediateChild(e, r);
                }), o.getCompleteChildren().forEach(function(e) {
                    n = n.updateImmediateChild(e.name, e.node);
                }), n;
            }
            return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e) {
                n = n.updateImmediateChild(e.name, e.node);
            }), n;
        }, e.prototype.calcEventCacheAfterServerOverwrite = function(e, t, n, r) {
            o.assert(n || r, "Either existingEventSnap or existingServerSnap must exist");
            var i = e.child(t);
            if (this.visibleWrites_.hasCompleteWrite(i)) return null;
            var a = this.visibleWrites_.childCompoundWrite(i);
            return a.isEmpty() ? r.getChild(t) : a.apply(r.getChild(t));
        }, e.prototype.calcCompleteChild = function(e, t, n) {
            var r = e.child(t), o = this.visibleWrites_.getCompleteNode(r);
            return null != o ? o : n.isCompleteForChild(t) ? this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)) : null;
        }, e.prototype.shadowingWrite = function(e) {
            return this.visibleWrites_.getCompleteNode(e);
        }, e.prototype.calcIndexedSlice = function(e, t, n, r, o, a) {
            var s, u = this.visibleWrites_.childCompoundWrite(e), c = u.getCompleteNode(i.Path.Empty);
            if (null != c) s = c; else {
                if (null == t) return [];
                s = u.apply(t);
            }
            if ((s = s.withIndex(a)).isEmpty() || s.isLeafNode()) return [];
            for (var l = [], h = a.getCompare(), p = o ? s.getReverseIteratorFrom(n, a) : s.getIteratorFrom(n, a), d = p.getNext(); d && l.length < r; ) 0 !== h(d, n) && l.push(d), 
            d = p.getNext();
            return l;
        }, e.prototype.recordContainsPath_ = function(e, t) {
            return e.snap ? e.path.contains(t) : !!r.findKey(e.children, function(n, r) {
                return e.path.child(r).contains(t);
            });
        }, e.prototype.resetTree_ = function() {
            this.visibleWrites_ = e.layerTree_(this.allWrites_, e.DefaultFilter_, i.Path.Empty), 
            this.allWrites_.length > 0 ? this.lastWriteId_ = this.allWrites_[this.allWrites_.length - 1].writeId : this.lastWriteId_ = -1;
        }, e.DefaultFilter_ = function(e) {
            return e.visible;
        }, e.layerTree_ = function(e, t, n) {
            for (var s = a.CompoundWrite.Empty, u = 0; u < e.length; ++u) {
                var c = e[u];
                if (t(c)) {
                    var l = c.path, h = void 0;
                    if (c.snap) n.contains(l) ? (h = i.Path.relativePath(n, l), s = s.addWrite(h, c.snap)) : l.contains(n) && (h = i.Path.relativePath(l, n), 
                    s = s.addWrite(i.Path.Empty, c.snap.getChild(h))); else {
                        if (!c.children) throw o.assertionError("WriteRecord should have .snap or .children");
                        if (n.contains(l)) h = i.Path.relativePath(n, l), s = s.addWrites(h, c.children); else if (l.contains(n)) if ((h = i.Path.relativePath(l, n)).isEmpty()) s = s.addWrites(i.Path.Empty, c.children); else {
                            var p = r.safeGet(c.children, h.getFront());
                            if (p) {
                                var d = p.getChild(h.popFront());
                                s = s.addWrite(i.Path.Empty, d);
                            }
                        }
                    }
                }
            }
            return s;
        }, e;
    }();
    t.WriteTree = c;
    var l = function() {
        function e(e, t) {
            this.treePath_ = e, this.writeTree_ = t;
        }
        return e.prototype.calcCompleteEventCache = function(e, t, n) {
            return this.writeTree_.calcCompleteEventCache(this.treePath_, e, t, n);
        }, e.prototype.calcCompleteEventChildren = function(e) {
            return this.writeTree_.calcCompleteEventChildren(this.treePath_, e);
        }, e.prototype.calcEventCacheAfterServerOverwrite = function(e, t, n) {
            return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_, e, t, n);
        }, e.prototype.shadowingWrite = function(e) {
            return this.writeTree_.shadowingWrite(this.treePath_.child(e));
        }, e.prototype.calcIndexedSlice = function(e, t, n, r, o) {
            return this.writeTree_.calcIndexedSlice(this.treePath_, e, t, n, r, o);
        }, e.prototype.calcCompleteChild = function(e, t) {
            return this.writeTree_.calcCompleteChild(this.treePath_, e, t);
        }, e.prototype.child = function(t) {
            return new e(this.treePath_.child(t), this.writeTree_);
        }, e;
    }();
    t.WriteTreeRef = l;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(43), o = n(5), i = n(0), a = n(12), s = n(8), u = n(0), c = function() {
        function e(e) {
            this.writeTree_ = e;
        }
        return e.prototype.addWrite = function(t, n) {
            if (t.isEmpty()) return new e(new r.ImmutableTree(n));
            var i = this.writeTree_.findRootMostValueAndPath(t);
            if (null != i) {
                var a = i.path, s = i.value, u = o.Path.relativePath(a, t);
                return s = s.updateChild(u, n), new e(this.writeTree_.set(a, s));
            }
            var c = new r.ImmutableTree(n);
            return new e(this.writeTree_.setTree(t, c));
        }, e.prototype.addWrites = function(e, t) {
            var n = this;
            return i.forEach(t, function(t, r) {
                n = n.addWrite(e.child(t), r);
            }), n;
        }, e.prototype.removeWrite = function(t) {
            return t.isEmpty() ? e.Empty : new e(this.writeTree_.setTree(t, r.ImmutableTree.Empty));
        }, e.prototype.hasCompleteWrite = function(e) {
            return null != this.getCompleteNode(e);
        }, e.prototype.getCompleteNode = function(e) {
            var t = this.writeTree_.findRootMostValueAndPath(e);
            return null != t ? this.writeTree_.get(t.path).getChild(o.Path.relativePath(t.path, e)) : null;
        }, e.prototype.getCompleteChildren = function() {
            var e = [], t = this.writeTree_.value;
            return null != t ? t.isLeafNode() || t.forEachChild(s.PRIORITY_INDEX, function(t, n) {
                e.push(new a.NamedNode(t, n));
            }) : this.writeTree_.children.inorderTraversal(function(t, n) {
                null != n.value && e.push(new a.NamedNode(t, n.value));
            }), e;
        }, e.prototype.childCompoundWrite = function(t) {
            if (t.isEmpty()) return this;
            var n = this.getCompleteNode(t);
            return new e(null != n ? new r.ImmutableTree(n) : this.writeTree_.subtree(t));
        }, e.prototype.isEmpty = function() {
            return this.writeTree_.isEmpty();
        }, e.prototype.apply = function(t) {
            return e.applySubtreeWrite_(o.Path.Empty, this.writeTree_, t);
        }, e.Empty = new e(new r.ImmutableTree(null)), e.applySubtreeWrite_ = function(t, n, r) {
            if (null != n.value) return r.updateChild(t, n.value);
            var o = null;
            return n.children.inorderTraversal(function(n, i) {
                ".priority" === n ? (u.assert(null !== i.value, "Priority writes must always be leaf nodes"), 
                o = i.value) : r = e.applySubtreeWrite_(t.child(n), i, r);
            }), r.getChild(t).isEmpty() || null === o || (r = r.updateChild(t.child(".priority"), o)), 
            r;
        }, e;
    }();
    t.CompoundWrite = c;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(11), o = function() {
        function e() {
            this.rootNode_ = r.ChildrenNode.EMPTY_NODE;
        }
        return e.prototype.getNode = function(e) {
            return this.rootNode_.getChild(e);
        }, e.prototype.updateSnapshot = function(e, t) {
            this.rootNode_ = this.rootNode_.updateChild(e, t);
        }, e;
    }();
    t.SnapshotHolder = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3), o = function() {
        function e(e) {
            this.app_ = e;
        }
        return e.prototype.getToken = function(e) {
            return this.app_.INTERNAL.getToken(e).then(null, function(e) {
                return e && "auth/token-not-initialized" === e.code ? (r.log("Got auth/token-not-initialized error.  Treating as null token."), 
                null) : Promise.reject(e);
            });
        }, e.prototype.addTokenChangeListener = function(e) {
            this.app_.INTERNAL.addAuthTokenListener(e);
        }, e.prototype.removeTokenChangeListener = function(e) {
            this.app_.INTERNAL.removeAuthTokenListener(e);
        }, e.prototype.notifyForInvalidToken = function() {
            var e = 'Provided authentication credentials for the app named "' + this.app_.name + '" are invalid. This usually indicates your app was not initialized correctly. ';
            "credential" in this.app_.options ? e += 'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : "serviceAccount" in this.app_.options ? e += 'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : e += 'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.', 
            r.warn(e);
        }, e;
    }();
    t.AuthTokenProvider = o;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(0), i = function() {
        function e() {
            this.counters_ = {};
        }
        return e.prototype.incrementCounter = function(e, t) {
            void 0 === t && (t = 1), o.contains(this.counters_, e) || (this.counters_[e] = 0), 
            this.counters_[e] += t;
        }, e.prototype.get = function() {
            return r.deepCopy(this.counters_);
        }, e;
    }();
    t.StatsCollection = i;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(3), i = n(71), a = 1e4, s = 3e4, u = 3e5, c = function() {
        function e(e, t) {
            this.server_ = t, this.statsToReport_ = {}, this.statsListener_ = new i.StatsListener(e);
            var n = a + (s - a) * Math.random();
            o.setTimeoutNonBlocking(this.reportStats_.bind(this), Math.floor(n));
        }
        return e.prototype.includeStat = function(e) {
            this.statsToReport_[e] = !0;
        }, e.prototype.reportStats_ = function() {
            var e = this, t = this.statsListener_.get(), n = {}, i = !1;
            r.forEach(t, function(t, o) {
                o > 0 && r.contains(e.statsToReport_, t) && (n[t] = o, i = !0);
            }), i && this.server_.reportStats(n), o.setTimeoutNonBlocking(this.reportStats_.bind(this), Math.floor(2 * Math.random() * u));
        }, e;
    }();
    t.StatsReporter = c;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3), o = function() {
        function e() {
            this.eventLists_ = [], this.recursionDepth_ = 0;
        }
        return e.prototype.queueEvents = function(e) {
            for (var t = null, n = 0; n < e.length; n++) {
                var r = e[n], o = r.getPath();
                null === t || o.equals(t.getPath()) || (this.eventLists_.push(t), t = null), null === t && (t = new i(o)), 
                t.add(r);
            }
            t && this.eventLists_.push(t);
        }, e.prototype.raiseEventsAtPath = function(e, t) {
            this.queueEvents(t), this.raiseQueuedEventsMatchingPredicate_(function(t) {
                return t.equals(e);
            });
        }, e.prototype.raiseEventsForChangedPath = function(e, t) {
            this.queueEvents(t), this.raiseQueuedEventsMatchingPredicate_(function(t) {
                return t.contains(e) || e.contains(t);
            });
        }, e.prototype.raiseQueuedEventsMatchingPredicate_ = function(e) {
            this.recursionDepth_++;
            for (var t = !0, n = 0; n < this.eventLists_.length; n++) {
                var r = this.eventLists_[n];
                if (r) e(r.getPath()) ? (this.eventLists_[n].raise(), this.eventLists_[n] = null) : t = !1;
            }
            t && (this.eventLists_ = []), this.recursionDepth_--;
        }, e;
    }();
    t.EventQueue = o;
    var i = function() {
        function e(e) {
            this.path_ = e, this.events_ = [];
        }
        return e.prototype.add = function(e) {
            this.events_.push(e);
        }, e.prototype.raise = function() {
            for (var e = 0; e < this.events_.length; e++) {
                var t = this.events_[e];
                if (null !== t) {
                    this.events_[e] = null;
                    var n = t.getEventRunner();
                    r.logger && r.log("event: " + t.toString()), r.exceptionGuard(n);
                }
            }
        }, e.prototype.getPath = function() {
            return this.path_;
        }, e;
    }();
    t.EventList = i;
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(73), a = n(0), s = function(e) {
        function t() {
            var t, n, r = e.call(this, [ "visible" ]) || this;
            return "undefined" != typeof document && void 0 !== document.addEventListener && (void 0 !== document.hidden ? (n = "visibilitychange", 
            t = "hidden") : void 0 !== document.mozHidden ? (n = "mozvisibilitychange", t = "mozHidden") : void 0 !== document.msHidden ? (n = "msvisibilitychange", 
            t = "msHidden") : void 0 !== document.webkitHidden && (n = "webkitvisibilitychange", 
            t = "webkitHidden")), r.visible_ = !0, n && document.addEventListener(n, function() {
                var e = !document[t];
                e !== r.visible_ && (r.visible_ = e, r.trigger("visible", e));
            }, !1), r;
        }
        return o(t, e), t.getInstance = function() {
            return new t();
        }, t.prototype.getInitialEvent = function(e) {
            return a.assert("visible" === e, "Unknown event type: " + e), [ this.visible_ ];
        }, t;
    }(i.EventEmitter);
    t.VisibilityMonitor = s;
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(0), a = n(73), s = n(0), u = function(e) {
        function t() {
            var t = e.call(this, [ "online" ]) || this;
            return t.online_ = !0, "undefined" == typeof window || void 0 === window.addEventListener || s.isMobileCordova() || (window.addEventListener("online", function() {
                t.online_ || (t.online_ = !0, t.trigger("online", !0));
            }, !1), window.addEventListener("offline", function() {
                t.online_ && (t.online_ = !1, t.trigger("online", !1));
            }, !1)), t;
        }
        return o(t, e), t.getInstance = function() {
            return new t();
        }, t.prototype.getInitialEvent = function(e) {
            return i.assert("online" === e, "Unknown event type: " + e), [ this.online_ ];
        }, t.prototype.currentlyOnline = function() {
            return this.online_;
        }, t;
    }(a.EventEmitter);
    t.OnlineMonitor = u;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(75), o = n(76), i = n(3), a = function() {
        function e(e) {
            this.initTransports_(e);
        }
        return Object.defineProperty(e, "ALL_TRANSPORTS", {
            get: function() {
                return [ r.BrowserPollConnection, o.WebSocketConnection ];
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.initTransports_ = function(t) {
            var n = o.WebSocketConnection && o.WebSocketConnection.isAvailable(), r = n && !o.WebSocketConnection.previouslyFailed();
            if (t.webSocketOnly && (n || i.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."), 
            r = !0), r) this.transports_ = [ o.WebSocketConnection ]; else {
                var a = this.transports_ = [];
                i.each(e.ALL_TRANSPORTS, function(e, t) {
                    t && t.isAvailable() && a.push(t);
                });
            }
        }, e.prototype.initialTransport = function() {
            if (this.transports_.length > 0) return this.transports_[0];
            throw new Error("No transports available");
        }, e.prototype.upgradeTransport = function() {
            return this.transports_.length > 1 ? this.transports_[1] : null;
        }, e;
    }();
    t.TransportManager = a;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(3), o = function() {
        function e(e) {
            this.onMessage_ = e, this.pendingResponses = [], this.currentResponseNum = 0, this.closeAfterResponse = -1, 
            this.onClose = null;
        }
        return e.prototype.closeAfter = function(e, t) {
            this.closeAfterResponse = e, this.onClose = t, this.closeAfterResponse < this.currentResponseNum && (this.onClose(), 
            this.onClose = null);
        }, e.prototype.handleResponse = function(e, t) {
            var n = this;
            this.pendingResponses[e] = t;
            for (var o = function() {
                var e = i.pendingResponses[i.currentResponseNum];
                delete i.pendingResponses[i.currentResponseNum];
                for (var t = function(t) {
                    e[t] && r.exceptionGuard(function() {
                        n.onMessage_(e[t]);
                    });
                }, o = 0; o < e.length; ++o) t(o);
                if (i.currentResponseNum === i.closeAfterResponse) return i.onClose && (i.onClose(), 
                i.onClose = null), "break";
                i.currentResponseNum++;
            }, i = this; this.pendingResponses[this.currentResponseNum]; ) {
                if ("break" === o()) break;
            }
        }, e;
    }();
    t.PacketReceiver = o;
}, function(e, t, n) {
    "use strict";
    var r, o = this && this.__extends || (r = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    });
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(0), a = n(3), s = n(0), u = n(0), c = n(0), l = function(e) {
        function t(t, n, r) {
            var o = e.call(this) || this;
            return o.repoInfo_ = t, o.onDataUpdate_ = n, o.authTokenProvider_ = r, o.log_ = a.logWrapper("p:rest:"), 
            o.listens_ = {}, o;
        }
        return o(t, e), t.prototype.reportStats = function(e) {
            throw new Error("Method not implemented.");
        }, t.getListenId_ = function(e, t) {
            return void 0 !== t ? "tag$" + t : (i.assert(e.getQueryParams().isDefault(), "should have a tag if it's not a default query."), 
            e.path.toString());
        }, t.prototype.listen = function(e, n, r, o) {
            var i = this, a = e.path.toString();
            this.log_("Listen called for " + a + " " + e.queryIdentifier());
            var s = t.getListenId_(e, r), c = {};
            this.listens_[s] = c;
            var l = e.getQueryParams().toRestQueryStringParameters();
            this.restRequest_(a + ".json", l, function(e, t) {
                var n = t;
                (404 === e && (n = null, e = null), null === e && i.onDataUpdate_(a, n, !1, r), 
                u.safeGet(i.listens_, s) === c) && o(e ? 401 == e ? "permission_denied" : "rest_error:" + e : "ok", null);
            });
        }, t.prototype.unlisten = function(e, n) {
            var r = t.getListenId_(e, n);
            delete this.listens_[r];
        }, t.prototype.refreshAuthToken = function(e) {}, t.prototype.restRequest_ = function(e, t, n) {
            var r = this;
            void 0 === t && (t = {}), t.format = "export", this.authTokenProvider_.getToken(!1).then(function(o) {
                var i = o && o.accessToken;
                i && (t.auth = i);
                var u = (r.repoInfo_.secure ? "https://" : "http://") + r.repoInfo_.host + e + "?" + c.querystring(t);
                r.log_("Sending REST request for " + u);
                var l = new XMLHttpRequest();
                l.onreadystatechange = function() {
                    if (n && 4 === l.readyState) {
                        r.log_("REST Response for " + u + " received. status:", l.status, "response:", l.responseText);
                        var e = null;
                        if (l.status >= 200 && l.status < 300) {
                            try {
                                e = s.jsonEval(l.responseText);
                            } catch (e) {
                                a.warn("Failed to parse JSON response for " + u + ": " + l.responseText);
                            }
                            n(null, e);
                        } else 401 !== l.status && 404 !== l.status && a.warn("Got unsuccessful REST response for " + u + " Status: " + l.status), 
                        n(l.status);
                        n = null;
                    }
                }, l.open("GET", u, !0), l.send();
            });
        }, t;
    }(n(77).ServerActions);
    t.ReadonlyRestClient = l;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(3), i = n(28), a = n(8), s = n(60), u = n(64), c = n(44), l = n(155), h = n(78), p = n(0), d = function() {
        function e() {
            this.limitSet_ = !1, this.startSet_ = !1, this.startNameSet_ = !1, this.endSet_ = !1, 
            this.endNameSet_ = !1, this.limit_ = 0, this.viewFrom_ = "", this.indexStartValue_ = null, 
            this.indexStartName_ = "", this.indexEndValue_ = null, this.indexEndName_ = "", 
            this.index_ = a.PRIORITY_INDEX;
        }
        return e.prototype.hasStart = function() {
            return this.startSet_;
        }, e.prototype.isViewFromLeft = function() {
            return "" === this.viewFrom_ ? this.startSet_ : this.viewFrom_ === e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT;
        }, e.prototype.getIndexStartValue = function() {
            return r.assert(this.startSet_, "Only valid if start has been set"), this.indexStartValue_;
        }, e.prototype.getIndexStartName = function() {
            return r.assert(this.startSet_, "Only valid if start has been set"), this.startNameSet_ ? this.indexStartName_ : o.MIN_NAME;
        }, e.prototype.hasEnd = function() {
            return this.endSet_;
        }, e.prototype.getIndexEndValue = function() {
            return r.assert(this.endSet_, "Only valid if end has been set"), this.indexEndValue_;
        }, e.prototype.getIndexEndName = function() {
            return r.assert(this.endSet_, "Only valid if end has been set"), this.endNameSet_ ? this.indexEndName_ : o.MAX_NAME;
        }, e.prototype.hasLimit = function() {
            return this.limitSet_;
        }, e.prototype.hasAnchoredLimit = function() {
            return this.limitSet_ && "" !== this.viewFrom_;
        }, e.prototype.getLimit = function() {
            return r.assert(this.limitSet_, "Only valid if limit has been set"), this.limit_;
        }, e.prototype.getIndex = function() {
            return this.index_;
        }, e.prototype.copy_ = function() {
            var t = new e();
            return t.limitSet_ = this.limitSet_, t.limit_ = this.limit_, t.startSet_ = this.startSet_, 
            t.indexStartValue_ = this.indexStartValue_, t.startNameSet_ = this.startNameSet_, 
            t.indexStartName_ = this.indexStartName_, t.endSet_ = this.endSet_, t.indexEndValue_ = this.indexEndValue_, 
            t.endNameSet_ = this.endNameSet_, t.indexEndName_ = this.indexEndName_, t.index_ = this.index_, 
            t.viewFrom_ = this.viewFrom_, t;
        }, e.prototype.limit = function(e) {
            var t = this.copy_();
            return t.limitSet_ = !0, t.limit_ = e, t.viewFrom_ = "", t;
        }, e.prototype.limitToFirst = function(t) {
            var n = this.copy_();
            return n.limitSet_ = !0, n.limit_ = t, n.viewFrom_ = e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT, 
            n;
        }, e.prototype.limitToLast = function(t) {
            var n = this.copy_();
            return n.limitSet_ = !0, n.limit_ = t, n.viewFrom_ = e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT, 
            n;
        }, e.prototype.startAt = function(e, t) {
            var n = this.copy_();
            return n.startSet_ = !0, void 0 === e && (e = null), n.indexStartValue_ = e, null != t ? (n.startNameSet_ = !0, 
            n.indexStartName_ = t) : (n.startNameSet_ = !1, n.indexStartName_ = ""), n;
        }, e.prototype.endAt = function(e, t) {
            var n = this.copy_();
            return n.endSet_ = !0, void 0 === e && (e = null), n.indexEndValue_ = e, void 0 !== t ? (n.endNameSet_ = !0, 
            n.indexEndName_ = t) : (n.endNameSet_ = !1, n.indexEndName_ = ""), n;
        }, e.prototype.orderBy = function(e) {
            var t = this.copy_();
            return t.index_ = e, t;
        }, e.prototype.getQueryObject = function() {
            var t = e.WIRE_PROTOCOL_CONSTANTS_, n = {};
            if (this.startSet_ && (n[t.INDEX_START_VALUE] = this.indexStartValue_, this.startNameSet_ && (n[t.INDEX_START_NAME] = this.indexStartName_)), 
            this.endSet_ && (n[t.INDEX_END_VALUE] = this.indexEndValue_, this.endNameSet_ && (n[t.INDEX_END_NAME] = this.indexEndName_)), 
            this.limitSet_) {
                n[t.LIMIT] = this.limit_;
                var r = this.viewFrom_;
                "" === r && (r = this.isViewFromLeft() ? t.VIEW_FROM_LEFT : t.VIEW_FROM_RIGHT), 
                n[t.VIEW_FROM] = r;
            }
            return this.index_ !== a.PRIORITY_INDEX && (n[t.INDEX] = this.index_.toString()), 
            n;
        }, e.prototype.loadsAllData = function() {
            return !(this.startSet_ || this.endSet_ || this.limitSet_);
        }, e.prototype.isDefault = function() {
            return this.loadsAllData() && this.index_ == a.PRIORITY_INDEX;
        }, e.prototype.getNodeFilter = function() {
            return this.loadsAllData() ? new c.IndexedFilter(this.getIndex()) : this.hasLimit() ? new l.LimitedFilter(this) : new h.RangedFilter(this);
        }, e.prototype.toRestQueryStringParameters = function() {
            var t, n = e.REST_QUERY_CONSTANTS_, o = {};
            return this.isDefault() ? o : (this.index_ === a.PRIORITY_INDEX ? t = n.PRIORITY_INDEX : this.index_ === s.VALUE_INDEX ? t = n.VALUE_INDEX : this.index_ === i.KEY_INDEX ? t = n.KEY_INDEX : (r.assert(this.index_ instanceof u.PathIndex, "Unrecognized index type!"), 
            t = this.index_.toString()), o[n.ORDER_BY] = p.stringify(t), this.startSet_ && (o[n.START_AT] = p.stringify(this.indexStartValue_), 
            this.startNameSet_ && (o[n.START_AT] += "," + p.stringify(this.indexStartName_))), 
            this.endSet_ && (o[n.END_AT] = p.stringify(this.indexEndValue_), this.endNameSet_ && (o[n.END_AT] += "," + p.stringify(this.indexEndName_))), 
            this.limitSet_ && (this.isViewFromLeft() ? o[n.LIMIT_TO_FIRST] = this.limit_ : o[n.LIMIT_TO_LAST] = this.limit_), 
            o);
        }, e.WIRE_PROTOCOL_CONSTANTS_ = {
            INDEX_START_VALUE: "sp",
            INDEX_START_NAME: "sn",
            INDEX_END_VALUE: "ep",
            INDEX_END_NAME: "en",
            LIMIT: "l",
            VIEW_FROM: "vf",
            VIEW_FROM_LEFT: "l",
            VIEW_FROM_RIGHT: "r",
            INDEX: "i"
        }, e.REST_QUERY_CONSTANTS_ = {
            ORDER_BY: "orderBy",
            PRIORITY_INDEX: "$priority",
            VALUE_INDEX: "$value",
            KEY_INDEX: "$key",
            START_AT: "startAt",
            END_AT: "endAt",
            LIMIT_TO_FIRST: "limitToFirst",
            LIMIT_TO_LAST: "limitToLast"
        }, e.DEFAULT = new e(), e;
    }();
    t.QueryParams = d;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(78), o = n(11), i = n(12), a = n(0), s = n(22), u = function() {
        function e(e) {
            this.rangedFilter_ = new r.RangedFilter(e), this.index_ = e.getIndex(), this.limit_ = e.getLimit(), 
            this.reverse_ = !e.isViewFromLeft();
        }
        return e.prototype.updateChild = function(e, t, n, r, a, s) {
            return this.rangedFilter_.matches(new i.NamedNode(t, n)) || (n = o.ChildrenNode.EMPTY_NODE), 
            e.getImmediateChild(t).equals(n) ? e : e.numChildren() < this.limit_ ? this.rangedFilter_.getIndexedFilter().updateChild(e, t, n, r, a, s) : this.fullLimitUpdateChild_(e, t, n, a, s);
        }, e.prototype.updateFullNode = function(e, t, n) {
            var r;
            if (t.isLeafNode() || t.isEmpty()) r = o.ChildrenNode.EMPTY_NODE.withIndex(this.index_); else if (2 * this.limit_ < t.numChildren() && t.isIndexed(this.index_)) {
                r = o.ChildrenNode.EMPTY_NODE.withIndex(this.index_);
                var i = void 0;
                i = this.reverse_ ? t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(), this.index_) : t.getIteratorFrom(this.rangedFilter_.getStartPost(), this.index_);
                for (var a = 0; i.hasNext() && a < this.limit_; ) {
                    var s = i.getNext();
                    if (!(this.reverse_ ? this.index_.compare(this.rangedFilter_.getStartPost(), s) <= 0 : this.index_.compare(s, this.rangedFilter_.getEndPost()) <= 0)) break;
                    r = r.updateImmediateChild(s.name, s.node), a++;
                }
            } else {
                r = (r = t.withIndex(this.index_)).updatePriority(o.ChildrenNode.EMPTY_NODE);
                var u = void 0, c = void 0, l = void 0;
                i = void 0;
                if (this.reverse_) {
                    i = r.getReverseIterator(this.index_), u = this.rangedFilter_.getEndPost(), c = this.rangedFilter_.getStartPost();
                    var h = this.index_.getCompare();
                    l = function(e, t) {
                        return h(t, e);
                    };
                } else i = r.getIterator(this.index_), u = this.rangedFilter_.getStartPost(), c = this.rangedFilter_.getEndPost(), 
                l = this.index_.getCompare();
                a = 0;
                for (var p = !1; i.hasNext(); ) {
                    s = i.getNext();
                    !p && l(u, s) <= 0 && (p = !0), p && a < this.limit_ && l(s, c) <= 0 ? a++ : r = r.updateImmediateChild(s.name, o.ChildrenNode.EMPTY_NODE);
                }
            }
            return this.rangedFilter_.getIndexedFilter().updateFullNode(e, r, n);
        }, e.prototype.updatePriority = function(e, t) {
            return e;
        }, e.prototype.filtersNodes = function() {
            return !0;
        }, e.prototype.getIndexedFilter = function() {
            return this.rangedFilter_.getIndexedFilter();
        }, e.prototype.getIndex = function() {
            return this.index_;
        }, e.prototype.fullLimitUpdateChild_ = function(e, t, n, r, u) {
            var c;
            if (this.reverse_) {
                var l = this.index_.getCompare();
                c = function(e, t) {
                    return l(t, e);
                };
            } else c = this.index_.getCompare();
            var h = e;
            a.assert(h.numChildren() == this.limit_, "");
            var p = new i.NamedNode(t, n), d = this.reverse_ ? h.getFirstChild(this.index_) : h.getLastChild(this.index_), f = this.rangedFilter_.matches(p);
            if (h.hasChild(t)) {
                for (var v = h.getImmediateChild(t), m = r.getChildAfterChild(this.index_, d, this.reverse_); null != m && (m.name == t || h.hasChild(m.name)); ) m = r.getChildAfterChild(this.index_, m, this.reverse_);
                var y = null == m ? 1 : c(m, p);
                if (f && !n.isEmpty() && y >= 0) return null != u && u.trackChildChange(s.Change.childChangedChange(t, n, v)), 
                h.updateImmediateChild(t, n);
                null != u && u.trackChildChange(s.Change.childRemovedChange(t, v));
                var g = h.updateImmediateChild(t, o.ChildrenNode.EMPTY_NODE);
                return null != m && this.rangedFilter_.matches(m) ? (null != u && u.trackChildChange(s.Change.childAddedChange(m.name, m.node)), 
                g.updateImmediateChild(m.name, m.node)) : g;
            }
            return n.isEmpty() ? e : f && c(d, p) >= 0 ? (null != u && (u.trackChildChange(s.Change.childRemovedChange(d.name, d.node)), 
            u.trackChildChange(s.Change.childAddedChange(t, n))), h.updateImmediateChild(t, n).updateImmediateChild(d.name, o.ChildrenNode.EMPTY_NODE)) : e;
        }, e;
    }();
    t.LimitedFilter = u;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r, o = n(0), i = n(41), a = n(42), s = n(5), u = n(157), c = n(8), l = n(3), h = n(65), p = n(19), d = n(0), f = n(29), v = n(11), m = n(36);
    !function(e) {
        e[e.RUN = 0] = "RUN", e[e.SENT = 1] = "SENT", e[e.COMPLETED = 2] = "COMPLETED", 
        e[e.SENT_NEEDS_ABORT = 3] = "SENT_NEEDS_ABORT", e[e.NEEDS_ABORT = 4] = "NEEDS_ABORT";
    }(r = t.TransactionStatus || (t.TransactionStatus = {})), m.Repo.MAX_TRANSACTION_RETRIES_ = 25, 
    m.Repo.prototype.transactions_init_ = function() {
        this.transactionQueueTree_ = new u.Tree();
    }, m.Repo.prototype.startTransaction = function(e, t, n, s) {
        this.log_("transaction on " + e);
        var u = function() {}, m = new i.Reference(this, e);
        m.on("value", u);
        var y = function() {
            m.off("value", u);
        }, g = {
            path: e,
            update: t,
            onComplete: n,
            status: null,
            order: l.LUIDGenerator(),
            applyLocally: s,
            retryCount: 0,
            unwatcher: y,
            abortReason: null,
            currentWriteId: null,
            currentInputSnapshot: null,
            currentOutputSnapshotRaw: null,
            currentOutputSnapshotResolved: null
        }, _ = this.getLatestState_(e);
        g.currentInputSnapshot = _;
        var b = g.update(_.val());
        if (void 0 === b) {
            if (g.unwatcher(), g.currentOutputSnapshotRaw = null, g.currentOutputSnapshotResolved = null, 
            g.onComplete) {
                var w = new a.DataSnapshot(g.currentInputSnapshot, new i.Reference(this, g.path), c.PRIORITY_INDEX);
                g.onComplete(null, !1, w);
            }
        } else {
            p.validateFirebaseData("transaction failed: Data returned ", b, g.path), g.status = r.RUN;
            var E = this.transactionQueueTree_.subTree(e), T = E.getValue() || [];
            T.push(g), E.setValue(T);
            var C = void 0;
            if ("object" == typeof b && null !== b && d.contains(b, ".priority")) C = d.safeGet(b, ".priority"), 
            o.assert(p.isValidPriority(C), "Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null."); else C = (this.serverSyncTree_.calcCompleteEventCache(e) || v.ChildrenNode.EMPTY_NODE).getPriority().val();
            C = C;
            var S = this.generateServerValues(), N = f.nodeFromJSON(b, C), I = h.resolveDeferredValueSnapshot(N, S);
            g.currentOutputSnapshotRaw = N, g.currentOutputSnapshotResolved = I, g.currentWriteId = this.getNextWriteId_();
            var O = this.serverSyncTree_.applyUserOverwrite(e, I, g.currentWriteId, g.applyLocally);
            this.eventQueue_.raiseEventsForChangedPath(e, O), this.sendReadyTransactions_();
        }
    }, m.Repo.prototype.getLatestState_ = function(e, t) {
        return this.serverSyncTree_.calcCompleteEventCache(e, t) || v.ChildrenNode.EMPTY_NODE;
    }, m.Repo.prototype.sendReadyTransactions_ = function(e) {
        var t = this;
        if (void 0 === e && (e = this.transactionQueueTree_), e || this.pruneCompletedTransactionsBelowNode_(e), 
        null !== e.getValue()) {
            var n = this.buildTransactionQueue_(e);
            o.assert(n.length > 0, "Sending zero length transaction queue"), n.every(function(e) {
                return e.status === r.RUN;
            }) && this.sendTransactionQueue_(e.path(), n);
        } else e.hasChildren() && e.forEachChild(function(e) {
            t.sendReadyTransactions_(e);
        });
    }, m.Repo.prototype.sendTransactionQueue_ = function(e, t) {
        for (var n = this, u = t.map(function(e) {
            return e.currentWriteId;
        }), h = this.getLatestState_(e, u), p = h, d = h.hash(), f = 0; f < t.length; f++) {
            var v = t[f];
            o.assert(v.status === r.RUN, "tryToSendTransactionQueue_: items in queue should all be run."), 
            v.status = r.SENT, v.retryCount++;
            var m = s.Path.relativePath(e, v.path);
            p = p.updateChild(m, v.currentOutputSnapshotRaw);
        }
        var y = p.val(!0), g = e;
        this.server_.put(g.toString(), y, function(o) {
            n.log_("transaction put response", {
                path: g.toString(),
                status: o
            });
            var s = [];
            if ("ok" === o) {
                for (var u = [], h = 0; h < t.length; h++) {
                    if (t[h].status = r.COMPLETED, s = s.concat(n.serverSyncTree_.ackUserWrite(t[h].currentWriteId)), 
                    t[h].onComplete) {
                        var p = t[h].currentOutputSnapshotResolved, d = new i.Reference(n, t[h].path), f = new a.DataSnapshot(p, d, c.PRIORITY_INDEX);
                        u.push(t[h].onComplete.bind(null, null, !0, f));
                    }
                    t[h].unwatcher();
                }
                n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)), n.sendReadyTransactions_(), 
                n.eventQueue_.raiseEventsForChangedPath(e, s);
                for (h = 0; h < u.length; h++) l.exceptionGuard(u[h]);
            } else {
                if ("datastale" === o) for (h = 0; h < t.length; h++) t[h].status === r.SENT_NEEDS_ABORT ? t[h].status = r.NEEDS_ABORT : t[h].status = r.RUN; else {
                    l.warn("transaction at " + g.toString() + " failed: " + o);
                    for (h = 0; h < t.length; h++) t[h].status = r.NEEDS_ABORT, t[h].abortReason = o;
                }
                n.rerunTransactions_(e);
            }
        }, d);
    }, m.Repo.prototype.rerunTransactions_ = function(e) {
        var t = this.getAncestorTransactionNode_(e), n = t.path(), r = this.buildTransactionQueue_(t);
        return this.rerunTransactionQueue_(r, n), n;
    }, m.Repo.prototype.rerunTransactionQueue_ = function(e, t) {
        if (0 !== e.length) {
            for (var n, u = [], v = [], y = e.filter(function(e) {
                return e.status === r.RUN;
            }).map(function(e) {
                return e.currentWriteId;
            }), g = 0; g < e.length; g++) {
                var _ = e[g], b = s.Path.relativePath(t, _.path), w = !1, E = void 0;
                if (o.assert(null !== b, "rerunTransactionsUnderNode_: relativePath should not be null."), 
                _.status === r.NEEDS_ABORT) w = !0, E = _.abortReason, v = v.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId, !0)); else if (_.status === r.RUN) if (_.retryCount >= m.Repo.MAX_TRANSACTION_RETRIES_) w = !0, 
                E = "maxretry", v = v.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId, !0)); else {
                    var T = this.getLatestState_(_.path, y);
                    _.currentInputSnapshot = T;
                    var C = e[g].update(T.val());
                    if (void 0 !== C) {
                        p.validateFirebaseData("transaction failed: Data returned ", C, _.path);
                        var S = f.nodeFromJSON(C);
                        "object" == typeof C && null != C && d.contains(C, ".priority") || (S = S.updatePriority(T.getPriority()));
                        var N = _.currentWriteId, I = this.generateServerValues(), O = h.resolveDeferredValueSnapshot(S, I);
                        _.currentOutputSnapshotRaw = S, _.currentOutputSnapshotResolved = O, _.currentWriteId = this.getNextWriteId_(), 
                        y.splice(y.indexOf(N), 1), v = (v = v.concat(this.serverSyncTree_.applyUserOverwrite(_.path, O, _.currentWriteId, _.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(N, !0));
                    } else w = !0, E = "nodata", v = v.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId, !0));
                }
                if (this.eventQueue_.raiseEventsForChangedPath(t, v), v = [], w && (e[g].status = r.COMPLETED, 
                n = e[g].unwatcher, setTimeout(n, Math.floor(0)), e[g].onComplete)) if ("nodata" === E) {
                    var P = new i.Reference(this, e[g].path), R = e[g].currentInputSnapshot, A = new a.DataSnapshot(R, P, c.PRIORITY_INDEX);
                    u.push(e[g].onComplete.bind(null, null, !1, A));
                } else u.push(e[g].onComplete.bind(null, new Error(E), !1, null));
            }
            this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);
            for (g = 0; g < u.length; g++) l.exceptionGuard(u[g]);
            this.sendReadyTransactions_();
        }
    }, m.Repo.prototype.getAncestorTransactionNode_ = function(e) {
        for (var t, n = this.transactionQueueTree_; null !== (t = e.getFront()) && null === n.getValue(); ) n = n.subTree(t), 
        e = e.popFront();
        return n;
    }, m.Repo.prototype.buildTransactionQueue_ = function(e) {
        var t = [];
        return this.aggregateTransactionQueuesForNode_(e, t), t.sort(function(e, t) {
            return e.order - t.order;
        }), t;
    }, m.Repo.prototype.aggregateTransactionQueuesForNode_ = function(e, t) {
        var n = this, r = e.getValue();
        if (null !== r) for (var o = 0; o < r.length; o++) t.push(r[o]);
        e.forEachChild(function(e) {
            n.aggregateTransactionQueuesForNode_(e, t);
        });
    }, m.Repo.prototype.pruneCompletedTransactionsBelowNode_ = function(e) {
        var t = this, n = e.getValue();
        if (n) {
            for (var o = 0, i = 0; i < n.length; i++) n[i].status !== r.COMPLETED && (n[o] = n[i], 
            o++);
            n.length = o, e.setValue(n.length > 0 ? n : null);
        }
        e.forEachChild(function(e) {
            t.pruneCompletedTransactionsBelowNode_(e);
        });
    }, m.Repo.prototype.abortTransactions_ = function(e) {
        var t = this, n = this.getAncestorTransactionNode_(e).path(), r = this.transactionQueueTree_.subTree(e);
        return r.forEachAncestor(function(e) {
            t.abortTransactionsOnNode_(e);
        }), this.abortTransactionsOnNode_(r), r.forEachDescendant(function(e) {
            t.abortTransactionsOnNode_(e);
        }), n;
    }, m.Repo.prototype.abortTransactionsOnNode_ = function(e) {
        var t = e.getValue();
        if (null !== t) {
            for (var n = [], i = [], a = -1, s = 0; s < t.length; s++) if (t[s].status === r.SENT_NEEDS_ABORT) ; else if (t[s].status === r.SENT) o.assert(a === s - 1, "All SENT items should be at beginning of queue."), 
            a = s, t[s].status = r.SENT_NEEDS_ABORT, t[s].abortReason = "set"; else if (o.assert(t[s].status === r.RUN, "Unexpected transaction status in abort"), 
            t[s].unwatcher(), i = i.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId, !0)), 
            t[s].onComplete) {
                var u = null;
                n.push(t[s].onComplete.bind(null, new Error("set"), !1, u));
            }
            -1 === a ? e.setValue(null) : t.length = a + 1, this.eventQueue_.raiseEventsForChangedPath(e.path(), i);
            for (s = 0; s < n.length; s++) l.exceptionGuard(n[s]);
        }
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0), o = n(5), i = n(0), a = function() {
        function e() {
            this.children = {}, this.childCount = 0, this.value = null;
        }
        return e;
    }();
    t.TreeNode = a;
    var s = function() {
        function e(e, t, n) {
            void 0 === e && (e = ""), void 0 === t && (t = null), void 0 === n && (n = new a()), 
            this.name_ = e, this.parent_ = t, this.node_ = n;
        }
        return e.prototype.subTree = function(t) {
            for (var n, r = t instanceof o.Path ? t : new o.Path(t), s = this; null !== (n = r.getFront()); ) {
                s = new e(n, s, i.safeGet(s.node_.children, n) || new a()), r = r.popFront();
            }
            return s;
        }, e.prototype.getValue = function() {
            return this.node_.value;
        }, e.prototype.setValue = function(e) {
            r.assert(void 0 !== e, "Cannot set value to undefined"), this.node_.value = e, this.updateParents_();
        }, e.prototype.clear = function() {
            this.node_.value = null, this.node_.children = {}, this.node_.childCount = 0, this.updateParents_();
        }, e.prototype.hasChildren = function() {
            return this.node_.childCount > 0;
        }, e.prototype.isEmpty = function() {
            return null === this.getValue() && !this.hasChildren();
        }, e.prototype.forEachChild = function(t) {
            var n = this;
            i.forEach(this.node_.children, function(r, o) {
                t(new e(r, n, o));
            });
        }, e.prototype.forEachDescendant = function(e, t, n) {
            t && !n && e(this), this.forEachChild(function(t) {
                t.forEachDescendant(e, !0, n);
            }), t && n && e(this);
        }, e.prototype.forEachAncestor = function(e, t) {
            for (var n = t ? this : this.parent(); null !== n; ) {
                if (e(n)) return !0;
                n = n.parent();
            }
            return !1;
        }, e.prototype.forEachImmediateDescendantWithValue = function(e) {
            this.forEachChild(function(t) {
                null !== t.getValue() ? e(t) : t.forEachImmediateDescendantWithValue(e);
            });
        }, e.prototype.path = function() {
            return new o.Path(null === this.parent_ ? this.name_ : this.parent_.path() + "/" + this.name_);
        }, e.prototype.name = function() {
            return this.name_;
        }, e.prototype.parent = function() {
            return this.parent_;
        }, e.prototype.updateParents_ = function() {
            null !== this.parent_ && this.parent_.updateChild_(this.name_, this);
        }, e.prototype.updateChild_ = function(e, t) {
            var n = t.isEmpty(), r = i.contains(this.node_.children, e);
            n && r ? (delete this.node_.children[e], this.node_.childCount--, this.updateParents_()) : n || r || (this.node_.children[e] = t.node_, 
            this.node_.childCount++, this.updateParents_());
        }, e;
    }();
    t.Tree = s;
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(76), o = n(75);
    t.forceLongPolling = function() {
        r.WebSocketConnection.forceDisallow(), o.BrowserPollConnection.forceAllow();
    }, t.forceWebSockets = function() {
        o.BrowserPollConnection.forceDisallow();
    }, t.isWebSocketsAvailable = function() {
        return r.WebSocketConnection.isAvailable();
    }, t.setSecurityDebugCallback = function(e, t) {
        e.repo.persistentConnection_.securityDebugCallback_ = t;
    }, t.stats = function(e, t) {
        e.repo.stats(t);
    }, t.statsIncrementCounter = function(e, t) {
        e.repo.statsIncrementCounter(t);
    }, t.dataUpdateCount = function(e) {
        return e.repo.dataUpdateCount;
    }, t.interceptServerData = function(e, t) {
        return e.repo.interceptServerData_(t);
    };
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(56), o = n(72), i = n(46), a = n(74);
    t.DataConnection = o.PersistentConnection, o.PersistentConnection.prototype.simpleListen = function(e, t) {
        this.sendRequest("q", {
            p: e
        }, t);
    }, o.PersistentConnection.prototype.echo = function(e, t) {
        this.sendRequest("echo", {
            d: e
        }, t);
    }, t.RealTimeConnection = a.Connection, t.hijackHash = function(e) {
        var t = o.PersistentConnection.prototype.put;
        return o.PersistentConnection.prototype.put = function(n, r, o, i) {
            void 0 !== i && (i = e()), t.call(this, n, r, o, i);
        }, function() {
            o.PersistentConnection.prototype.put = t;
        };
    }, t.ConnectionTarget = r.RepoInfo, t.queryIdentifier = function(e) {
        return e.queryIdentifier();
    }, t.listens = function(e) {
        return e.repo.persistentConnection_.listens_;
    }, t.forceRestClient = function(e) {
        i.RepoManager.getInstance().forceRestClient(e);
    };
}, function(e, t, n) {
    n(186);
}, function(e, t, n) {
    n(185);
}, function(e, t, n) {
    "use strict";
    e.exports = function(e, t) {
        if (t = t.split(":")[0], !(e = +e)) return !1;
        switch (t) {
          case "http":
          case "ws":
            return 80 !== e;

          case "https":
          case "wss":
            return 443 !== e;

          case "ftp":
            return 21 !== e;

          case "gopher":
            return 70 !== e;

          case "file":
            return !1;
        }
        return 0 !== e;
    };
}, function(e, t, n) {
    "use strict";
    var r = Object.prototype.hasOwnProperty;
    function o(e) {
        return decodeURIComponent(e.replace(/\+/g, " "));
    }
    function i(e) {
        for (var t, n = /([^=?&]+)=?([^&]*)/g, r = {}; t = n.exec(e); ) {
            var i = o(t[1]), a = o(t[2]);
            i in r || (r[i] = a);
        }
        return r;
    }
    function a(e, t) {
        t = t || "";
        var n = [];
        for (var o in "string" != typeof t && (t = "?"), e) r.call(e, o) && n.push(encodeURIComponent(o) + "=" + encodeURIComponent(e[o]));
        return n.length ? t + n.join("&") : "";
    }
    t.stringify = a, t.parse = i;
}, function(e, t, n) {
    "use strict";
    var r = n(165), o = n(170);
    r.default.__addLocaleData(o.default), r.default.defaultLocale = "en", t.default = r.default;
}, function(e, t, n) {
    "use strict";
    var r = n(79), o = n(166), i = n(167), a = n(168);
    function s(e, t, n) {
        var r = "string" == typeof e ? s.__parse(e) : e;
        if (!r || "messageFormatPattern" !== r.type) throw new TypeError("A message must be provided as a String or AST.");
        n = this._mergeFormats(s.formats, n), o.defineProperty(this, "_locale", {
            value: this._resolveLocale(t)
        });
        var i = this._findPluralRuleFunction(this._locale), a = this._compilePattern(r, t, n, i), u = this;
        this.format = function(t) {
            try {
                return u._format(a, t);
            } catch (t) {
                throw t.variableId ? new Error("The intl string context variable '" + t.variableId + "' was not provided to the string '" + e + "'") : t;
            }
        };
    }
    t.default = s, o.defineProperty(s, "formats", {
        enumerable: !0,
        value: {
            number: {
                currency: {
                    style: "currency"
                },
                percent: {
                    style: "percent"
                }
            },
            date: {
                short: {
                    month: "numeric",
                    day: "numeric",
                    year: "2-digit"
                },
                medium: {
                    month: "short",
                    day: "numeric",
                    year: "numeric"
                },
                long: {
                    month: "long",
                    day: "numeric",
                    year: "numeric"
                },
                full: {
                    weekday: "long",
                    month: "long",
                    day: "numeric",
                    year: "numeric"
                }
            },
            time: {
                short: {
                    hour: "numeric",
                    minute: "numeric"
                },
                medium: {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric"
                },
                long: {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric",
                    timeZoneName: "short"
                },
                full: {
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric",
                    timeZoneName: "short"
                }
            }
        }
    }), o.defineProperty(s, "__localeData__", {
        value: o.objCreate(null)
    }), o.defineProperty(s, "__addLocaleData", {
        value: function(e) {
            if (!e || !e.locale) throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");
            s.__localeData__[e.locale.toLowerCase()] = e;
        }
    }), o.defineProperty(s, "__parse", {
        value: a.default.parse
    }), o.defineProperty(s, "defaultLocale", {
        enumerable: !0,
        writable: !0,
        value: void 0
    }), s.prototype.resolvedOptions = function() {
        return {
            locale: this._locale
        };
    }, s.prototype._compilePattern = function(e, t, n, r) {
        return new i.default(t, n, r).compile(e);
    }, s.prototype._findPluralRuleFunction = function(e) {
        for (var t = s.__localeData__, n = t[e.toLowerCase()]; n; ) {
            if (n.pluralRuleFunction) return n.pluralRuleFunction;
            n = n.parentLocale && t[n.parentLocale.toLowerCase()];
        }
        throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :" + e);
    }, s.prototype._format = function(e, t) {
        var n, o, i, a, s, u, c = "";
        for (n = 0, o = e.length; n < o; n += 1) if ("string" != typeof (i = e[n])) {
            if (a = i.id, !t || !r.hop.call(t, a)) throw (u = new Error("A value must be provided for: " + a)).variableId = a, 
            u;
            s = t[a], i.options ? c += this._format(i.getOption(s), t) : c += i.format(s);
        } else c += i;
        return c;
    }, s.prototype._mergeFormats = function(e, t) {
        var n, i, a = {};
        for (n in e) r.hop.call(e, n) && (a[n] = i = o.objCreate(e[n]), t && r.hop.call(t, n) && r.extend(i, t[n]));
        return a;
    }, s.prototype._resolveLocale = function(e) {
        "string" == typeof e && (e = [ e ]), e = (e || []).concat(s.defaultLocale);
        var t, n, r, o, i = s.__localeData__;
        for (t = 0, n = e.length; t < n; t += 1) for (r = e[t].toLowerCase().split("-"); r.length; ) {
            if (o = i[r.join("-")]) return o.locale;
            r.pop();
        }
        var a = e.pop();
        throw new Error("No locale data has been added to IntlMessageFormat for: " + e.join(", ") + ", or the default locale: " + a);
    };
}, function(e, t, n) {
    "use strict";
    var r = n(79), o = function() {
        try {
            return !!Object.defineProperty({}, "a", {});
        } catch (e) {
            return !1;
        }
    }(), i = (!o && Object.prototype.__defineGetter__, o ? Object.defineProperty : function(e, t, n) {
        "get" in n && e.__defineGetter__ ? e.__defineGetter__(t, n.get) : (!r.hop.call(e, t) || "value" in n) && (e[t] = n.value);
    }), a = Object.create || function(e, t) {
        var n, o;
        function a() {}
        for (o in a.prototype = e, n = new a(), t) r.hop.call(t, o) && i(n, o, t[o]);
        return n;
    };
    t.defineProperty = i, t.objCreate = a;
}, function(e, t, n) {
    "use strict";
    function r(e, t, n) {
        this.locales = e, this.formats = t, this.pluralFn = n;
    }
    function o(e) {
        this.id = e;
    }
    function i(e, t, n, r, o) {
        this.id = e, this.useOrdinal = t, this.offset = n, this.options = r, this.pluralFn = o;
    }
    function a(e, t, n, r) {
        this.id = e, this.offset = t, this.numberFormat = n, this.string = r;
    }
    function s(e, t) {
        this.id = e, this.options = t;
    }
    t.default = r, r.prototype.compile = function(e) {
        return this.pluralStack = [], this.currentPlural = null, this.pluralNumberFormat = null, 
        this.compileMessage(e);
    }, r.prototype.compileMessage = function(e) {
        if (!e || "messageFormatPattern" !== e.type) throw new Error('Message AST is not of type: "messageFormatPattern"');
        var t, n, r, o = e.elements, i = [];
        for (t = 0, n = o.length; t < n; t += 1) switch ((r = o[t]).type) {
          case "messageTextElement":
            i.push(this.compileMessageText(r));
            break;

          case "argumentElement":
            i.push(this.compileArgument(r));
            break;

          default:
            throw new Error("Message element does not have a valid type");
        }
        return i;
    }, r.prototype.compileMessageText = function(e) {
        return this.currentPlural && /(^|[^\\])#/g.test(e.value) ? (this.pluralNumberFormat || (this.pluralNumberFormat = new Intl.NumberFormat(this.locales)), 
        new a(this.currentPlural.id, this.currentPlural.format.offset, this.pluralNumberFormat, e.value)) : e.value.replace(/\\#/g, "#");
    }, r.prototype.compileArgument = function(e) {
        var t = e.format;
        if (!t) return new o(e.id);
        var n, r = this.formats, a = this.locales, u = this.pluralFn;
        switch (t.type) {
          case "numberFormat":
            return n = r.number[t.style], {
                id: e.id,
                format: new Intl.NumberFormat(a, n).format
            };

          case "dateFormat":
            return n = r.date[t.style], {
                id: e.id,
                format: new Intl.DateTimeFormat(a, n).format
            };

          case "timeFormat":
            return n = r.time[t.style], {
                id: e.id,
                format: new Intl.DateTimeFormat(a, n).format
            };

          case "pluralFormat":
            return n = this.compileOptions(e), new i(e.id, t.ordinal, t.offset, n, u);

          case "selectFormat":
            return n = this.compileOptions(e), new s(e.id, n);

          default:
            throw new Error("Message element does not have a valid format type");
        }
    }, r.prototype.compileOptions = function(e) {
        var t, n, r, o = e.format, i = o.options, a = {};
        for (this.pluralStack.push(this.currentPlural), this.currentPlural = "pluralFormat" === o.type ? e : null, 
        t = 0, n = i.length; t < n; t += 1) a[(r = i[t]).selector] = this.compileMessage(r.value);
        return this.currentPlural = this.pluralStack.pop(), a;
    }, o.prototype.format = function(e) {
        return e || "number" == typeof e ? "string" == typeof e ? e : String(e) : "";
    }, i.prototype.getOption = function(e) {
        var t = this.options;
        return t["=" + e] || t[this.pluralFn(e - this.offset, this.useOrdinal)] || t.other;
    }, a.prototype.format = function(e) {
        var t = this.numberFormat.format(e - this.offset);
        return this.string.replace(/(^|[^\\])#/g, "$1" + t).replace(/\\#/g, "#");
    }, s.prototype.getOption = function(e) {
        var t = this.options;
        return t[e] || t.other;
    };
}, function(e, t, n) {
    "use strict";
    (t = e.exports = n(169).default).default = t;
}, function(e, t, n) {
    "use strict";
    t.default = function() {
        function e(e, t) {
            function n() {
                this.constructor = e;
            }
            n.prototype = t.prototype, e.prototype = new n();
        }
        function t(e, n, r, o) {
            this.message = e, this.expected = n, this.found = r, this.location = o, this.name = "SyntaxError", 
            "function" == typeof Error.captureStackTrace && Error.captureStackTrace(this, t);
        }
        function n(e) {
            var n, r = arguments.length > 1 ? arguments[1] : {}, o = {}, i = {
                start: Re
            }, a = Re, s = function(e) {
                return {
                    type: "messageFormatPattern",
                    elements: e,
                    location: Se()
                };
            }, u = function(e) {
                var t, n, r, o, i, a = "";
                for (t = 0, r = e.length; t < r; t += 1) for (n = 0, i = (o = e[t]).length; n < i; n += 1) a += o[n];
                return a;
            }, c = function(e) {
                return {
                    type: "messageTextElement",
                    value: e,
                    location: Se()
                };
            }, l = /^[^ \t\n\r,.+={}#]/, h = {
                type: "class",
                value: "[^ \\t\\n\\r,.+={}#]",
                description: "[^ \\t\\n\\r,.+={}#]"
            }, p = "{", d = {
                type: "literal",
                value: "{",
                description: '"{"'
            }, f = ",", v = {
                type: "literal",
                value: ",",
                description: '","'
            }, m = "}", y = {
                type: "literal",
                value: "}",
                description: '"}"'
            }, g = function(e, t) {
                return {
                    type: "argumentElement",
                    id: e,
                    format: t && t[2],
                    location: Se()
                };
            }, _ = "number", b = {
                type: "literal",
                value: "number",
                description: '"number"'
            }, w = "date", E = {
                type: "literal",
                value: "date",
                description: '"date"'
            }, T = "time", C = {
                type: "literal",
                value: "time",
                description: '"time"'
            }, S = function(e, t) {
                return {
                    type: e + "Format",
                    style: t && t[2],
                    location: Se()
                };
            }, N = "plural", I = {
                type: "literal",
                value: "plural",
                description: '"plural"'
            }, O = function(e) {
                return {
                    type: e.type,
                    ordinal: !1,
                    offset: e.offset || 0,
                    options: e.options,
                    location: Se()
                };
            }, P = "selectordinal", R = {
                type: "literal",
                value: "selectordinal",
                description: '"selectordinal"'
            }, A = function(e) {
                return {
                    type: e.type,
                    ordinal: !0,
                    offset: e.offset || 0,
                    options: e.options,
                    location: Se()
                };
            }, k = "select", x = {
                type: "literal",
                value: "select",
                description: '"select"'
            }, D = function(e) {
                return {
                    type: "selectFormat",
                    options: e,
                    location: Se()
                };
            }, L = "=", M = {
                type: "literal",
                value: "=",
                description: '"="'
            }, F = function(e, t) {
                return {
                    type: "optionalFormatPattern",
                    selector: e,
                    value: t,
                    location: Se()
                };
            }, U = "offset:", j = {
                type: "literal",
                value: "offset:",
                description: '"offset:"'
            }, q = function(e) {
                return e;
            }, W = function(e, t) {
                return {
                    type: "pluralFormat",
                    offset: e,
                    options: t,
                    location: Se()
                };
            }, B = {
                type: "other",
                description: "whitespace"
            }, V = /^[ \t\n\r]/, G = {
                type: "class",
                value: "[ \\t\\n\\r]",
                description: "[ \\t\\n\\r]"
            }, H = {
                type: "other",
                description: "optionalWhitespace"
            }, K = /^[0-9]/, Q = {
                type: "class",
                value: "[0-9]",
                description: "[0-9]"
            }, Y = /^[0-9a-f]/i, X = {
                type: "class",
                value: "[0-9a-f]i",
                description: "[0-9a-f]i"
            }, z = "0", J = {
                type: "literal",
                value: "0",
                description: '"0"'
            }, $ = /^[1-9]/, Z = {
                type: "class",
                value: "[1-9]",
                description: "[1-9]"
            }, ee = function(e) {
                return parseInt(e, 10);
            }, te = /^[^{}\\\0-\x1F\x7f \t\n\r]/, ne = {
                type: "class",
                value: "[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",
                description: "[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"
            }, re = "\\\\", oe = {
                type: "literal",
                value: "\\\\",
                description: '"\\\\\\\\"'
            }, ie = function() {
                return "\\";
            }, ae = "\\#", se = {
                type: "literal",
                value: "\\#",
                description: '"\\\\#"'
            }, ue = function() {
                return "\\#";
            }, ce = "\\{", le = {
                type: "literal",
                value: "\\{",
                description: '"\\\\{"'
            }, he = function() {
                return "{";
            }, pe = "\\}", de = {
                type: "literal",
                value: "\\}",
                description: '"\\\\}"'
            }, fe = function() {
                return "}";
            }, ve = "\\u", me = {
                type: "literal",
                value: "\\u",
                description: '"\\\\u"'
            }, ye = function(e) {
                return String.fromCharCode(parseInt(e, 16));
            }, ge = function(e) {
                return e.join("");
            }, _e = 0, be = 0, we = [ {
                line: 1,
                column: 1,
                seenCR: !1
            } ], Ee = 0, Te = [], Ce = 0;
            if ("startRule" in r) {
                if (!(r.startRule in i)) throw new Error("Can't start parsing from rule \"" + r.startRule + '".');
                a = i[r.startRule];
            }
            function Se() {
                return Ie(be, _e);
            }
            function Ne(t) {
                var n, r, o = we[t];
                if (o) return o;
                for (n = t - 1; !we[n]; ) n--;
                for (o = {
                    line: (o = we[n]).line,
                    column: o.column,
                    seenCR: o.seenCR
                }; n < t; ) "\n" === (r = e.charAt(n)) ? (o.seenCR || o.line++, o.column = 1, o.seenCR = !1) : "\r" === r || "\u2028" === r || "\u2029" === r ? (o.line++, 
                o.column = 1, o.seenCR = !0) : (o.column++, o.seenCR = !1), n++;
                return we[t] = o, o;
            }
            function Ie(e, t) {
                var n = Ne(e), r = Ne(t);
                return {
                    start: {
                        offset: e,
                        line: n.line,
                        column: n.column
                    },
                    end: {
                        offset: t,
                        line: r.line,
                        column: r.column
                    }
                };
            }
            function Oe(e) {
                _e < Ee || (_e > Ee && (Ee = _e, Te = []), Te.push(e));
            }
            function Pe(e, n, r, o) {
                function i(e) {
                    var t = 1;
                    for (e.sort(function(e, t) {
                        return e.description < t.description ? -1 : e.description > t.description ? 1 : 0;
                    }); t < e.length; ) e[t - 1] === e[t] ? e.splice(t, 1) : t++;
                }
                function a(e, t) {
                    function n(e) {
                        function t(e) {
                            return e.charCodeAt(0).toString(16).toUpperCase();
                        }
                        return e.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\x08/g, "\\b").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\f/g, "\\f").replace(/\r/g, "\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g, function(e) {
                            return "\\x0" + t(e);
                        }).replace(/[\x10-\x1F\x80-\xFF]/g, function(e) {
                            return "\\x" + t(e);
                        }).replace(/[\u0100-\u0FFF]/g, function(e) {
                            return "\\u0" + t(e);
                        }).replace(/[\u1000-\uFFFF]/g, function(e) {
                            return "\\u" + t(e);
                        });
                    }
                    var r, o = new Array(e.length);
                    for (r = 0; r < e.length; r++) o[r] = e[r].description;
                    return "Expected " + (e.length > 1 ? o.slice(0, -1).join(", ") + " or " + o[e.length - 1] : o[0]) + " but " + (t ? '"' + n(t) + '"' : "end of input") + " found.";
                }
                return null !== n && i(n), new t(null !== e ? e : a(n, r), n, r, o);
            }
            function Re() {
                return Ae();
            }
            function Ae() {
                var e, t, n;
                for (e = _e, t = [], n = ke(); n !== o; ) t.push(n), n = ke();
                return t !== o && (be = e, t = s(t)), e = t;
            }
            function ke() {
                var e;
                return (e = De()) === o && (e = Me()), e;
            }
            function xe() {
                var t, n, r, i, a, s;
                if (t = _e, n = [], r = _e, (i = Qe()) !== o && (a = $e()) !== o && (s = Qe()) !== o ? r = i = [ i, a, s ] : (_e = r, 
                r = o), r !== o) for (;r !== o; ) n.push(r), r = _e, (i = Qe()) !== o && (a = $e()) !== o && (s = Qe()) !== o ? r = i = [ i, a, s ] : (_e = r, 
                r = o); else n = o;
                return n !== o && (be = t, n = u(n)), (t = n) === o && (t = _e, t = (n = Ke()) !== o ? e.substring(t, _e) : n), 
                t;
            }
            function De() {
                var e, t;
                return e = _e, (t = xe()) !== o && (be = e, t = c(t)), e = t;
            }
            function Le() {
                var t, n, r;
                if ((t = ze()) === o) {
                    if (t = _e, n = [], l.test(e.charAt(_e)) ? (r = e.charAt(_e), _e++) : (r = o, 0 === Ce && Oe(h)), 
                    r !== o) for (;r !== o; ) n.push(r), l.test(e.charAt(_e)) ? (r = e.charAt(_e), _e++) : (r = o, 
                    0 === Ce && Oe(h)); else n = o;
                    t = n !== o ? e.substring(t, _e) : n;
                }
                return t;
            }
            function Me() {
                var t, n, r, i, a, s, u;
                return t = _e, 123 === e.charCodeAt(_e) ? (n = p, _e++) : (n = o, 0 === Ce && Oe(d)), 
                n !== o && Qe() !== o && (r = Le()) !== o && Qe() !== o ? (i = _e, 44 === e.charCodeAt(_e) ? (a = f, 
                _e++) : (a = o, 0 === Ce && Oe(v)), a !== o && (s = Qe()) !== o && (u = Fe()) !== o ? i = a = [ a, s, u ] : (_e = i, 
                i = o), i === o && (i = null), i !== o && (a = Qe()) !== o ? (125 === e.charCodeAt(_e) ? (s = m, 
                _e++) : (s = o, 0 === Ce && Oe(y)), s !== o ? (be = t, t = n = g(r, i)) : (_e = t, 
                t = o)) : (_e = t, t = o)) : (_e = t, t = o), t;
            }
            function Fe() {
                var e;
                return (e = Ue()) === o && (e = je()) === o && (e = qe()) === o && (e = We()), e;
            }
            function Ue() {
                var t, n, r, i, a, s;
                return t = _e, e.substr(_e, 6) === _ ? (n = _, _e += 6) : (n = o, 0 === Ce && Oe(b)), 
                n === o && (e.substr(_e, 4) === w ? (n = w, _e += 4) : (n = o, 0 === Ce && Oe(E)), 
                n === o && (e.substr(_e, 4) === T ? (n = T, _e += 4) : (n = o, 0 === Ce && Oe(C)))), 
                n !== o && Qe() !== o ? (r = _e, 44 === e.charCodeAt(_e) ? (i = f, _e++) : (i = o, 
                0 === Ce && Oe(v)), i !== o && (a = Qe()) !== o && (s = $e()) !== o ? r = i = [ i, a, s ] : (_e = r, 
                r = o), r === o && (r = null), r !== o ? (be = t, t = n = S(n, r)) : (_e = t, t = o)) : (_e = t, 
                t = o), t;
            }
            function je() {
                var t, n, r, i;
                return t = _e, e.substr(_e, 6) === N ? (n = N, _e += 6) : (n = o, 0 === Ce && Oe(I)), 
                n !== o && Qe() !== o ? (44 === e.charCodeAt(_e) ? (r = f, _e++) : (r = o, 0 === Ce && Oe(v)), 
                r !== o && Qe() !== o && (i = He()) !== o ? (be = t, t = n = O(i)) : (_e = t, t = o)) : (_e = t, 
                t = o), t;
            }
            function qe() {
                var t, n, r, i;
                return t = _e, e.substr(_e, 13) === P ? (n = P, _e += 13) : (n = o, 0 === Ce && Oe(R)), 
                n !== o && Qe() !== o ? (44 === e.charCodeAt(_e) ? (r = f, _e++) : (r = o, 0 === Ce && Oe(v)), 
                r !== o && Qe() !== o && (i = He()) !== o ? (be = t, t = n = A(i)) : (_e = t, t = o)) : (_e = t, 
                t = o), t;
            }
            function We() {
                var t, n, r, i, a;
                if (t = _e, e.substr(_e, 6) === k ? (n = k, _e += 6) : (n = o, 0 === Ce && Oe(x)), 
                n !== o) if (Qe() !== o) if (44 === e.charCodeAt(_e) ? (r = f, _e++) : (r = o, 0 === Ce && Oe(v)), 
                r !== o) if (Qe() !== o) {
                    if (i = [], (a = Ve()) !== o) for (;a !== o; ) i.push(a), a = Ve(); else i = o;
                    i !== o ? (be = t, t = n = D(i)) : (_e = t, t = o);
                } else _e = t, t = o; else _e = t, t = o; else _e = t, t = o; else _e = t, t = o;
                return t;
            }
            function Be() {
                var t, n, r, i;
                return t = _e, n = _e, 61 === e.charCodeAt(_e) ? (r = L, _e++) : (r = o, 0 === Ce && Oe(M)), 
                r !== o && (i = ze()) !== o ? n = r = [ r, i ] : (_e = n, n = o), (t = n !== o ? e.substring(t, _e) : n) === o && (t = $e()), 
                t;
            }
            function Ve() {
                var t, n, r, i, a;
                return t = _e, Qe() !== o && (n = Be()) !== o && Qe() !== o ? (123 === e.charCodeAt(_e) ? (r = p, 
                _e++) : (r = o, 0 === Ce && Oe(d)), r !== o && Qe() !== o && (i = Ae()) !== o && Qe() !== o ? (125 === e.charCodeAt(_e) ? (a = m, 
                _e++) : (a = o, 0 === Ce && Oe(y)), a !== o ? (be = t, t = F(n, i)) : (_e = t, t = o)) : (_e = t, 
                t = o)) : (_e = t, t = o), t;
            }
            function Ge() {
                var t, n, r;
                return t = _e, e.substr(_e, 7) === U ? (n = U, _e += 7) : (n = o, 0 === Ce && Oe(j)), 
                n !== o && Qe() !== o && (r = ze()) !== o ? (be = t, t = n = q(r)) : (_e = t, t = o), 
                t;
            }
            function He() {
                var e, t, n, r;
                if (e = _e, (t = Ge()) === o && (t = null), t !== o) if (Qe() !== o) {
                    if (n = [], (r = Ve()) !== o) for (;r !== o; ) n.push(r), r = Ve(); else n = o;
                    n !== o ? (be = e, e = t = W(t, n)) : (_e = e, e = o);
                } else _e = e, e = o; else _e = e, e = o;
                return e;
            }
            function Ke() {
                var t, n;
                if (Ce++, t = [], V.test(e.charAt(_e)) ? (n = e.charAt(_e), _e++) : (n = o, 0 === Ce && Oe(G)), 
                n !== o) for (;n !== o; ) t.push(n), V.test(e.charAt(_e)) ? (n = e.charAt(_e), _e++) : (n = o, 
                0 === Ce && Oe(G)); else t = o;
                return Ce--, t === o && (n = o, 0 === Ce && Oe(B)), t;
            }
            function Qe() {
                var t, n, r;
                for (Ce++, t = _e, n = [], r = Ke(); r !== o; ) n.push(r), r = Ke();
                return t = n !== o ? e.substring(t, _e) : n, Ce--, t === o && (n = o, 0 === Ce && Oe(H)), 
                t;
            }
            function Ye() {
                var t;
                return K.test(e.charAt(_e)) ? (t = e.charAt(_e), _e++) : (t = o, 0 === Ce && Oe(Q)), 
                t;
            }
            function Xe() {
                var t;
                return Y.test(e.charAt(_e)) ? (t = e.charAt(_e), _e++) : (t = o, 0 === Ce && Oe(X)), 
                t;
            }
            function ze() {
                var t, n, r, i, a, s;
                if (t = _e, 48 === e.charCodeAt(_e) ? (n = z, _e++) : (n = o, 0 === Ce && Oe(J)), 
                n === o) {
                    if (n = _e, r = _e, $.test(e.charAt(_e)) ? (i = e.charAt(_e), _e++) : (i = o, 0 === Ce && Oe(Z)), 
                    i !== o) {
                        for (a = [], s = Ye(); s !== o; ) a.push(s), s = Ye();
                        a !== o ? r = i = [ i, a ] : (_e = r, r = o);
                    } else _e = r, r = o;
                    n = r !== o ? e.substring(n, _e) : r;
                }
                return n !== o && (be = t, n = ee(n)), t = n;
            }
            function Je() {
                var t, n, r, i, a, s, u, c;
                return te.test(e.charAt(_e)) ? (t = e.charAt(_e), _e++) : (t = o, 0 === Ce && Oe(ne)), 
                t === o && (t = _e, e.substr(_e, 2) === re ? (n = re, _e += 2) : (n = o, 0 === Ce && Oe(oe)), 
                n !== o && (be = t, n = ie()), (t = n) === o && (t = _e, e.substr(_e, 2) === ae ? (n = ae, 
                _e += 2) : (n = o, 0 === Ce && Oe(se)), n !== o && (be = t, n = ue()), (t = n) === o && (t = _e, 
                e.substr(_e, 2) === ce ? (n = ce, _e += 2) : (n = o, 0 === Ce && Oe(le)), n !== o && (be = t, 
                n = he()), (t = n) === o && (t = _e, e.substr(_e, 2) === pe ? (n = pe, _e += 2) : (n = o, 
                0 === Ce && Oe(de)), n !== o && (be = t, n = fe()), (t = n) === o && (t = _e, e.substr(_e, 2) === ve ? (n = ve, 
                _e += 2) : (n = o, 0 === Ce && Oe(me)), n !== o ? (r = _e, i = _e, (a = Xe()) !== o && (s = Xe()) !== o && (u = Xe()) !== o && (c = Xe()) !== o ? i = a = [ a, s, u, c ] : (_e = i, 
                i = o), (r = i !== o ? e.substring(r, _e) : i) !== o ? (be = t, t = n = ye(r)) : (_e = t, 
                t = o)) : (_e = t, t = o)))))), t;
            }
            function $e() {
                var e, t, n;
                if (e = _e, t = [], (n = Je()) !== o) for (;n !== o; ) t.push(n), n = Je(); else t = o;
                return t !== o && (be = e, t = ge(t)), e = t;
            }
            if ((n = a()) !== o && _e === e.length) return n;
            throw n !== o && _e < e.length && Oe({
                type: "end",
                description: "end of input"
            }), Pe(null, Te, Ee < e.length ? e.charAt(Ee) : null, Ee < e.length ? Ie(Ee, Ee + 1) : Ie(Ee, Ee));
        }
        return e(t, Error), {
            SyntaxError: t,
            parse: n
        };
    }();
}, function(e, t, n) {
    "use strict";
    t.default = {
        locale: "en",
        pluralRuleFunction: function(e, t) {
            var n = String(e).split("."), r = !n[1], o = Number(n[0]) == e, i = o && n[0].slice(-1), a = o && n[0].slice(-2);
            return t ? 1 == i && 11 != a ? "one" : 2 == i && 12 != a ? "two" : 3 == i && 13 != a ? "few" : "other" : 1 == e && r ? "one" : "other";
        }
    };
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    var r = n(173), o = n(176);
    r.default.__addLocaleData(o.default), r.default.defaultLocale = "en", t.default = r.default;
}, function(e, t, n) {
    "use strict";
    var r = n(21), o = n(174), i = n(175);
    t.default = u;
    var a = [ "second", "second-short", "minute", "minute-short", "hour", "hour-short", "day", "day-short", "month", "month-short", "year", "year-short" ], s = [ "best fit", "numeric" ];
    function u(e, t) {
        t = t || {}, i.isArray(e) && (e = e.concat()), i.defineProperty(this, "_locale", {
            value: this._resolveLocale(e)
        }), i.defineProperty(this, "_options", {
            value: {
                style: this._resolveStyle(t.style),
                units: this._isValidUnits(t.units) && t.units
            }
        }), i.defineProperty(this, "_locales", {
            value: e
        }), i.defineProperty(this, "_fields", {
            value: this._findFields(this._locale)
        }), i.defineProperty(this, "_messages", {
            value: i.objCreate(null)
        });
        var n = this;
        this.format = function(e, t) {
            return n._format(e, t);
        };
    }
    i.defineProperty(u, "__localeData__", {
        value: i.objCreate(null)
    }), i.defineProperty(u, "__addLocaleData", {
        value: function(e) {
            if (!e || !e.locale) throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");
            u.__localeData__[e.locale.toLowerCase()] = e, r.default.__addLocaleData(e);
        }
    }), i.defineProperty(u, "defaultLocale", {
        enumerable: !0,
        writable: !0,
        value: void 0
    }), i.defineProperty(u, "thresholds", {
        enumerable: !0,
        value: {
            second: 45,
            "second-short": 45,
            minute: 45,
            "minute-short": 45,
            hour: 22,
            "hour-short": 22,
            day: 26,
            "day-short": 26,
            month: 11,
            "month-short": 11
        }
    }), u.prototype.resolvedOptions = function() {
        return {
            locale: this._locale,
            style: this._options.style,
            units: this._options.units
        };
    }, u.prototype._compileMessage = function(e) {
        var t, n = this._locales, o = (this._locale, this._fields[e].relativeTime), i = "", a = "";
        for (t in o.future) o.future.hasOwnProperty(t) && (i += " " + t + " {" + o.future[t].replace("{0}", "#") + "}");
        for (t in o.past) o.past.hasOwnProperty(t) && (a += " " + t + " {" + o.past[t].replace("{0}", "#") + "}");
        var s = "{when, select, future {{0, plural, " + i + "}}past {{0, plural, " + a + "}}}";
        return new r.default(s, n);
    }, u.prototype._getMessage = function(e) {
        var t = this._messages;
        return t[e] || (t[e] = this._compileMessage(e)), t[e];
    }, u.prototype._getRelativeUnits = function(e, t) {
        var n = this._fields[t];
        if (n.relative) return n.relative[e];
    }, u.prototype._findFields = function(e) {
        for (var t = u.__localeData__, n = t[e.toLowerCase()]; n; ) {
            if (n.fields) return n.fields;
            n = n.parentLocale && t[n.parentLocale.toLowerCase()];
        }
        throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :" + e);
    }, u.prototype._format = function(e, t) {
        var n = t && void 0 !== t.now ? t.now : i.dateNow();
        if (void 0 === e && (e = n), !isFinite(n)) throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");
        if (!isFinite(e)) throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");
        var r = o.default(n, e), a = this._options.units || this._selectUnits(r), s = r[a];
        if ("numeric" !== this._options.style) {
            var u = this._getRelativeUnits(s, a);
            if (u) return u;
        }
        return this._getMessage(a).format({
            0: Math.abs(s),
            when: s < 0 ? "past" : "future"
        });
    }, u.prototype._isValidUnits = function(e) {
        if (!e || i.arrIndexOf.call(a, e) >= 0) return !0;
        if ("string" == typeof e) {
            var t = /s$/.test(e) && e.substr(0, e.length - 1);
            if (t && i.arrIndexOf.call(a, t) >= 0) throw new Error('"' + e + '" is not a valid IntlRelativeFormat `units` value, did you mean: ' + t);
        }
        throw new Error('"' + e + '" is not a valid IntlRelativeFormat `units` value, it must be one of: "' + a.join('", "') + '"');
    }, u.prototype._resolveLocale = function(e) {
        "string" == typeof e && (e = [ e ]), e = (e || []).concat(u.defaultLocale);
        var t, n, r, o, i = u.__localeData__;
        for (t = 0, n = e.length; t < n; t += 1) for (r = e[t].toLowerCase().split("-"); r.length; ) {
            if (o = i[r.join("-")]) return o.locale;
            r.pop();
        }
        var a = e.pop();
        throw new Error("No locale data has been added to IntlRelativeFormat for: " + e.join(", ") + ", or the default locale: " + a);
    }, u.prototype._resolveStyle = function(e) {
        if (!e) return s[0];
        if (i.arrIndexOf.call(s, e) >= 0) return e;
        throw new Error('"' + e + '" is not a valid IntlRelativeFormat `style` value, it must be one of: "' + s.join('", "') + '"');
    }, u.prototype._selectUnits = function(e) {
        var t, n, r, o = a.filter(function(e) {
            return e.indexOf("-short") < 1;
        });
        for (t = 0, n = o.length; t < n && (r = o[t], !(Math.abs(e[r]) < u.thresholds[r])); t += 1) ;
        return r;
    };
}, function(e, t, n) {
    "use strict";
    var r = Math.round;
    function o(e) {
        return 400 * e / 146097;
    }
    t.default = function(e, t) {
        var n = r((t = +t) - (e = +e)), i = r(n / 1e3), a = r(i / 60), s = r(a / 60), u = r(s / 24), c = r(u / 7), l = o(u), h = r(12 * l), p = r(l);
        return {
            millisecond: n,
            second: i,
            "second-short": i,
            minute: a,
            "minute-short": a,
            hour: s,
            "hour-short": s,
            day: u,
            "day-short": u,
            week: c,
            "week-short": c,
            month: h,
            "month-short": h,
            year: p,
            "year-short": p
        };
    };
}, function(e, t, n) {
    "use strict";
    var r = Object.prototype.hasOwnProperty, o = Object.prototype.toString, i = function() {
        try {
            return !!Object.defineProperty({}, "a", {});
        } catch (e) {
            return !1;
        }
    }(), a = (!i && Object.prototype.__defineGetter__, i ? Object.defineProperty : function(e, t, n) {
        "get" in n && e.__defineGetter__ ? e.__defineGetter__(t, n.get) : (!r.call(e, t) || "value" in n) && (e[t] = n.value);
    }), s = Object.create || function(e, t) {
        var n, o;
        function i() {}
        for (o in i.prototype = e, n = new i(), t) r.call(t, o) && a(n, o, t[o]);
        return n;
    }, u = Array.prototype.indexOf || function(e, t) {
        var n = this;
        if (!n.length) return -1;
        for (var r = t || 0, o = n.length; r < o; r++) if (n[r] === e) return r;
        return -1;
    }, c = Array.isArray || function(e) {
        return "[object Array]" === o.call(e);
    }, l = Date.now || function() {
        return new Date().getTime();
    };
    t.defineProperty = a, t.objCreate = s, t.arrIndexOf = u, t.isArray = c, t.dateNow = l;
}, function(e, t, n) {
    "use strict";
    t.default = {
        locale: "en",
        pluralRuleFunction: function(e, t) {
            var n = String(e).split("."), r = !n[1], o = Number(n[0]) == e, i = o && n[0].slice(-1), a = o && n[0].slice(-2);
            return t ? 1 == i && 11 != a ? "one" : 2 == i && 12 != a ? "two" : 3 == i && 13 != a ? "few" : "other" : 1 == e && r ? "one" : "other";
        },
        fields: {
            year: {
                displayName: "year",
                relative: {
                    0: "this year",
                    1: "next year",
                    "-1": "last year"
                },
                relativeTime: {
                    future: {
                        one: "in {0} year",
                        other: "in {0} years"
                    },
                    past: {
                        one: "{0} year ago",
                        other: "{0} years ago"
                    }
                }
            },
            "year-short": {
                displayName: "yr.",
                relative: {
                    0: "this yr.",
                    1: "next yr.",
                    "-1": "last yr."
                },
                relativeTime: {
                    future: {
                        one: "in {0} yr.",
                        other: "in {0} yr."
                    },
                    past: {
                        one: "{0} yr. ago",
                        other: "{0} yr. ago"
                    }
                }
            },
            month: {
                displayName: "month",
                relative: {
                    0: "this month",
                    1: "next month",
                    "-1": "last month"
                },
                relativeTime: {
                    future: {
                        one: "in {0} month",
                        other: "in {0} months"
                    },
                    past: {
                        one: "{0} month ago",
                        other: "{0} months ago"
                    }
                }
            },
            "month-short": {
                displayName: "mo.",
                relative: {
                    0: "this mo.",
                    1: "next mo.",
                    "-1": "last mo."
                },
                relativeTime: {
                    future: {
                        one: "in {0} mo.",
                        other: "in {0} mo."
                    },
                    past: {
                        one: "{0} mo. ago",
                        other: "{0} mo. ago"
                    }
                }
            },
            day: {
                displayName: "day",
                relative: {
                    0: "today",
                    1: "tomorrow",
                    "-1": "yesterday"
                },
                relativeTime: {
                    future: {
                        one: "in {0} day",
                        other: "in {0} days"
                    },
                    past: {
                        one: "{0} day ago",
                        other: "{0} days ago"
                    }
                }
            },
            "day-short": {
                displayName: "day",
                relative: {
                    0: "today",
                    1: "tomorrow",
                    "-1": "yesterday"
                },
                relativeTime: {
                    future: {
                        one: "in {0} day",
                        other: "in {0} days"
                    },
                    past: {
                        one: "{0} day ago",
                        other: "{0} days ago"
                    }
                }
            },
            hour: {
                displayName: "hour",
                relative: {
                    0: "this hour"
                },
                relativeTime: {
                    future: {
                        one: "in {0} hour",
                        other: "in {0} hours"
                    },
                    past: {
                        one: "{0} hour ago",
                        other: "{0} hours ago"
                    }
                }
            },
            "hour-short": {
                displayName: "hr.",
                relative: {
                    0: "this hour"
                },
                relativeTime: {
                    future: {
                        one: "in {0} hr.",
                        other: "in {0} hr."
                    },
                    past: {
                        one: "{0} hr. ago",
                        other: "{0} hr. ago"
                    }
                }
            },
            minute: {
                displayName: "minute",
                relative: {
                    0: "this minute"
                },
                relativeTime: {
                    future: {
                        one: "in {0} minute",
                        other: "in {0} minutes"
                    },
                    past: {
                        one: "{0} minute ago",
                        other: "{0} minutes ago"
                    }
                }
            },
            "minute-short": {
                displayName: "min.",
                relative: {
                    0: "this minute"
                },
                relativeTime: {
                    future: {
                        one: "in {0} min.",
                        other: "in {0} min."
                    },
                    past: {
                        one: "{0} min. ago",
                        other: "{0} min. ago"
                    }
                }
            },
            second: {
                displayName: "second",
                relative: {
                    0: "now"
                },
                relativeTime: {
                    future: {
                        one: "in {0} second",
                        other: "in {0} seconds"
                    },
                    past: {
                        one: "{0} second ago",
                        other: "{0} seconds ago"
                    }
                }
            },
            "second-short": {
                displayName: "sec.",
                relative: {
                    0: "now"
                },
                relativeTime: {
                    future: {
                        one: "in {0} sec.",
                        other: "in {0} sec."
                    },
                    past: {
                        one: "{0} sec. ago",
                        other: "{0} sec. ago"
                    }
                }
            }
        }
    };
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    var r = n(179);
    function o() {}
    e.exports = function() {
        function e(e, t, n, o, i, a) {
            if (a !== r) {
                var s = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");
                throw s.name = "Invariant Violation", s;
            }
        }
        function t() {
            return e;
        }
        e.isRequired = e;
        var n = {
            array: e,
            bool: e,
            func: e,
            number: e,
            object: e,
            string: e,
            symbol: e,
            any: e,
            arrayOf: t,
            element: e,
            instanceOf: t,
            node: e,
            objectOf: t,
            oneOf: t,
            oneOfType: t,
            shape: t,
            exact: t
        };
        return n.checkPropTypes = o, n.PropTypes = n, n;
    };
}, function(e, t, n) {
    "use strict";
    var r = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
    e.exports = r;
}, function(e, t, n) {
    "use strict";
    var r = n(181);
    function o(e) {
        var t = r.objCreate(null);
        return function() {
            var n = Array.prototype.slice.call(arguments), o = i(n), a = o && t[o];
            return a || (a = new (r.bind.apply(e, [ null ].concat(n)))(), o && (t[o] = a)), 
            a;
        };
    }
    function i(e) {
        if ("undefined" != typeof JSON) {
            var t, n, r, o = [];
            for (t = 0, n = e.length; t < n; t += 1) (r = e[t]) && "object" == typeof r ? o.push(a(r)) : o.push(r);
            return JSON.stringify(o);
        }
    }
    function a(e) {
        var t, n, r, o, i = [], a = [];
        for (t in e) e.hasOwnProperty(t) && a.push(t);
        var s = a.sort();
        for (n = 0, r = s.length; n < r; n += 1) (o = {})[t = s[n]] = e[t], i[n] = o;
        return i;
    }
    t.default = o;
}, function(e, t, n) {
    "use strict";
    var r = Function.prototype.bind || function(e) {
        if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
        var t = Array.prototype.slice.call(arguments, 1), n = this, r = function() {}, o = function() {
            return n.apply(this instanceof r ? this : e, t.concat(Array.prototype.slice.call(arguments)));
        };
        return this.prototype && (r.prototype = this.prototype), o.prototype = new r(), 
        o;
    }, o = Object.prototype.hasOwnProperty, i = function() {
        try {
            return !!Object.defineProperty({}, "a", {});
        } catch (e) {
            return !1;
        }
    }(), a = (!i && Object.prototype.__defineGetter__, i ? Object.defineProperty : function(e, t, n) {
        "get" in n && e.__defineGetter__ ? e.__defineGetter__(t, n.get) : (!o.call(e, t) || "value" in n) && (e[t] = n.value);
    }), s = Object.create || function(e, t) {
        var n, r;
        function i() {}
        for (r in i.prototype = e, n = new i(), t) o.call(t, r) && a(n, r, t[r]);
        return n;
    };
    t.bind = r, t.defineProperty = a, t.objCreate = s;
}, function(e, t) {
    function n(e) {
        return e instanceof Date;
    }
    e.exports = n;
}, function(e, t, n) {
    var r = n(80);
    function o(e, t) {
        var n = r(e).getTime(), o = Number(t);
        return new Date(n + o);
    }
    e.exports = o;
}, function(e, t, n) {
    "use strict";
    n.r(t);
    n(103);
    var r = n(1), o = n(47), i = n.n(o), a = function() {
        var e = new Date();
        return e.getDate() + "-" + (e.getMonth() + 1) + "-" + e.getFullYear();
    }, s = function() {
        return new Promise(function(e) {
            chrome.storage.sync.remove([ "EquatioLastLicenseCheck", "EquatioLastLicense" ], function() {
                e();
            });
        });
    }, u = function(e) {
        return new Promise(function(t) {
            chrome.storage.sync.set({
                EquatioLastLicenseCheck: a(),
                EquatioLastLicense: e
            }, function() {
                t();
            });
        });
    }, c = n(38), l = n.n(c);
    function h(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e;
    }
    function p(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
        }
        return Array.from(e);
    }
    var d = [ "Drawings Integration", "Forms Integration", "Handwriting", "Prediction", "Sheets Integration", "Slides Integration" ], f = function() {
        var e = a();
        return {
            guid: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx",
            user: "unknownuser",
            date_created: e + " 12:00:00",
            start: e,
            expiry_equatio: e,
            licence_type: "Freemium",
            hide_unlicensed: !1,
            features: Object.assign.apply(Object, p(d.map(function(e) {
                return h({}, e, !1);
            }))),
            currentDateTime: e + "T12:00:00.000Z",
            license_expiry: e,
            trial: !1,
            upgrade_link: "https://pay.texthelp.com/Purchase/Index?productCode=eq",
            daysleft: -1,
            today: e
        };
    }, v = function(e) {
        var t = a();
        return {
            guid: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx",
            user: l.a.hashEmail(e),
            date_created: t + " 12:00:00",
            start: t,
            expiry_equatio: t,
            licence_type: "Freemium",
            hide_unlicensed: !1,
            features: Object.assign.apply(Object, p(d.map(function(e) {
                return h({}, e, !0);
            }))),
            currentDateTime: t + "T12:00:00.000Z",
            license_expiry: t,
            trial: !0,
            upgrade_link: "https://pay.texthelp.com/Purchase/Index?productCode=eq",
            daysleft: 1,
            today: t
        };
    }, m = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    };
    function y(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var g = void 0, _ = function() {
        return g;
    }, b = function(e) {
        g = e;
    }, w = function(e) {
        return new Promise(function(t, n) {
            chrome.identity.getProfileUserInfo(function(r) {
                r && r.email ? i.a.licenseCheck({
                    product: "equatio",
                    disableUserHash: !1,
                    user: r.email,
                    loginType: "google",
                    authCode: e
                }, function(e, r) {
                    e ? n(Error(e)) : (g = m({}, r), y(function*() {
                        yield u(g), t(g);
                    })());
                }) : n(Error("not_signed_into_chrome"));
            });
        });
    }, E = void 0, T = function() {
        return E || (E = new Promise(function(e, t) {
            chrome.identity.getProfileUserInfo(function(n) {
                if (!n || !n.email) return g = f(), E = null, void t(Error("not_signed_into_chrome"));
                i.a.licenseCheck({
                    product: "equatio",
                    disableUserHash: !1,
                    user: n.email,
                    loginType: "google"
                }, function(r, o) {
                    return "lt" in o ? (g = m({}, o), E = void 0, y(function*() {
                        yield s();
                    })(), void e(g)) : r ? (g = v(n.email), E = void 0, void t(r)) : (g = m({}, o), 
                    void y(function*() {
                        yield u(g), E = void 0, e(g);
                    })());
                });
            });
        }));
    }, C = n(15), S = n.n(C);
    function N(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var I = !1, O = N(function*() {
        return I ? S.a : (S.a.initializeApp({
            apiKey: "AIzaSyC4gC1lRgGeRuKN4vsTQ7A5414G9nXL9Jg",
            authDomain: "equatio-for-desktop.firebaseapp.com",
            databaseURL: "https://equatio-for-desktop.firebaseio.com",
            projectId: "equatio-for-desktop",
            storageBucket: "equatio-for-desktop"
        }), I = !0, S.a);
    }), P = function() {
        return S.a.auth().currentUser.getIdToken(!0);
    }, R = 0, A = function(e) {
        return new Promise(function(t, n) {
            chrome.identity.removeCachedAuthToken({
                token: e
            }, function() {
                return chrome.runtime.lastError ? n() : t();
            });
        });
    }, k = function e(t, n) {
        chrome.identity.getAuthToken({
            interactive: !0
        }, function(r) {
            var o = !chrome.runtime.lastError && r;
            return !o && R < 2 ? (R += 1, void e(t, n)) : o ? (R = 0, void t(r)) : (R = 0, void n());
        });
    }, x = function() {
        return new Promise(function(e, t) {
            k(e, t);
        });
    }, D = new Promise(function(e, t) {
        chrome.identity.getProfileUserInfo(function(n) {
            return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(n);
        });
    }), L = function() {
        function e(e, t) {
            var n = [], r = !0, o = !1, i = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 
                !t || n.length !== t); r = !0) ;
            } catch (e) {
                o = !0, i = e;
            } finally {
                try {
                    !r && s.return && s.return();
                } finally {
                    if (o) throw i;
                }
            }
            return n;
        }
        return function(t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
        };
    }(), M = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    };
    function F(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e;
    }
    function U(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var j, q, W, B, V = void 0, G = {
        options: {
            fontSize: "regular",
            locale: "enUS",
            prediction: {
                math: !0
            }
        },
        profile_info: {
            type: "student"
        }
    }, H = function(e) {
        V = e, G.profile_info.type = e;
    }, K = !1, Q = (j = U(function*() {
        if (!K) {
            var e = yield O();
            K = !0;
            var t = (yield D).email;
            if (V) try {
                yield e.database().ref("/users/" + e.auth().currentUser.uid).update({
                    "profile_info/type": V
                });
            } catch (e) {}
            yield new Promise(function(n, r) {
                e.database().ref("/users/" + e.auth().currentUser.uid).on("value", function(e) {
                    (G = M({}, e.val())).profile_info = M({}, G.profile_info, {
                        email: t
                    }), n();
                }, function(e) {
                    r(e);
                });
            });
        }
    }), function() {
        return j.apply(this, arguments);
    }), Y = (q = U(function*(e) {
        var t = yield fetch("https://equatio-auth.texthelp.com/access-token?token=" + encodeURIComponent(e));
        return t.ok ? t.text() : Promise.reject();
    }), function(e) {
        return q.apply(this, arguments);
    }), X = 0, z = (W = U(function*() {
        var e = yield O(), t = void 0;
        try {
            if (e.auth().currentUser) return Q();
            t = yield x();
            var n = yield Y(t);
            return yield e.auth().signInWithCustomToken(n), X = 0, Q();
        } catch (e) {
            if (t && X < 2) return X += 1, yield A(t), z();
            throw e;
        }
    }), function() {
        return W.apply(this, arguments);
    }), J = function() {
        return G;
    }, $ = function(e) {
        return Object.entries(e).reduce(function(t, n) {
            var r = L(n, 2), o = r[0], i = r[1];
            return M({}, t, void 0 !== e[o] ? F({}, o, i) : void 0);
        }, {});
    }, Z = (B = U(function*(e, t) {
        var n = yield O();
        n.database().ref("/users/" + n.auth().currentUser.uid).update($({
            "options/fontSize": t.fontSize,
            "options/locale": t.locale,
            "options/showTips": t.showTips,
            "options/prediction/math": t.math,
            "options/prediction/chemistry": t.chemistry,
            "options/prediction/formulas": t.formulas,
            "profile_info/type": e.profileType
        }));
    }), function(e, t) {
        return B.apply(this, arguments);
    }), ee = void 0, te = function() {
        return ee ? Promise.resolve(ee) : new Promise(function(e, t) {
            chrome.identity.getProfileUserInfo(function(n) {
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : n ? (ee = l.a.hashEmail(n.email), 
                e(ee)) : t(Error("not_signed_in"));
            });
        });
    };
    function ne(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var re, oe = void 0, ie = function() {
        return new Promise(function(e, t) {
            chrome.storage.sync.get("EquatioHasSeenFirstRun", function(n) {
                var r = n.EquatioHasSeenFirstRun;
                chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(void 0 !== r ? JSON.parse(r) : null);
            });
        });
    }, ae = function(e) {
        return new Promise(function(t, n) {
            chrome.storage.sync.set({
                EquatioHasSeenFirstRun: JSON.stringify(e)
            }, function() {
                chrome.runtime.lastError ? n(chrome.runtime.lastError) : t();
            });
        });
    }, se = (re = ne(function*() {
        if (void 0 !== oe) return oe;
        var e = yield ie();
        if (null !== e) return oe = !!e;
        var t = yield O(), n = yield te(), r = yield t.database().ref("/user_hash/" + encodeURIComponent(n).replace(/\./g, "%2E")).once("value");
        return oe = !0 === r.val(), yield ae(oe), oe;
    }), function() {
        return re.apply(this, arguments);
    }), ue = function() {
        var e = ne(function*() {
            yield ae(!0), oe = !0;
            var e = yield te();
            return (yield O()).database().ref("/user_hash/" + encodeURIComponent(e).replace(/\./g, "%2E")).set(!0);
        });
        return function() {
            return e.apply(this, arguments);
        };
    }(), ce = !1, le = function() {
        return ce;
    }, he = function(e) {
        ce = e;
    }, pe = function() {
        function e(e, t) {
            var n = [], r = !0, o = !1, i = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 
                !t || n.length !== t); r = !0) ;
            } catch (e) {
                o = !0, i = e;
            } finally {
                try {
                    !r && s.return && s.return();
                } finally {
                    if (o) throw i;
                }
            }
            return n;
        }
        return function(t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
        };
    }(), de = new Set(), fe = /^chrome-extension:\/\/(.*?)(?:\/|$)/i, ve = function(e) {
        var t = fe.exec(e) || [];
        return pe(t, 2)[1];
    }, me = function(e) {
        var t = ve(e);
        return !!t && de.has(t);
    }, ye = function(e) {
        de.add(e);
    }, ge = function(e) {
        if (me(e)) {
            var t = ve(e);
            if (!t) return;
            chrome.runtime.sendMessage(t, {
                action: "EQUATIO_BROWSER_ACTION_CLICKED"
            }, function() {
                chrome.runtime.lastError;
            });
        }
    }, _e = Object.freeze({
        Mathspace: "mathspace",
        Mac: "mac",
        Windows: "windows",
        GoogleDocs: "docs",
        GoogleDrawings: "drawings",
        GoogleSheets: "sheets",
        GoogleForms: "forms",
        GoogleSlides: "slides",
        PDFReader: "th_pdf_reader"
    }), be = function(e) {
        return e && Object.keys(_e).some(function(t) {
            return e === _e[t];
        });
    }, we = function() {
        var e = {};
        return {
            on: function(t, n) {
                if ("function" != typeof n) throw Error("'callback' must be of type function");
                Array.isArray(e[t]) ? e[t].push(n) : e[t] = [ n ];
            },
            off: function(t, n) {
                if (Array.isArray(e[t])) {
                    var r = e[t].findIndex(function(e) {
                        return e === n;
                    });
                    e[t].splice(r, 1);
                }
            },
            callEvent: function(t) {
                for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) r[o - 1] = arguments[o];
                Array.isArray(e[t]) && e[t].forEach(function(e) {
                    return e.apply(void 0, r);
                });
            }
        };
    }, Ee = function(e, t) {
        return C.database().ref("/active_documents/" + C.auth().currentUser.uid).push({
            createdAt: new Date().getTime(),
            updatedAt: new Date().getTime(),
            currentData: {},
            title: e,
            platform: t
        });
    }, Te = function(e) {
        return function(t) {
            e.update({
                title: t
            });
        };
    }, Ce = function(e) {
        return e.once("value").then(function(e) {
            return e.exists();
        }).then(function(t) {
            return t ? e.update({
                updatedAt: new Date().getTime()
            }) : Promise.resolve();
        });
    }, Se = function(e) {
        e.remove();
    }, Ne = function(e) {
        e.child("currentData").off();
    }, Ie = function(e, t) {
        e.child("currentData").on("value", function(e) {
            var n = e.val();
            if (n) {
                var r = n.type, o = n.content;
                t({
                    type: r,
                    content: o
                });
            }
        });
    }, Oe = function(e) {
        e.onDisconnect().remove();
    }, Pe = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
            title: "",
            platform: ""
        }, t = e.title, n = e.platform, r = e.onInsert, o = e.onDisconnect, i = void 0;
        return C.database().ref(".info/connected").on("value", function(e) {
            e.val() ? (i && Ne(), i = Ee(t, n), Ie(i, r), Oe(i)) : (i = null, o());
        }), {
            getRef: function() {
                return i;
            }
        };
    }, Re = (Object.freeze({
        Math: "math",
        Image: "image"
    }), function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.platform, n = e.title, r = void 0 === n ? "" : n;
        if (!be(t)) throw Error("'platform' must be provided. Use import { Platforms } from 'equatio-companion-receiver' to get a list of valid platform values");
        var o = void 0, i = we(), a = i.on, s = i.off, u = i.callEvent, c = Pe({
            platform: t,
            title: r,
            onInsert: function(e) {
                return u("insert", e);
            },
            onDisconnect: function() {
                o && clearInterval(o), u("disconnect");
            }
        }).getRef;
        return o = setInterval(function() {
            Ce(c());
        }, 6e4), {
            on: a,
            off: s,
            disconnect: function() {
                Se(c());
            },
            setTitle: function(e) {
                Te(c())(e);
            },
            getRef: c
        };
    }), Ae = n(24), ke = n.n(Ae), xe = [ "efeafadncamffgiohgiciboonbjldkfj", "feepmdlmhplaojabeoecaobfmibooaid" ].map(function(e) {
        return {
            id: e,
            regex: new RegExp("^chrome-extension:\\/\\/" + e + "/")
        };
    }), De = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href;
        return xe.some(function(t) {
            return t.regex.test(e);
        });
    }, Le = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href;
        return (xe.find(function(t) {
            return t.regex.test(e);
        }) || {}).id;
    }, Me = function() {
        function e(e, t) {
            var n = [], r = !0, o = !1, i = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 
                !t || n.length !== t); r = !0) ;
            } catch (e) {
                o = !0, i = e;
            } finally {
                try {
                    !r && s.return && s.return();
                } finally {
                    if (o) throw i;
                }
            }
            return n;
        }
        return function(t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
        };
    }(), Fe = new Map(), Ue = function(e, t) {
        return De(e) ? (t.replace(/^PDF - /, "") || "Untitled").trim() : (t.split("-")[0] || "Untitled").trim();
    }, je = function(e, t) {
        var n = new ke.a(e, !1), r = new ke.a(t, !1);
        return n.host !== r.host || n.pathname !== r.pathname;
    };
    chrome.tabs.onRemoved.addListener(function(e) {
        var t = Fe.get(e);
        t && (t.receiver.disconnect(), Fe.delete(e));
    });
    var qe = function(e, t) {
        t ? chrome.tabs.get(t, function(t) {
            var n = t.url, r = t.title;
            e.setTitle(Ue(n, r));
        }) : chrome.tabs.query({
            active: !0,
            currentWindow: !0
        }, function(t) {
            if (t.length) {
                var n = Me(t, 1)[0], r = n.url, o = n.title;
                e.setTitle(Ue(r, o));
            }
        });
    };
    chrome.tabs.onUpdated.addListener(function(e, t) {
        var n = t.title, r = t.url, o = t.status, i = Fe.get(e);
        if (i) {
            var a = i.receiver, s = i.url, u = function() {
                if (r && je(s, r)) return a.disconnect(), void Fe.delete(e);
                n ? a.setTitle(Ue(s, n)) : qe(a);
            };
            "complete" === o ? chrome.tabs.executeScript(e, {
                code: '!!document.querySelector(".equatio-toolbar-wrapper")'
            }, function(t) {
                !Me(t, 1)[0] && a ? (a.disconnect(), Fe.delete(e)) : u();
            }) : u();
        }
    });
    var We = function(e) {
        return Fe.get(e);
    }, Be = function(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "Untitled", n = arguments[2], r = arguments[3], o = Re({
            platform: e,
            title: t
        });
        qe(o, r), Fe.set(r, {
            receiver: o,
            url: n
        }), o.on("insert", function(e) {
            var t = e.type, o = e.content;
            if (chrome.tabs.get(r, function(e) {
                e && chrome.windows.update(e.windowId, {
                    focused: !0
                }, function() {
                    chrome.tabs.update(r, {
                        active: !0
                    });
                });
            }), "math" === t) {
                if (De(n)) return void chrome.runtime.sendMessage(Le(n), {
                    action: "EQUATIO_COMPANION_INSERT_MATH",
                    tab: r,
                    latex: o
                }, function() {
                    chrome.runtime.lastError;
                });
                chrome.tabs.executeScript(r, {
                    code: "window.postMessage(" + JSON.stringify({
                        action: "EQUATIO_COMPANION_INSERT_MATH",
                        latex: o
                    }) + ", window.location.origin);"
                });
            } else if ("image" === t) {
                if (De(n)) return void chrome.runtime.sendMessage(Le(n), {
                    action: "EQUATIO_COMPANION_INSERT_IMAGE",
                    tab: r,
                    image: o
                }, function() {
                    chrome.runtime.lastError;
                });
                chrome.tabs.executeScript(r, {
                    code: "window.postMessage(" + JSON.stringify({
                        action: "EQUATIO_COMPANION_INSERT_IMAGE",
                        image: o
                    }) + ", window.location.origin);"
                });
            }
        });
    }, Ve = function(e, t) {
        var n = Fe.get(t);
        n && n.receiver.setTitle(e);
    };
    function Ge(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var He = function() {
        return new Promise(function(e, t) {
            chrome.storage.sync.get("EquatioHandwritingCount", function(n) {
                var r = n.EquatioHandwritingCount;
                chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(r ? JSON.parse(r) : null);
            });
        });
    }, Ke = function(e) {
        return new Promise(function(t, n) {
            chrome.storage.sync.set({
                EquatioHandwritingCount: JSON.stringify({
                    date: a(),
                    count: e
                })
            }, function() {
                chrome.runtime.lastError ? n(chrome.runtime.lastError) : t();
            });
        });
    }, Qe = function() {
        var e = Ge(function*() {
            var e = yield He();
            if (!e) return 2;
            var t = e.date, n = e.count;
            return t !== a() ? 2 : n;
        });
        return function() {
            return e.apply(this, arguments);
        };
    }();
    function Ye(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
        }
        return Array.from(e);
    }
    function Xe(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var ze = function() {
        return new Promise(function(e, t) {
            chrome.identity.getAuthToken({
                interactive: !0,
                scopes: [ "https://www.googleapis.com/auth/spreadsheets" ]
            }, function(n) {
                !chrome.runtime.lastError && n ? e(n) : t();
            });
        });
    }, Je = function() {
        var e = Xe(function*(e) {
            var t = yield ze(), n = yield fetch("https://sheets.googleapis.com/v4/spreadsheets/" + e + "/values/A:ZZ", {
                credentials: "omit",
                headers: {
                    Authorization: "Bearer " + t
                }
            });
            if (!n.ok) throw Error("invalid_response");
            var r = (yield n.json()).values;
            if (!Array.isArray(r)) throw Error("no_values_array");
            return r;
        });
        return function(t) {
            return e.apply(this, arguments);
        };
    }(), $e = function(e) {
        for (var t = "", n = 1, r = 26; (e -= n) >= 0; n = r, r *= 26) t = String.fromCharCode(parseInt(e % r / n) + 65) + t;
        return t;
    }, Ze = function() {
        var e = Xe(function*(e, t) {
            if (t.length) {
                var n = yield ze(), r = fetch("https://sheets.googleapis.com/v4/spreadsheets/" + e + "/values:batchUpdate", {
                    credentials: "omit",
                    headers: {
                        Authorization: "Bearer " + n
                    },
                    method: "POST",
                    body: JSON.stringify({
                        valueInputOption: "USER_ENTERED",
                        includeValuesInResponse: !1,
                        data: t
                    })
                });
                if (!r.ok) yield r.text();
            }
        });
        return function(t, n) {
            return e.apply(this, arguments);
        };
    }(), et = function(e) {
        return [ "https://equatio-api.texthelp.com/", "https://equatio-api-dev.texthelp.com/" ].some(function(t) {
            return e.includes && e.includes(t);
        });
    }, tt = function(e) {
        return e.reduce(function(e, t, n) {
            var r = n + 1;
            return [].concat(Ye(e), Ye(t.reduce(function(e, t, n) {
                return et(t) ? [].concat(Ye(e), [ {
                    range: "" + $e(n + 1) + r,
                    values: [ [ '=IMAGE("' + t + '")' ] ]
                } ]) : e;
            }, [])));
        }, []);
    }, nt = function() {
        var e = Xe(function*(e) {
            var t = yield Je(e), n = tt(t);
            yield Ze(e, n);
        });
        return function(t) {
            return e.apply(this, arguments);
        };
    }(), rt = function(e, t) {
        chrome.tabs.executeScript({
            code: 'window.postMessage({\n            action: "EQUATIO_UPGRADE_OVERLAY_SHOW",\n            notificationType: "' + e + '",\n            isTeacher: ' + t + "\n        }, window.location.origin);"
        });
    };
    function ot(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e;
    }
    function it(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var at = function() {
        var e = it(function*(e, t, n) {
            var r = 6e4 * t, o = "upgrade_notification_" + e, i = function() {
                return new Promise(function(e, t) {
                    chrome.storage.local.set(ot({}, o, new Date().getTime()), function() {
                        return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e();
                    });
                });
            };
            (yield function() {
                return new Promise(function(e, t) {
                    chrome.storage.local.get(o, function(n) {
                        return chrome.runtime.lastError ? t(chrome.runtime.lastError) : void 0 === n[o] ? e(!0) : n[o] < 0 ? e(!0) : e(new Date().getTime() - n[o] >= r);
                    });
                });
            }()) && (n(), yield i());
        });
        return function(t, n, r) {
            return e.apply(this, arguments);
        };
    }(), st = n(7);
    function ut(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var ct = 120, lt = ut(function*() {
        return at("forms_reminder", ct, function() {
            var e = _(), t = J();
            e && e.daysleft <= 0 && t.profile_info && "teacher" === t.profile_info.type && rt(st.a.Teacher.FormsPeriodicReminder, !0);
        });
    });
    function ht(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var pt = ht(function*() {
        if ((yield Qe()) <= 0) {
            var e = J();
            _().daysleft <= 0 && (e && e.profile_info && "teacher" === e.profile_info.type ? rt(st.a.Teacher.HandwritingExceeded, !0) : rt(st.a.Student.HandwritingExceeded, !1));
        }
    }), dt = 120, ft = function() {
        return at("prediction_reminder", dt, function() {
            var e = J();
            _().daysleft <= 0 && e && e.profile_info && "teacher" === e.profile_info.type && rt(st.a.Teacher.PredictionPeriodicReminder, !0);
        });
    };
    function vt(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var mt = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.get("upgrade_notification_renewal", function(n) {
                var r = n.upgrade_notification_renewal;
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(!0 === r);
            });
        });
    }, yt = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.set({
                upgrade_notification_renewal: !0
            }, function() {
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e();
            });
        });
    }, gt = vt(function*() {
        var e = J(), t = _();
        "Freemium" !== t.licence_type && t.daysleft > 0 && t.daysleft <= 5 && ((yield mt()) || e && e.profile_info && "teacher" === e.profile_info.type && rt(st.a.Teacher.Expiring, !0), 
        yield yt());
    });
    function _t(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var bt = function() {
        var e = _();
        return e ? e.daysleft : 1;
    }, wt = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.get("upgrade_notification_trial_expiry", function(n) {
                var r = n.upgrade_notification_trial_expiry;
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(!0 === r);
            });
        });
    }, Et = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.set({
                upgrade_notification_trial_expiry: !0
            }, function() {
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e();
            });
        });
    }, Tt = _t(function*() {
        if (bt() <= 0) {
            if (!(yield wt())) {
                var e = J(), t = _();
                "Freemium" === t.licence_type && t.daysleft <= 0 && (e && e.profile_info && "teacher" === e.profile_info.type ? rt(st.a.Teacher.FirstTimeExpiry, !0) : rt(st.a.Student.Expired, !1));
            }
            yield Et();
        }
    }), Ct = 120, St = function() {
        return at("upgrade_reminder", Ct, function() {
            var e = J();
            _().daysleft <= 0 && (e && e.profile_info && "teacher" === e.profile_info.type ? rt(st.a.Teacher.GeneralPeriodicReminder, !0) : rt(st.a.Student.UpgradeReminder, !1));
        });
    }, Nt = analytics.getService("equatio").getTracker("UA-93550148-3"), It = !1, Ot = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _();
        if (!It) {
            var t = "";
            e && (t = e.user) && (It = !0, Nt.set("userId", t));
        }
    }, Pt = function(e) {
        Ot(), Nt.sendAppView(e);
    }, Rt = function(e) {
        var t = _();
        Ot(t);
        var n = "", r = "";
        t && (n = t.user) && (r = n.split("@").pop()), Nt.sendEvent(e, n, r);
    }, At = function() {
        return new Promise(function(e, t) {
            chrome.tabs.captureVisibleTab(null, {
                format: "png",
                quality: 100
            }, function(n) {
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(n);
            });
        });
    }, kt = function() {
        function e(e, t) {
            var n = [], r = !0, o = !1, i = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), 
                !t || n.length !== t); r = !0) ;
            } catch (e) {
                o = !0, i = e;
            } finally {
                try {
                    !r && s.return && s.return();
                } finally {
                    if (o) throw i;
                }
            }
            return n;
        }
        return function(t, n) {
            if (Array.isArray(t)) return t;
            if (Symbol.iterator in Object(t)) return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
        };
    }(), xt = function() {
        return new Promise(function(e, t) {
            chrome.tabs.query({
                active: !0,
                currentWindow: !0
            }, function(e) {
                var n = kt(e, 1)[0];
                n && (chrome.runtime.lastError ? t(chrome.runtime.lastError) : chrome.tabs.sendMessage(n.id, {
                    action: r.a.StartScreenshotReader
                }));
            });
        });
    }, Dt = function(e, t, n, r, o) {
        return new Promise(function(i, a) {
            var s = document.createElement("canvas");
            s.width = r, s.height = o;
            var u = new Image();
            u.onload = function() {
                s.getContext("2d").drawImage(u, t, n, r, o, 0, 0, r, o), i(s.toDataURL());
            }, u.onerror = function(e) {
                a(e);
            }, u.src = e;
        });
    };
    function Lt(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var Mt = function() {
        var e = Lt(function*(e, t, n, r, o) {
            var i = yield Dt(e, t, n, r, o), a = yield fetch("https://api.mathpix.com/v3/latex", {
                method: "POST",
                headers: {
                    app_id: "EquatIO",
                    app_key: "018b8171dc4aaecfa0af08f8466b220b",
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    url: i,
                    ocr: [ "math", "text" ]
                })
            });
            if (!a.ok) throw Error("Failed to fetch from MathPix API");
            return (yield a.json()).latex;
        });
        return function(t, n, r, o, i) {
            return e.apply(this, arguments);
        };
    }();
    function Ft(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var Ut = function(e) {
        return "https://equatio-desmos-proxy.texthelp.com/desmos/upload" + (e ? "/permalink" : "");
    }, jt = function(e) {
        return new Promise(function(t, n) {
            var r = function() {
                try {
                    URL.revokeObjectURL(e);
                } catch (e) {}
            }, o = new XMLHttpRequest();
            o.open("GET", e, !0), o.responseType = "blob", o.onload = function() {
                200 === this.status && (r(), t(this.response));
            }, o.onerror = function(e) {
                r(), n(e);
            }, o.send();
        });
    }, qt = function() {
        var e = Ft(function*(e, t, n) {
            var r = yield P(), o = void 0;
            o = e ? yield jt(e) : yield fetch(t).then(function(e) {
                return e.blob();
            });
            var i = yield fetch(Ut(n), {
                method: "POST",
                headers: {
                    Authorization: "Bearer " + r,
                    "Content-Type": "image/png"
                },
                body: o
            });
            return i.ok ? i.json() : Promise.reject();
        });
        return function(t, n, r) {
            return e.apply(this, arguments);
        };
    }();
    function Wt(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    function Bt(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e;
    }
    var Vt = Object.freeze({
        Dismiss: "dismiss_review_notification",
        Count: "review_notification_count"
    }), Gt = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.get(Vt.Dismiss, function(n) {
                var r = n[Vt.Dismiss];
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(!0 === r);
            });
        });
    }, Ht = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.get(Vt.Count, function(n) {
                var r = n[Vt.Count];
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(r || 0);
            });
        });
    }, Kt = function(e) {
        return new Promise(function(t, n) {
            chrome.storage.local.set(Bt({}, Vt.Count, e), function() {
                return chrome.runtime.lastError ? n(chrome.runtime.lastError) : t();
            });
        });
    }, Qt = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.set(Bt({}, Vt.Dismiss, !0), function() {
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e();
            });
        });
    }, Yt = Wt(function*() {
        if (!(yield Gt())) {
            var e = yield Ht(), t = J();
            t && t.profile_info && "teacher" === t.profile_info.type && (5 === e ? (rt(st.a.Teacher.Review, !0), 
            yield Kt(0)) : yield Kt(e + 1));
        }
    }), Xt = n(100), zt = n.n(Xt), Jt = n(101), $t = n.n(Jt), Zt = [ "docs.google.com" ], en = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    };
    function tn(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
        }
        return Array.from(e);
    }
    function nn(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var rn = [ "khanacademy.org", "deltamath.com" ], on = function() {
        return new Promise(function(e, t) {
            chrome.storage.local.get("dismiss_math_discover", function(n) {
                var r = n.dismiss_math_discover;
                return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e(r || null);
            });
        });
    }, an = function() {
        var e = nn(function*(e) {
            var t = (yield on()) || {}, n = e.type, r = e.sender, o = void 0;
            switch (n) {
              case "permanent":
                o = {
                    type: "permanent"
                };
                break;

              case "timed":
                o = en({}, t, {
                    type: "temporary",
                    expiry: $t()(new Date().toISOString(), e.mins).toISOString()
                });
                break;

              case "domain":
                var i = ke()(r.tab.url).host;
                o = en({}, t, {
                    type: "temporary",
                    blockedDomains: [].concat(tn(t.blockedDomains || []), [ i ])
                });
                break;

              default:
                return Promise.resolve();
            }
            return new Promise(function(e, t) {
                chrome.storage.local.set({
                    dismiss_math_discover: o
                }, function() {
                    return chrome.runtime.lastError ? t(chrome.runtime.lastError) : e();
                });
            });
        });
        return function(t) {
            return e.apply(this, arguments);
        };
    }(), sn = function() {
        var e = nn(function*(e) {
            if (_().daysleft < 0) return !1;
            var t = ke()(e).host;
            if (rn.some(function(e) {
                return e === t || "www." + e === t;
            })) return !1;
            if (Zt.some(function(e) {
                return e === t;
            })) return !1;
            var n = yield on();
            if (!n) return !0;
            var r = n.type, o = n.blockedDomains, i = void 0 === o ? [] : o;
            if ("permanent" === r) return !1;
            if (i.some(function(e) {
                return e === t;
            })) return !1;
            var a = n.expiry;
            return !a || !zt()(new Date().toISOString(), a);
        });
        return function(t) {
            return e.apply(this, arguments);
        };
    }(), un = n(102), cn = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    }, ln = function(e, t) {
        var n = (We(e.id) || {}).receiver;
        if (n) {
            var r = n.getRef();
            if (r && r.key) {
                var o = r.key, i = Object(un.stringify)(cn({}, t && {
                    existingExternalRef: t
                }, {
                    externalRef: o
                }));
                chrome.tabs.create({
                    url: "https://equatio.texthelp.com/space?" + i
                });
            }
        }
    };
    function hn(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e;
    }
    function pn(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var dn = function() {
        return chrome.tabs.insertCSS({
            file: "ui/formsInterface/css/all.css"
        }), Promise.resolve();
    }, fn = function(e) {
        var t, n, o, i, a, s, u, c, l, h, p, d, f, v, m, y, g, b, E;
        return (t = {}, hn(t, r.a.RegisterExternalWebApp, (E = pn(function*(e) {
            var t = e.id;
            return ye(t);
        }), function(e) {
            return E.apply(this, arguments);
        })), hn(t, r.a.InjectFormRequirements, pn(function*() {
            return dn();
        })), hn(t, r.a.GetLicense, pn(function*() {
            return _();
        })), hn(t, r.a.EnsureLoggedIntoFirebase, pn(function*() {
            return z();
        })), hn(t, r.a.GetProfile, pn(function*() {
            return J();
        })), hn(t, r.a.UpdateProfile, (b = pn(function*(e) {
            var t = e.options, n = e.profile;
            return Z(n, t);
        }), function(e) {
            return b.apply(this, arguments);
        })), hn(t, r.a.EnterProductCode, (g = pn(function*(e) {
            var t = e.code;
            return w(t);
        }), function(e) {
            return g.apply(this, arguments);
        })), hn(t, r.a.GetFirebaseToken, pn(function*() {
            return yield z(), P();
        })), hn(t, r.a.OpenGoogleFormsPicker, (y = pn(function*(e) {
            var t = e.sender, n = e.url, r = e.picker;
            chrome.tabs.sendMessage(t.tab.id, {
                action: "open_url",
                targetWindow: r,
                url: n
            });
        }), function(e) {
            return y.apply(this, arguments);
        })), hn(t, r.a.GoogleFormsPickerLoaded, (m = pn(function*(e) {
            var t = e.sender, n = e.location;
            chrome.tabs.sendMessage(t.tab.id, {
                action: "image_dialog_loaded",
                pickerWindow: n
            }), chrome.tabs.executeScript(t.tab.id, {
                code: "window.postMessage(" + JSON.stringify({
                    action: "image_dialog_loaded",
                    pickerWindow: n
                }) + ', "*")'
            });
        }), function(e) {
            return m.apply(this, arguments);
        })), hn(t, r.a.SetHasSeenFirstRun, pn(function*() {
            return ue();
        })), hn(t, r.a.SetProfileType, (v = pn(function*(e) {
            var t = e.type;
            return H(t);
        }), function(e) {
            return v.apply(this, arguments);
        })), hn(t, r.a.SetShowEquatioOnFirstRun, (f = pn(function*(e) {
            var t = e.value;
            return he(t);
        }), function(e) {
            return f.apply(this, arguments);
        })), hn(t, r.a.GetShouldShowEquatioOnFirstRun, pn(function*() {
            return le();
        })), hn(t, r.a.RegisterCompanionAppTarget, (d = pn(function*(e) {
            var t = e.platform, n = e.sender.tab, r = n.title, o = n.url, i = n.id;
            Be(t, r, o, i);
        }), function(e) {
            return d.apply(this, arguments);
        })), hn(t, r.a.UpdateCompanionAppTargetTitle, (p = pn(function*(e) {
            var t = e.title, n = e.sender;
            Ve(t, n.tab.id);
        }), function(e) {
            return p.apply(this, arguments);
        })), hn(t, r.a.SetHandwritingCount, (h = pn(function*(e) {
            var t = e.count;
            return Ke(t);
        }), function(e) {
            return h.apply(this, arguments);
        })), hn(t, r.a.GetHandwritingCount, pn(function*() {
            return Qe();
        })), hn(t, r.a.UpdateGoogleSheetEquations, (l = pn(function*(e) {
            var t = e.spreadsheetId;
            yield nt(t);
        }), function(e) {
            return l.apply(this, arguments);
        })), hn(t, r.a.ShowGoogleFormsReminder, pn(function*() {
            return lt();
        })), hn(t, r.a.ShowHandwritingExceededReminder, pn(function*() {
            return pt();
        })), hn(t, r.a.ShowPredictionReminder, pn(function*() {
            return ft();
        })), hn(t, r.a.ShowRenewalReminder, pn(function*() {
            return gt();
        })), hn(t, r.a.ShowTrialExpiration, pn(function*() {
            return Tt();
        })), hn(t, r.a.ShowUpgradeReminder, pn(function*() {
            return St();
        })), hn(t, r.a.ShowReviewReminder, pn(function*() {
            return Yt();
        })), hn(t, r.a.SendAnalyticsEvent, (c = pn(function*(e) {
            var t = e.category;
            return Rt(t);
        }), function(e) {
            return c.apply(this, arguments);
        })), hn(t, r.a.SendAnalyticsScreen, (u = pn(function*(e) {
            var t = e.screenName;
            return Pt(t);
        }), function(e) {
            return u.apply(this, arguments);
        })), hn(t, r.a.UpdateGoogleSheetEquations, (s = pn(function*(e) {
            var t = e.spreadsheetId;
            return nt(t);
        }), function(e) {
            return s.apply(this, arguments);
        })), hn(t, r.a.CaptureScreenshot, pn(function*() {
            return At();
        })), hn(t, r.a.StartScreenshotReader, pn(function*() {
            return xt();
        })), hn(t, r.a.ScanMathpixOcr, (a = pn(function*(e) {
            var t = e.base64, n = e.x, r = e.y, o = e.width, i = e.height;
            return Mt(t, n, r, o, i);
        }), function(e) {
            return a.apply(this, arguments);
        })), hn(t, r.a.UploadImageToProxy, (i = pn(function*(e) {
            var t = e.url, n = e.base64, r = e.isPermanent;
            return qt(t, n, r);
        }), function(e) {
            return i.apply(this, arguments);
        })), hn(t, r.a.DismissReviewReminder, pn(function*() {
            return Qt();
        })), hn(t, r.a.DismissMathDiscover, (o = pn(function*(e) {
            return an(e);
        }), function(e) {
            return o.apply(this, arguments);
        })), hn(t, r.a.OpenMathspace, (n = pn(function*(e) {
            var t = e.sender, n = e.platformIntegrationId;
            return ln(t.tab, n);
        }), function(e) {
            return n.apply(this, arguments);
        })), t)[e];
    }, vn = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
    };
    function mn(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    function yn(e, t) {
        var n = {};
        for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
        return n;
    }
    var gn = function(e) {
        chrome.tabs.sendMessage(e, {
            action: "load"
        });
    }, _n = function(e, t, n) {
        var r = e.action, o = yn(e, [ "action" ]);
        if ("load" === r) return gn(t.tab.id), n({
            success: !0
        }), !0;
        var i = fn(r);
        return "function" == typeof i ? (mn(function*() {
            try {
                var e = yield i(vn({
                    sender: t
                }, o));
                n({
                    success: e
                });
            } catch (e) {
                n({
                    failure: e || "unknown_error"
                });
            }
        })(), !0) : (n(), !1);
    };
    chrome.runtime.onMessage.addListener(_n), chrome.runtime.onMessageExternal.addListener(_n);
    var bn = {
        Sheets: {
            url: "spreadsheets",
            feature: "Sheets Integration"
        },
        Slides: {
            url: "presentation",
            feature: "Slides Integration"
        },
        Drawings: {
            url: "drawings",
            feature: "Drawings Integration"
        }
    }, wn = Object.values(bn).reduce(function(e, t) {
        return e.push(t.url), e;
    }, []), En = function(e) {
        return -1 !== e.url.indexOf("docs.google.com/") && wn.some(function(t) {
            return e.url.indexOf("/" + t + "/") >= 0;
        });
    }, Tn = function(e, t) {
        chrome.browserAction.setPopup({
            tabId: e.id,
            popup: ""
        }), Object.values(bn).forEach(function(n) {
            -1 !== e.url.indexOf("/" + n.url + "/") && (!t.features[n.feature] && t.daysleft > 0 ? chrome.browserAction.setPopup({
                tabId: e.id,
                popup: "browserAction/index.html?show=gapps-disabled"
            }) : !t.features[n.feature] && t.daysleft <= 0 && chrome.browserAction.setPopup({
                tabId: e.id,
                popup: "browserAction/index.html?show=gapps-premium"
            }));
        });
    }, Cn = function(e) {
        return -1 !== e.url.indexOf("docs.google.com/") && e.url.indexOf("/forms/") >= 0;
    };
    function Sn(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var Nn = function(e) {
        chrome.browserAction.setPopup({
            tabId: e,
            popup: ""
        });
    }, In = function() {
        chrome.browserAction.setPopup({
            popup: "browserAction/index.html?show=chrome-signin"
        });
    }, On = {
        FormsDisabled: "forms-disabled",
        FormsPremium: "forms-premium",
        Forms: "forms",
        WebToolbarPremium: "web-premium"
    }, Pn = function(e, t) {
        chrome.browserAction.setPopup({
            tabId: e,
            popup: "browserAction/index.html?show=" + t
        });
    }, Rn = function(e) {
        var t = e.id, n = e.url;
        if (me(t)) Nn(t); else {
            var r = _();
            if (r && r.hide_unlicensed && "Freemium" === r.licence_type ? chrome.browserAction.disable(t) : chrome.browserAction.enable(t), 
            n.includes("docs.google.com/document/d")) Nn(t); else {
                if (!En(e)) return Cn(e) ? !r.features["Forms Integration"] && r.daysleft > 0 ? void Pn(t, On.FormsDisabled) : r.daysleft <= 0 ? void Pn(t, On.FormsPremium) : void Pn(t, On.Forms) : void (!r || r.daysleft < 0 ? Pn(t, On.WebToolbarPremium) : Nn(t));
                Tn(e, r);
            }
        }
    }, An = Sn(function*() {
        try {
            yield te();
        } catch (e) {
            return void In();
        }
        chrome.tabs.query({
            currentWindow: !0,
            active: !0
        }, function(e) {
            e.forEach(Rn);
        });
    });
    function kn(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    var xn = void 0, Dn = function() {
        var e = kn(function*(e) {
            var t = e.id, n = e.url;
            e.active && ((yield sn(n)) && (clearTimeout(xn), xn = setTimeout(function() {
                chrome.tabs.executeScript(t, {
                    file: "content/mathDiscoverabilityBundle.js"
                });
            }, 3e3)));
        });
        return function(t) {
            return e.apply(this, arguments);
        };
    }();
    function Ln(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    chrome.tabs.onUpdated.addListener(An), chrome.tabs.onUpdated.addListener(function(e, t) {
        "complete" === t.status && chrome.tabs.get(e, function(e) {
            e.url.includes("chrome://") || Dn(e);
        });
    });
    var Mn = function() {
        return new Promise(function(e) {
            chrome.storage.sync.get([ "EquatioLastLicenseCheck", "EquatioLastLicense" ], function(t) {
                return chrome.runtime.lastError ? e(!0) : t.EquatioLastLicenseCheck && a() === t.EquatioLastLicenseCheck && t.EquatioLastLicense ? (b(t.EquatioLastLicense), 
                e(!1)) : e(!0);
            });
        });
    }, Fn = function() {
        var e = Ln(function*() {
            try {
                (yield Mn()) && (yield T()), chrome.alarms.create("equatio-license-check", {
                    delayInMinutes: 10
                });
            } catch (e) {
                chrome.alarms.create("equatio-license-check", {
                    delayInMinutes: .5
                });
            }
        });
        return function() {
            return e.apply(this, arguments);
        };
    }();
    function Un(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new Promise(function(e, n) {
                function r(o, i) {
                    try {
                        var a = t[o](i), s = a.value;
                    } catch (e) {
                        return void n(e);
                    }
                    if (!a.done) return Promise.resolve(s).then(function(e) {
                        r("next", e);
                    }, function(e) {
                        r("throw", e);
                    });
                    e(s);
                }
                return r("next");
            });
        };
    }
    chrome.alarms.onAlarm.addListener(function(e) {
        "equatio-license-check" === e.name && Fn();
    }), Fn();
    var jn = function(e) {
        chrome.tabs.get(e, function(t) {
            var n = t.url;
            me(n) ? ge(n) : t.url.includes("docs.google.com") ? chrome.tabs.sendMessage(e, {
                action: "load"
            }) : chrome.tabs.sendMessage(e, {
                action: "load-in-page"
            });
        });
    };
    chrome.browserAction.onClicked.addListener(function(e) {
        jn(e.id);
    }), Un(function*() {
        (yield se()) || chrome.tabs.create({
            url: "chrome-extension://hjngolefdpdnooamgdldlkjgmdcmcjnc/intro/index.html"
        });
    })();
}, function(e, t, n) {
    "use strict";
    n.r(t);
    var r = n(13), o = "https://firebasestorage.googleapis.com", i = "https://firebasestorage.googleapis.com", a = "/v0", s = "/v0";
    var u = "storageBucket", c = 12e4, l = 6e4, h = -9007199254740991, p = function() {
        function e(e, t) {
            this.code_ = f(e), this.message_ = "Firebase Storage: " + t, this.serverResponse_ = null, 
            this.name_ = "FirebaseError";
        }
        return e.prototype.codeProp = function() {
            return this.code;
        }, e.prototype.codeEquals = function(e) {
            return f(e) === this.codeProp();
        }, e.prototype.serverResponseProp = function() {
            return this.serverResponse_;
        }, e.prototype.setServerResponseProp = function(e) {
            this.serverResponse_ = e;
        }, Object.defineProperty(e.prototype, "name", {
            get: function() {
                return this.name_;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "code", {
            get: function() {
                return this.code_;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "message", {
            get: function() {
                return this.message_;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "serverResponse", {
            get: function() {
                return this.serverResponse_;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(), d = {
        UNKNOWN: "unknown",
        OBJECT_NOT_FOUND: "object-not-found",
        BUCKET_NOT_FOUND: "bucket-not-found",
        PROJECT_NOT_FOUND: "project-not-found",
        QUOTA_EXCEEDED: "quota-exceeded",
        UNAUTHENTICATED: "unauthenticated",
        UNAUTHORIZED: "unauthorized",
        RETRY_LIMIT_EXCEEDED: "retry-limit-exceeded",
        INVALID_CHECKSUM: "invalid-checksum",
        CANCELED: "canceled",
        INVALID_EVENT_NAME: "invalid-event-name",
        INVALID_URL: "invalid-url",
        INVALID_DEFAULT_BUCKET: "invalid-default-bucket",
        NO_DEFAULT_BUCKET: "no-default-bucket",
        CANNOT_SLICE_BLOB: "cannot-slice-blob",
        SERVER_FILE_WRONG_SIZE: "server-file-wrong-size",
        NO_DOWNLOAD_URL: "no-download-url",
        INVALID_ARGUMENT: "invalid-argument",
        INVALID_ARGUMENT_COUNT: "invalid-argument-count",
        APP_DELETED: "app-deleted",
        INVALID_ROOT_OPERATION: "invalid-root-operation",
        INVALID_FORMAT: "invalid-format",
        INTERNAL_ERROR: "internal-error"
    };
    function f(e) {
        return "storage/" + e;
    }
    function v() {
        var e = "An unknown error occurred, please check the error payload for server response.";
        return new p(d.UNKNOWN, e);
    }
    function m(e) {
        return new p(d.OBJECT_NOT_FOUND, "Object '" + e + "' does not exist.");
    }
    function y(e) {
        return new p(d.QUOTA_EXCEEDED, "Quota for bucket '" + e + "' exceeded, please view quota on https://firebase.google.com/pricing/.");
    }
    function g() {
        var e = "User is not authenticated, please authenticate using Firebase Authentication and try again.";
        return new p(d.UNAUTHENTICATED, e);
    }
    function _(e) {
        return new p(d.UNAUTHORIZED, "User does not have permission to access '" + e + "'.");
    }
    function b() {
        return new p(d.RETRY_LIMIT_EXCEEDED, "Max retry time for operation exceeded, please try again.");
    }
    function w() {
        return new p(d.CANCELED, "User canceled the upload/download.");
    }
    function E(e) {
        return new p(d.INVALID_URL, "Invalid URL '" + e + "'.");
    }
    function T(e) {
        return new p(d.INVALID_DEFAULT_BUCKET, "Invalid default bucket '" + e + "'.");
    }
    function C() {
        return new p(d.CANNOT_SLICE_BLOB, "Cannot slice blob for upload. Please retry the upload.");
    }
    function S() {
        return new p(d.SERVER_FILE_WRONG_SIZE, "Server recorded incorrect upload file size, please retry the upload.");
    }
    function N() {
        return new p(d.NO_DOWNLOAD_URL, "The given file does not have any download URLs.");
    }
    function I(e, t, n) {
        return new p(d.INVALID_ARGUMENT, "Invalid argument in `" + t + "` at index " + e + ": " + n);
    }
    function O(e, t, n, r) {
        var o, i;
        return e === t ? (o = e, i = 1 === e ? "argument" : "arguments") : (o = "between " + e + " and " + t, 
        i = "arguments"), new p(d.INVALID_ARGUMENT_COUNT, "Invalid argument count in `" + n + "`: Expected " + o + " " + i + ", received " + r + ".");
    }
    function P() {
        return new p(d.APP_DELETED, "The Firebase app was deleted.");
    }
    function R(e) {
        return new p(d.INVALID_ROOT_OPERATION, "The operation '" + e + "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");
    }
    function A(e, t) {
        return new p(d.INVALID_FORMAT, "String does not match format '" + e + "': " + t);
    }
    function k(e) {
        throw new p(d.INTERNAL_ERROR, "Internal error: " + e);
    }
    var x = {
        RAW: "raw",
        BASE64: "base64",
        BASE64URL: "base64url",
        DATA_URL: "data_url"
    };
    function D(e) {
        switch (e) {
          case x.RAW:
          case x.BASE64:
          case x.BASE64URL:
          case x.DATA_URL:
            return;

          default:
            throw "Expected one of the event types: [" + x.RAW + ", " + x.BASE64 + ", " + x.BASE64URL + ", " + x.DATA_URL + "].";
        }
    }
    var L = function() {
        function e(e, t) {
            this.data = e, this.contentType = t || null;
        }
        return e;
    }();
    function M(e, t) {
        switch (e) {
          case x.RAW:
            return new L(F(t));

          case x.BASE64:
          case x.BASE64URL:
            return new L(j(e, t));

          case x.DATA_URL:
            return new L(W(t), B(t));
        }
        throw v();
    }
    function F(e) {
        for (var t = [], n = 0; n < e.length; n++) {
            var r = e.charCodeAt(n);
            if (r <= 127) t.push(r); else if (r <= 2047) t.push(192 | r >> 6, 128 | 63 & r); else if (55296 == (64512 & r)) if (n < e.length - 1 && 56320 == (64512 & e.charCodeAt(n + 1))) r = 65536 | (1023 & r) << 10 | 1023 & e.charCodeAt(++n), 
            t.push(240 | r >> 18, 128 | r >> 12 & 63, 128 | r >> 6 & 63, 128 | 63 & r); else t.push(239, 191, 189); else 56320 == (64512 & r) ? t.push(239, 191, 189) : t.push(224 | r >> 12, 128 | r >> 6 & 63, 128 | 63 & r);
        }
        return new Uint8Array(t);
    }
    function U(e) {
        var t;
        try {
            t = decodeURIComponent(e);
        } catch (e) {
            throw A(x.DATA_URL, "Malformed data URL.");
        }
        return F(t);
    }
    function j(e, t) {
        switch (e) {
          case x.BASE64:
            var n = -1 !== t.indexOf("-"), r = -1 !== t.indexOf("_");
            if (n || r) throw A(e, "Invalid character '" + (n ? "-" : "_") + "' found: is it base64url encoded?");
            break;

          case x.BASE64URL:
            var o = -1 !== t.indexOf("+"), i = -1 !== t.indexOf("/");
            if (o || i) throw A(e, "Invalid character '" + (o ? "+" : "/") + "' found: is it base64 encoded?");
            t = t.replace(/-/g, "+").replace(/_/g, "/");
        }
        var a;
        try {
            a = atob(t);
        } catch (t) {
            throw A(e, "Invalid character found");
        }
        for (var s = new Uint8Array(a.length), u = 0; u < a.length; u++) s[u] = a.charCodeAt(u);
        return s;
    }
    var q = function() {
        function e(e) {
            this.base64 = !1, this.contentType = null;
            var t = e.match(/^data:([^,]+)?,/);
            if (null === t) throw A(x.DATA_URL, "Must be formatted 'data:[<mediatype>][;base64],<data>");
            var n = t[1] || null;
            null != n && (this.base64 = V(n, ";base64"), this.contentType = this.base64 ? n.substring(0, n.length - ";base64".length) : n), 
            this.rest = e.substring(e.indexOf(",") + 1);
        }
        return e;
    }();
    function W(e) {
        var t = new q(e);
        return t.base64 ? j(x.BASE64, t.rest) : U(t.rest);
    }
    function B(e) {
        return new q(e).contentType;
    }
    function V(e, t) {
        return !!(e.length >= t.length) && e.substring(e.length - t.length) === t;
    }
    var G, H = {
        STATE_CHANGED: "state_changed"
    }, K = {
        RUNNING: "running",
        PAUSING: "pausing",
        PAUSED: "paused",
        SUCCESS: "success",
        CANCELING: "canceling",
        CANCELED: "canceled",
        ERROR: "error"
    }, Q = {
        RUNNING: "running",
        PAUSED: "paused",
        SUCCESS: "success",
        CANCELED: "canceled",
        ERROR: "error"
    };
    function Y(e) {
        switch (e) {
          case K.RUNNING:
          case K.PAUSING:
          case K.CANCELING:
            return Q.RUNNING;

          case K.PAUSED:
            return Q.PAUSED;

          case K.SUCCESS:
            return Q.SUCCESS;

          case K.CANCELED:
            return Q.CANCELED;

          case K.ERROR:
          default:
            return Q.ERROR;
        }
    }
    function X(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
    }
    function z(e, t) {
        for (var n in e) X(e, n) && t(n, e[n]);
    }
    function J(e) {
        if (null == e) return {};
        var t = {};
        return z(e, function(e, n) {
            t[e] = n;
        }), t;
    }
    function $(e) {
        return new Promise(e);
    }
    function Z(e) {
        return Promise.resolve(e);
    }
    function ee(e) {
        return Promise.reject(e);
    }
    function te(e) {
        return null != e;
    }
    function ne(e) {
        return void 0 !== e;
    }
    function re(e) {
        return "function" == typeof e;
    }
    function oe(e) {
        return "object" == typeof e;
    }
    function ie(e) {
        return oe(e) && null !== e;
    }
    function ae(e) {
        return oe(e) && !Array.isArray(e);
    }
    function se(e) {
        return "string" == typeof e || e instanceof String;
    }
    function ue(e) {
        return "number" == typeof e || e instanceof Number;
    }
    function ce(e) {
        return le() && e instanceof Blob;
    }
    function le() {
        return "undefined" != typeof Blob;
    }
    !function(e) {
        e[e.NO_ERROR = 0] = "NO_ERROR", e[e.NETWORK_ERROR = 1] = "NETWORK_ERROR", e[e.ABORT = 2] = "ABORT";
    }(G || (G = {}));
    var he = function() {
        function e() {
            var e = this;
            this.sent_ = !1, this.xhr_ = new XMLHttpRequest(), this.errorCode_ = G.NO_ERROR, 
            this.sendPromise_ = $(function(t, n) {
                e.xhr_.addEventListener("abort", function(n) {
                    e.errorCode_ = G.ABORT, t(e);
                }), e.xhr_.addEventListener("error", function(n) {
                    e.errorCode_ = G.NETWORK_ERROR, t(e);
                }), e.xhr_.addEventListener("load", function(n) {
                    t(e);
                });
            });
        }
        return e.prototype.send = function(e, t, n, r) {
            var o = this;
            if (this.sent_) throw k("cannot .send() more than once");
            (this.sent_ = !0, this.xhr_.open(t, e, !0), te(r)) && z(r, function(e, t) {
                o.xhr_.setRequestHeader(e, t.toString());
            });
            return te(n) ? this.xhr_.send(n) : this.xhr_.send(), this.sendPromise_;
        }, e.prototype.getErrorCode = function() {
            if (!this.sent_) throw k("cannot .getErrorCode() before sending");
            return this.errorCode_;
        }, e.prototype.getStatus = function() {
            if (!this.sent_) throw k("cannot .getStatus() before sending");
            try {
                return this.xhr_.status;
            } catch (e) {
                return -1;
            }
        }, e.prototype.getResponseText = function() {
            if (!this.sent_) throw k("cannot .getResponseText() before sending");
            return this.xhr_.responseText;
        }, e.prototype.abort = function() {
            this.xhr_.abort();
        }, e.prototype.getResponseHeader = function(e) {
            return this.xhr_.getResponseHeader(e);
        }, e.prototype.addUploadProgressListener = function(e) {
            te(this.xhr_.upload) && this.xhr_.upload.addEventListener("progress", e);
        }, e.prototype.removeUploadProgressListener = function(e) {
            te(this.xhr_.upload) && this.xhr_.upload.removeEventListener("progress", e);
        }, e;
    }(), pe = function() {
        function e() {}
        return e.prototype.createXhrIo = function() {
            return new he();
        }, e;
    }();
    function de(e) {
        var t;
        try {
            t = JSON.parse(e);
        } catch (e) {
            return null;
        }
        return ae(t) ? t : null;
    }
    var fe = function() {
        function e(e, t) {
            this.bucket = e, this.path_ = t;
        }
        return Object.defineProperty(e.prototype, "path", {
            get: function() {
                return this.path_;
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.fullServerUrl = function() {
            var e = encodeURIComponent;
            return "/b/" + e(this.bucket) + "/o/" + e(this.path);
        }, e.prototype.bucketOnlyServerUrl = function() {
            return "/b/" + encodeURIComponent(this.bucket) + "/o";
        }, e.makeFromBucketSpec = function(t) {
            var n;
            try {
                n = e.makeFromUrl(t);
            } catch (n) {
                return new e(t, "");
            }
            if ("" === n.path) return n;
            throw T(t);
        }, e.makeFromUrl = function(t) {
            var n = null, r = "([A-Za-z0-9.\\-]+)";
            function o(e) {
                "/" === e.path.charAt(e.path.length - 1) && (e.path_ = e.path_.slice(0, -1));
            }
            var i = "(/([^?#]*).*)?$";
            function a(e) {
                e.path_ = decodeURIComponent(e.path);
            }
            for (var s = [ {
                regex: new RegExp("^gs://" + r + "(/(.*))?$", "i"),
                indices: {
                    bucket: 1,
                    path: 3
                },
                postModify: o
            }, {
                regex: new RegExp("^https?://firebasestorage\\.googleapis\\.com/" + "v[A-Za-z0-9_]+" + "/b/" + r + "/o" + i, "i"),
                indices: {
                    bucket: 1,
                    path: 3
                },
                postModify: a
            } ], u = 0; u < s.length; u++) {
                var c = s[u], l = c.regex.exec(t);
                if (l) {
                    var h = l[c.indices.bucket], p = l[c.indices.path];
                    p || (p = ""), n = new e(h, p), c.postModify(n);
                    break;
                }
            }
            if (null == n) throw E(t);
            return n;
        }, e;
    }();
    function ve(e) {
        if (0 == e.length) return null;
        var t = e.lastIndexOf("/");
        return -1 === t ? "" : e.slice(0, t);
    }
    function me(e, t) {
        var n = t.split("/").filter(function(e) {
            return e.length > 0;
        }).join("/");
        return 0 === e.length ? n : e + "/" + n;
    }
    function ye(e) {
        var t = e.lastIndexOf("/", e.length - 2);
        return -1 === t ? e : e.slice(t + 1);
    }
    function ge(e) {
        return o + a + e;
    }
    function _e(e) {
        return i + a + e;
    }
    function be(e) {
        return o + s + e;
    }
    function we(e) {
        var t = encodeURIComponent, n = "?";
        return z(e, function(e, r) {
            var o = t(e) + "=" + t(r);
            n = n + o + "&";
        }), n = n.slice(0, -1);
    }
    function Ee(e, t) {
        return t;
    }
    var Te = function() {
        function e(e, t, n, r) {
            this.server = e, this.local = t || e, this.writable = !!n, this.xform = r || Ee;
        }
        return e;
    }(), Ce = null;
    function Se(e) {
        return !se(e) || e.length < 2 ? e : ye(e = e);
    }
    function Ne() {
        if (Ce) return Ce;
        var e = [];
        function t(e, t) {
            return Se(t);
        }
        e.push(new Te("bucket")), e.push(new Te("generation")), e.push(new Te("metageneration")), 
        e.push(new Te("name", "fullPath", !0));
        var n = new Te("name");
        function r(e, t) {
            return te(t) ? +t : t;
        }
        n.xform = t, e.push(n);
        var o = new Te("size");
        function i(e, t) {
            if (!(se(t) && t.length > 0)) return [];
            var n = encodeURIComponent;
            return t.split(",").map(function(t) {
                var r = e.bucket, o = e.fullPath;
                return _e("/b/" + n(r) + "/o/" + n(o)) + we({
                    alt: "media",
                    token: t
                });
            });
        }
        return o.xform = r, e.push(o), e.push(new Te("timeCreated")), e.push(new Te("updated")), 
        e.push(new Te("md5Hash", null, !0)), e.push(new Te("cacheControl", null, !0)), e.push(new Te("contentDisposition", null, !0)), 
        e.push(new Te("contentEncoding", null, !0)), e.push(new Te("contentLanguage", null, !0)), 
        e.push(new Te("contentType", null, !0)), e.push(new Te("metadata", "customMetadata", !0)), 
        e.push(new Te("downloadTokens", "downloadURLs", !1, i)), Ce = e;
    }
    function Ie(e, t) {
        function n() {
            var n = e.bucket, r = e.fullPath, o = new fe(n, r);
            return t.makeStorageReference(o);
        }
        Object.defineProperty(e, "ref", {
            get: n
        });
    }
    function Oe(e, t, n) {
        for (var r = {
            type: "file"
        }, o = n.length, i = 0; i < o; i++) {
            var a = n[i];
            r[a.local] = a.xform(r, t[a.server]);
        }
        return Ie(r, e), r;
    }
    function Pe(e, t, n) {
        var r = de(t);
        return null === r ? null : Oe(e, r, n);
    }
    function Re(e, t) {
        for (var n = {}, r = t.length, o = 0; o < r; o++) {
            var i = t[o];
            i.writable && (n[i.server] = e[i.local]);
        }
        return JSON.stringify(n);
    }
    function Ae(e) {
        if (!(e && oe(e))) throw "Expected Metadata object.";
        for (var t in e) {
            var n = e[t];
            if ("customMetadata" === t) {
                if (!oe(n)) throw "Expected object for 'customMetadata' mapping.";
            } else if (ie(n)) throw "Mapping for '" + t + "' cannot be an object.";
        }
    }
    function ke(e, t, n) {
        for (var r = t.length, o = t.length, i = 0; i < t.length; i++) if (t[i].optional) {
            r = i;
            break;
        }
        if (!(r <= n.length && n.length <= o)) throw O(r, o, e, n.length);
        for (i = 0; i < n.length; i++) try {
            t[i].validator(n[i]);
        } catch (t) {
            throw t instanceof Error ? I(i, e, t.message) : I(i, e, t);
        }
    }
    var xe = function() {
        function e(e, t) {
            var n = this;
            this.validator = function(t) {
                n.optional && !ne(t) || e(t);
            }, this.optional = !!t;
        }
        return e;
    }();
    function De(e, t) {
        return function(n) {
            e(n), t(n);
        };
    }
    function Le(e, t) {
        function n(e) {
            if (!se(e)) throw "Expected string.";
        }
        var r;
        return r = e ? De(n, e) : n, new xe(r, t);
    }
    function Me() {
        function e(e) {
            if (!(e instanceof Uint8Array || e instanceof ArrayBuffer || le() && e instanceof Blob)) throw "Expected Blob or File.";
        }
        return new xe(e);
    }
    function Fe(e) {
        return new xe(Ae, e);
    }
    function Ue() {
        function e(e) {
            if (!(ue(e) && e >= 0)) throw "Expected a number 0 or greater.";
        }
        return new xe(e);
    }
    function je(e, t) {
        function n(t) {
            if (!(null === t || te(t) && t instanceof Object)) throw "Expected an Object.";
            void 0 !== e && null !== e && e(t);
        }
        return new xe(n, t);
    }
    function qe(e) {
        function t(e) {
            if (!(null === e || re(e))) throw "Expected a Function.";
        }
        return new xe(t, e);
    }
    function We() {
        return "undefined" != typeof BlobBuilder ? BlobBuilder : "undefined" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : void 0;
    }
    function Be() {
        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        var n = We();
        if (void 0 !== n) {
            for (var r = new n(), o = 0; o < e.length; o++) r.append(e[o]);
            return r.getBlob();
        }
        if (le()) return new Blob(e);
        throw Error("This browser doesn't seem to support creating Blobs");
    }
    function Ve(e, t, n) {
        return e.webkitSlice ? e.webkitSlice(t, n) : e.mozSlice ? e.mozSlice(t, n) : e.slice ? e.slice(t, n) : null;
    }
    var Ge = function() {
        function e(e, t) {
            var n = 0, r = "";
            ce(e) ? (this.data_ = e, n = e.size, r = e.type) : e instanceof ArrayBuffer ? (t ? this.data_ = new Uint8Array(e) : (this.data_ = new Uint8Array(e.byteLength), 
            this.data_.set(new Uint8Array(e))), n = this.data_.length) : e instanceof Uint8Array && (t ? this.data_ = e : (this.data_ = new Uint8Array(e.length), 
            this.data_.set(e)), n = e.length), this.size_ = n, this.type_ = r;
        }
        return e.prototype.size = function() {
            return this.size_;
        }, e.prototype.type = function() {
            return this.type_;
        }, e.prototype.slice = function(t, n) {
            if (ce(this.data_)) {
                var r = Ve(this.data_, t, n);
                return null === r ? null : new e(r);
            }
            return new e(new Uint8Array(this.data_.buffer, t, n - t), !0);
        }, e.getBlob = function() {
            for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
            if (le()) {
                var r = t.map(function(t) {
                    return t instanceof e ? t.data_ : t;
                });
                return new e(Be.apply(null, r));
            }
            var o = t.map(function(e) {
                return se(e) ? M(x.RAW, e).data : e.data_;
            }), i = 0;
            o.forEach(function(e) {
                i += e.byteLength;
            });
            var a = new Uint8Array(i), s = 0;
            return o.forEach(function(e) {
                for (var t = 0; t < e.length; t++) a[s++] = e[t];
            }), new e(a, !0);
        }, e.prototype.uploadData = function() {
            return this.data_;
        }, e;
    }();
    function He(e, t) {
        return -1 !== e.indexOf(t);
    }
    function Ke(e) {
        return Array.prototype.slice.call(e);
    }
    function Qe(e, t) {
        var n = e.indexOf(t);
        -1 !== n && e.splice(n, 1);
    }
    var Ye = function() {
        function e(e, t, n, r) {
            this.url = e, this.method = t, this.handler = n, this.timeout = r, this.urlParams = {}, 
            this.headers = {}, this.body = null, this.errorHandler = null, this.progressCallback = null, 
            this.successCodes = [ 200 ], this.additionalRetryCodes = [];
        }
        return e;
    }();
    function Xe(e) {
        if (!e) throw v();
    }
    function ze(e, t) {
        function n(n, r) {
            var o = Pe(e, r, t);
            return Xe(null !== o), o;
        }
        return n;
    }
    function Je(e) {
        function t(t, n) {
            var r;
            return (r = 401 === t.getStatus() ? g() : 402 === t.getStatus() ? y(e.bucket) : 403 === t.getStatus() ? _(e.path) : n).setServerResponseProp(n.serverResponseProp()), 
            r;
        }
        return t;
    }
    function $e(e) {
        var t = Je(e);
        function n(n, r) {
            var o = t(n, r);
            return 404 === n.getStatus() && (o = m(e.path)), o.setServerResponseProp(r.serverResponseProp()), 
            o;
        }
        return n;
    }
    function Ze(e, t, n) {
        var r = ge(t.fullServerUrl()), o = "GET", i = e.maxOperationRetryTime(), a = new Ye(r, o, ze(e, n), i);
        return a.errorHandler = $e(t), a;
    }
    function et(e, t, n, r) {
        var o = ge(t.fullServerUrl()), i = "PATCH", a = Re(n, r), s = {
            "Content-Type": "application/json; charset=utf-8"
        }, u = e.maxOperationRetryTime(), c = new Ye(o, i, ze(e, r), u);
        return c.headers = s, c.body = a, c.errorHandler = $e(t), c;
    }
    function tt(e, t) {
        var n = ge(t.fullServerUrl()), r = "DELETE", o = e.maxOperationRetryTime();
        function i(e, t) {}
        var a = new Ye(n, r, i, o);
        return a.successCodes = [ 200, 204 ], a.errorHandler = $e(t), a;
    }
    function nt(e, t) {
        return e && e.contentType || t && t.type() || "application/octet-stream";
    }
    function rt(e, t, n) {
        var r = J(n);
        return r.fullPath = e.path, r.size = t.size(), r.contentType || (r.contentType = nt(null, t)), 
        r;
    }
    function ot(e, t, n, r, o) {
        var i = t.bucketOnlyServerUrl(), a = {
            "X-Goog-Upload-Protocol": "multipart"
        };
        function s() {
            for (var e = "", t = 0; t < 2; t++) e += Math.random().toString().slice(2);
            return e;
        }
        var u = s();
        a["Content-Type"] = "multipart/related; boundary=" + u;
        var c = rt(t, r, o), l = "--" + u + "\r\nContent-Type: application/json; charset=utf-8\r\n\r\n" + Re(c, n) + "\r\n--" + u + "\r\nContent-Type: " + c.contentType + "\r\n\r\n", h = "\r\n--" + u + "--", p = Ge.getBlob(l, r, h);
        if (null === p) throw C();
        var d = {
            name: c.fullPath
        }, f = be(i), v = "POST", m = e.maxUploadRetryTime(), y = new Ye(f, v, ze(e, n), m);
        return y.urlParams = d, y.headers = a, y.body = p.uploadData(), y.errorHandler = Je(t), 
        y;
    }
    var it = function() {
        function e(e, t, n, r) {
            this.current = e, this.total = t, this.finalized = !!n, this.metadata = r || null;
        }
        return e;
    }();
    function at(e, t) {
        var n;
        try {
            n = e.getResponseHeader("X-Goog-Upload-Status");
        } catch (e) {
            Xe(!1);
        }
        return Xe(He(t || [ "active" ], n)), n;
    }
    function st(e, t, n, r, o) {
        var i = t.bucketOnlyServerUrl(), a = rt(t, r, o), s = {
            name: a.fullPath
        }, u = be(i), c = "POST", l = {
            "X-Goog-Upload-Protocol": "resumable",
            "X-Goog-Upload-Command": "start",
            "X-Goog-Upload-Header-Content-Length": r.size(),
            "X-Goog-Upload-Header-Content-Type": a.contentType,
            "Content-Type": "application/json; charset=utf-8"
        }, h = Re(a, n), p = e.maxUploadRetryTime();
        function d(e, t) {
            var n;
            at(e);
            try {
                n = e.getResponseHeader("X-Goog-Upload-URL");
            } catch (e) {
                Xe(!1);
            }
            return Xe(se(n)), n;
        }
        var f = new Ye(u, c, d, p);
        return f.urlParams = s, f.headers = l, f.body = h, f.errorHandler = Je(t), f;
    }
    function ut(e, t, n, r) {
        var o = {
            "X-Goog-Upload-Command": "query"
        };
        function i(e, t) {
            var n, o = at(e, [ "active", "final" ]);
            try {
                n = e.getResponseHeader("X-Goog-Upload-Size-Received");
            } catch (e) {
                Xe(!1);
            }
            var i = parseInt(n, 10);
            return Xe(!isNaN(i)), new it(i, r.size(), "final" === o);
        }
        var a = "POST", s = e.maxUploadRetryTime(), u = new Ye(n, a, i, s);
        return u.headers = o, u.errorHandler = Je(t), u;
    }
    var ct = 262144;
    function lt(e, t, n, r, o, i, a, s) {
        var u = new it(0, 0);
        if (a ? (u.current = a.current, u.total = a.total) : (u.current = 0, u.total = r.size()), 
        r.size() !== u.total) throw S();
        var c = u.total - u.current, l = c;
        o > 0 && (l = Math.min(l, o));
        var h = u.current, p = h + l, d = {
            "X-Goog-Upload-Command": l === c ? "upload, finalize" : "upload",
            "X-Goog-Upload-Offset": u.current
        }, f = r.slice(h, p);
        if (null === f) throw C();
        function v(e, n) {
            var o, a = at(e, [ "active", "final" ]), s = u.current + l, c = r.size();
            return o = "final" === a ? ze(t, i)(e, n) : null, new it(s, c, "final" === a, o);
        }
        var m = "POST", y = t.maxUploadRetryTime(), g = new Ye(n, m, v, y);
        return g.headers = d, g.body = f.uploadData(), g.progressCallback = s || null, g.errorHandler = Je(e), 
        g;
    }
    var ht = function() {
        function e(e, t, n) {
            if (re(e) || te(t) || te(n)) this.next = e, this.error = t || null, this.complete = n || null; else {
                var r = e;
                this.next = r.next || null, this.error = r.error || null, this.complete = r.complete || null;
            }
        }
        return e;
    }(), pt = function() {
        function e(e, t, n, r, o, i) {
            this.bytesTransferred = e, this.totalBytes = t, this.state = n, this.metadata = r, 
            this.task = o, this.ref = i;
        }
        return Object.defineProperty(e.prototype, "downloadURL", {
            get: function() {
                if (null !== this.metadata) {
                    var e = this.metadata.downloadURLs;
                    return null != e && null != e[0] ? e[0] : null;
                }
                return null;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }();
    function dt(e) {
        return function() {
            for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
            Z(!0).then(function() {
                e.apply(null, t);
            });
        };
    }
    var ft = function() {
        function e(e, t, n, r, o, i) {
            void 0 === i && (i = null);
            var a = this;
            this.transferred_ = 0, this.needToFetchStatus_ = !1, this.needToFetchMetadata_ = !1, 
            this.observers_ = [], this.error_ = null, this.uploadUrl_ = null, this.request_ = null, 
            this.chunkMultiplier_ = 1, this.resolve_ = null, this.reject_ = null, this.ref_ = e, 
            this.authWrapper_ = t, this.location_ = n, this.blob_ = o, this.metadata_ = i, this.mappings_ = r, 
            this.resumable_ = this.shouldDoResumable_(this.blob_), this.state_ = K.RUNNING, 
            this.errorHandler_ = function(e) {
                a.request_ = null, a.chunkMultiplier_ = 1, e.codeEquals(d.CANCELED) ? (a.needToFetchStatus_ = !0, 
                a.completeTransitions_()) : (a.error_ = e, a.transition_(K.ERROR));
            }, this.metadataErrorHandler_ = function(e) {
                a.request_ = null, e.codeEquals(d.CANCELED) ? a.completeTransitions_() : (a.error_ = e, 
                a.transition_(K.ERROR));
            }, this.promise_ = $(function(e, t) {
                a.resolve_ = e, a.reject_ = t, a.start_();
            }), this.promise_.then(null, function() {});
        }
        return e.prototype.makeProgressCallback_ = function() {
            var e = this, t = this.transferred_;
            return function(n, r) {
                e.updateProgress_(t + n);
            };
        }, e.prototype.shouldDoResumable_ = function(e) {
            return e.size() > 262144;
        }, e.prototype.start_ = function() {
            this.state_ === K.RUNNING && null === this.request_ && (this.resumable_ ? null === this.uploadUrl_ ? this.createResumable_() : this.needToFetchStatus_ ? this.fetchStatus_() : this.needToFetchMetadata_ ? this.fetchMetadata_() : this.continueUpload_() : this.oneShotUpload_());
        }, e.prototype.resolveToken_ = function(e) {
            var t = this;
            this.authWrapper_.getAuthToken().then(function(n) {
                switch (t.state_) {
                  case K.RUNNING:
                    e(n);
                    break;

                  case K.CANCELING:
                    t.transition_(K.CANCELED);
                    break;

                  case K.PAUSING:
                    t.transition_(K.PAUSED);
                }
            });
        }, e.prototype.createResumable_ = function() {
            var e = this;
            this.resolveToken_(function(t) {
                var n = st(e.authWrapper_, e.location_, e.mappings_, e.blob_, e.metadata_), r = e.authWrapper_.makeRequest(n, t);
                e.request_ = r, r.getPromise().then(function(t) {
                    e.request_ = null, e.uploadUrl_ = t, e.needToFetchStatus_ = !1, e.completeTransitions_();
                }, e.errorHandler_);
            });
        }, e.prototype.fetchStatus_ = function() {
            var e = this, t = this.uploadUrl_;
            this.resolveToken_(function(n) {
                var r = ut(e.authWrapper_, e.location_, t, e.blob_), o = e.authWrapper_.makeRequest(r, n);
                e.request_ = o, o.getPromise().then(function(t) {
                    t = t, e.request_ = null, e.updateProgress_(t.current), e.needToFetchStatus_ = !1, 
                    t.finalized && (e.needToFetchMetadata_ = !0), e.completeTransitions_();
                }, e.errorHandler_);
            });
        }, e.prototype.continueUpload_ = function() {
            var e = this, t = ct * this.chunkMultiplier_, n = new it(this.transferred_, this.blob_.size()), r = this.uploadUrl_;
            this.resolveToken_(function(o) {
                var i;
                try {
                    i = lt(e.location_, e.authWrapper_, r, e.blob_, t, e.mappings_, n, e.makeProgressCallback_());
                } catch (t) {
                    return e.error_ = t, void e.transition_(K.ERROR);
                }
                var a = e.authWrapper_.makeRequest(i, o);
                e.request_ = a, a.getPromise().then(function(t) {
                    e.increaseMultiplier_(), e.request_ = null, e.updateProgress_(t.current), t.finalized ? (e.metadata_ = t.metadata, 
                    e.transition_(K.SUCCESS)) : e.completeTransitions_();
                }, e.errorHandler_);
            });
        }, e.prototype.increaseMultiplier_ = function() {
            ct * this.chunkMultiplier_ < 33554432 && (this.chunkMultiplier_ *= 2);
        }, e.prototype.fetchMetadata_ = function() {
            var e = this;
            this.resolveToken_(function(t) {
                var n = Ze(e.authWrapper_, e.location_, e.mappings_), r = e.authWrapper_.makeRequest(n, t);
                e.request_ = r, r.getPromise().then(function(t) {
                    e.request_ = null, e.metadata_ = t, e.transition_(K.SUCCESS);
                }, e.metadataErrorHandler_);
            });
        }, e.prototype.oneShotUpload_ = function() {
            var e = this;
            this.resolveToken_(function(t) {
                var n = ot(e.authWrapper_, e.location_, e.mappings_, e.blob_, e.metadata_), r = e.authWrapper_.makeRequest(n, t);
                e.request_ = r, r.getPromise().then(function(t) {
                    e.request_ = null, e.metadata_ = t, e.updateProgress_(e.blob_.size()), e.transition_(K.SUCCESS);
                }, e.errorHandler_);
            });
        }, e.prototype.updateProgress_ = function(e) {
            var t = this.transferred_;
            this.transferred_ = e, this.transferred_ !== t && this.notifyObservers_();
        }, e.prototype.transition_ = function(e) {
            if (this.state_ !== e) switch (e) {
              case K.CANCELING:
              case K.PAUSING:
                this.state_ = e, null !== this.request_ && this.request_.cancel();
                break;

              case K.RUNNING:
                var t = this.state_ === K.PAUSED;
                this.state_ = e, t && (this.notifyObservers_(), this.start_());
                break;

              case K.PAUSED:
                this.state_ = e, this.notifyObservers_();
                break;

              case K.CANCELED:
                this.error_ = w(), this.state_ = e, this.notifyObservers_();
                break;

              case K.ERROR:
              case K.SUCCESS:
                this.state_ = e, this.notifyObservers_();
            }
        }, e.prototype.completeTransitions_ = function() {
            switch (this.state_) {
              case K.PAUSING:
                this.transition_(K.PAUSED);
                break;

              case K.CANCELING:
                this.transition_(K.CANCELED);
                break;

              case K.RUNNING:
                this.start_();
            }
        }, Object.defineProperty(e.prototype, "snapshot", {
            get: function() {
                var e = Y(this.state_);
                return new pt(this.transferred_, this.blob_.size(), e, this.metadata_, this, this.ref_);
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.on = function(e, t, n, r) {
            function o(t) {
                if (e !== H.STATE_CHANGED) throw "Expected one of the event types: [" + H.STATE_CHANGED + "].";
            }
            void 0 === t && (t = void 0), void 0 === n && (n = void 0), void 0 === r && (r = void 0);
            var i = "Expected a function or an Object with one of `next`, `error`, `complete` properties.", a = qe(!0).validator, s = je(null, !0).validator;
            function u(e) {
                try {
                    return void a(e);
                } catch (e) {}
                try {
                    if (s(e), !(ne(e.next) || ne(e.error) || ne(e.complete))) throw "";
                    return;
                } catch (e) {
                    throw i;
                }
            }
            ke("on", [ Le(o), je(u, !0), qe(!0), qe(!0) ], arguments);
            var c = this;
            function l(e) {
                function t(t, n, o) {
                    null !== e && ke("on", e, arguments);
                    var i = new ht(t, n, r);
                    return c.addObserver_(i), function() {
                        c.removeObserver_(i);
                    };
                }
                return t;
            }
            function h(e) {
                if (null === e) throw i;
                u(e);
            }
            var p = [ je(h), qe(!0), qe(!0) ];
            return !(ne(t) || ne(n) || ne(r)) ? l(p) : l(null)(t, n, r);
        }, e.prototype.then = function(e, t) {
            return this.promise_.then(e, t);
        }, e.prototype.catch = function(e) {
            return this.then(null, e);
        }, e.prototype.addObserver_ = function(e) {
            this.observers_.push(e), this.notifyObserver_(e);
        }, e.prototype.removeObserver_ = function(e) {
            Qe(this.observers_, e);
        }, e.prototype.notifyObservers_ = function() {
            var e = this;
            this.finishPromise_(), Ke(this.observers_).forEach(function(t) {
                e.notifyObserver_(t);
            });
        }, e.prototype.finishPromise_ = function() {
            if (null !== this.resolve_) {
                var e = !0;
                switch (Y(this.state_)) {
                  case Q.SUCCESS:
                    dt(this.resolve_.bind(null, this.snapshot))();
                    break;

                  case Q.CANCELED:
                  case Q.ERROR:
                    dt(this.reject_.bind(null, this.error_))();
                    break;

                  default:
                    e = !1;
                }
                e && (this.resolve_ = null, this.reject_ = null);
            }
        }, e.prototype.notifyObserver_ = function(e) {
            switch (Y(this.state_)) {
              case Q.RUNNING:
              case Q.PAUSED:
                null !== e.next && dt(e.next.bind(e, this.snapshot))();
                break;

              case Q.SUCCESS:
                null !== e.complete && dt(e.complete.bind(e))();
                break;

              case Q.CANCELED:
              case Q.ERROR:
                null !== e.error && dt(e.error.bind(e, this.error_))();
                break;

              default:
                null !== e.error && dt(e.error.bind(e, this.error_))();
            }
        }, e.prototype.resume = function() {
            ke("resume", [], arguments);
            var e = this.state_ === K.PAUSED || this.state_ === K.PAUSING;
            return e && this.transition_(K.RUNNING), e;
        }, e.prototype.pause = function() {
            ke("pause", [], arguments);
            var e = this.state_ === K.RUNNING;
            return e && this.transition_(K.PAUSING), e;
        }, e.prototype.cancel = function() {
            ke("cancel", [], arguments);
            var e = this.state_ === K.RUNNING || this.state_ === K.PAUSING;
            return e && this.transition_(K.CANCELING), e;
        }, e;
    }(), vt = function() {
        function e(e, t) {
            this.authWrapper = e, this.location = t instanceof fe ? t : fe.makeFromUrl(t);
        }
        return e.prototype.toString = function() {
            return ke("toString", [], arguments), "gs://" + this.location.bucket + "/" + this.location.path;
        }, e.prototype.newRef = function(t, n) {
            return new e(t, n);
        }, e.prototype.mappings = function() {
            return Ne();
        }, e.prototype.child = function(e) {
            ke("child", [ Le() ], arguments);
            var t = me(this.location.path, e), n = new fe(this.location.bucket, t);
            return this.newRef(this.authWrapper, n);
        }, Object.defineProperty(e.prototype, "parent", {
            get: function() {
                var e = ve(this.location.path);
                if (null === e) return null;
                var t = new fe(this.location.bucket, e);
                return this.newRef(this.authWrapper, t);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "root", {
            get: function() {
                var e = new fe(this.location.bucket, "");
                return this.newRef(this.authWrapper, e);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "bucket", {
            get: function() {
                return this.location.bucket;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "fullPath", {
            get: function() {
                return this.location.path;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "name", {
            get: function() {
                return ye(this.location.path);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "storage", {
            get: function() {
                return this.authWrapper.service();
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.put = function(e, t) {
            return void 0 === t && (t = null), ke("put", [ Me(), Fe(!0) ], arguments), this.throwIfRoot_("put"), 
            new ft(this, this.authWrapper, this.location, this.mappings(), new Ge(e), t);
        }, e.prototype.putString = function(e, t, n) {
            void 0 === t && (t = x.RAW), ke("putString", [ Le(), Le(D, !0), Fe(!0) ], arguments), 
            this.throwIfRoot_("putString");
            var r = M(t, e), o = J(n);
            return !te(o.contentType) && te(r.contentType) && (o.contentType = r.contentType), 
            new ft(this, this.authWrapper, this.location, this.mappings(), new Ge(r.data, !0), o);
        }, e.prototype.delete = function() {
            ke("delete", [], arguments), this.throwIfRoot_("delete");
            var e = this;
            return this.authWrapper.getAuthToken().then(function(t) {
                var n = tt(e.authWrapper, e.location);
                return e.authWrapper.makeRequest(n, t).getPromise();
            });
        }, e.prototype.getMetadata = function() {
            ke("getMetadata", [], arguments), this.throwIfRoot_("getMetadata");
            var e = this;
            return this.authWrapper.getAuthToken().then(function(t) {
                var n = Ze(e.authWrapper, e.location, e.mappings());
                return e.authWrapper.makeRequest(n, t).getPromise();
            });
        }, e.prototype.updateMetadata = function(e) {
            ke("updateMetadata", [ Fe() ], arguments), this.throwIfRoot_("updateMetadata");
            var t = this;
            return this.authWrapper.getAuthToken().then(function(n) {
                var r = et(t.authWrapper, t.location, e, t.mappings());
                return t.authWrapper.makeRequest(r, n).getPromise();
            });
        }, e.prototype.getDownloadURL = function() {
            return ke("getDownloadURL", [], arguments), this.throwIfRoot_("getDownloadURL"), 
            this.getMetadata().then(function(e) {
                var t = e.downloadURLs[0];
                if (te(t)) return t;
                throw N();
            });
        }, e.prototype.throwIfRoot_ = function(e) {
            if ("" === this.location.path) throw R(e);
        }, e;
    }(), mt = function() {
        function e(e) {
            this.promise_ = ee(e);
        }
        return e.prototype.getPromise = function() {
            return this.promise_;
        }, e.prototype.cancel = function(e) {
            void 0 === e && (e = !1);
        }, e;
    }(), yt = function() {
        function e() {
            this.map_ = {}, this.id_ = h;
        }
        return e.prototype.addRequest = function(e) {
            var t = this.id_;
            this.id_++, this.map_[t] = e;
            var n = this;
            function r() {
                delete n.map_[t];
            }
            e.getPromise().then(r, r);
        }, e.prototype.clear = function() {
            z(this.map_, function(e, t) {
                t && t.cancel(!0);
            }), this.map_ = {};
        }, e;
    }(), gt = function() {
        function e(t, n, r, o, i) {
            if (this.bucket_ = null, this.deleted_ = !1, this.app_ = t, null !== this.app_) {
                var a = this.app_.options;
                te(a) && (this.bucket_ = e.extractBucket_(a));
            }
            this.storageRefMaker_ = n, this.requestMaker_ = r, this.pool_ = i, this.service_ = o, 
            this.maxOperationRetryTime_ = c, this.maxUploadRetryTime_ = l, this.requestMap_ = new yt();
        }
        return e.extractBucket_ = function(e) {
            var t = e[u] || null;
            return null == t ? null : fe.makeFromBucketSpec(t).bucket;
        }, e.prototype.getAuthToken = function() {
            return null !== this.app_ && te(this.app_.INTERNAL) && te(this.app_.INTERNAL.getToken) ? this.app_.INTERNAL.getToken().then(function(e) {
                return null !== e ? e.accessToken : null;
            }, function(e) {
                return null;
            }) : Z(null);
        }, e.prototype.bucket = function() {
            if (this.deleted_) throw P();
            return this.bucket_;
        }, e.prototype.service = function() {
            return this.service_;
        }, e.prototype.makeStorageReference = function(e) {
            return this.storageRefMaker_(this, e);
        }, e.prototype.makeRequest = function(e, t) {
            if (this.deleted_) return new mt(P());
            var n = this.requestMaker_(e, t, this.pool_);
            return this.requestMap_.addRequest(n), n;
        }, e.prototype.deleteApp = function() {
            this.deleted_ = !0, this.app_ = null, this.requestMap_.clear();
        }, e.prototype.maxUploadRetryTime = function() {
            return this.maxUploadRetryTime_;
        }, e.prototype.setMaxUploadRetryTime = function(e) {
            this.maxUploadRetryTime_ = e;
        }, e.prototype.maxOperationRetryTime = function() {
            return this.maxOperationRetryTime_;
        }, e.prototype.setMaxOperationRetryTime = function(e) {
            this.maxOperationRetryTime_ = e;
        }, e;
    }();
    function _t(e, t, n) {
        var r = 1, o = null, i = !1, a = 0;
        function s() {
            return 2 === a;
        }
        var u = !1;
        function c() {
            u || (u = !0, t.apply(null, arguments));
        }
        function l(t) {
            o = setTimeout(function() {
                o = null, e(h, s());
            }, t);
        }
        function h(e) {
            for (var t, n = [], o = 1; o < arguments.length; o++) n[o - 1] = arguments[o];
            u || (e ? c.apply(null, arguments) : s() || i ? c.apply(null, arguments) : (r < 64 && (r *= 2), 
            1 === a ? (a = 2, t = 0) : t = 1e3 * (r + Math.random()), l(t)));
        }
        var p = !1;
        function d(e) {
            p || (p = !0, u || (null !== o ? (e || (a = 2), clearTimeout(o), l(0)) : e || (a = 1)));
        }
        return l(0), setTimeout(function() {
            i = !0, d(!0);
        }, n), d;
    }
    function bt(e) {
        e(!1);
    }
    var wt = function() {
        function e(e, t, n, r, o, i, a, s, u, c, l) {
            this.pendingXhr_ = null, this.backoffId_ = null, this.resolve_ = null, this.reject_ = null, 
            this.canceled_ = !1, this.appDelete_ = !1, this.url_ = e, this.method_ = t, this.headers_ = n, 
            this.body_ = r, this.successCodes_ = o.slice(), this.additionalRetryCodes_ = i.slice(), 
            this.callback_ = a, this.errorCallback_ = s, this.progressCallback_ = c, this.timeout_ = u, 
            this.pool_ = l;
            var h = this;
            this.promise_ = $(function(e, t) {
                h.resolve_ = e, h.reject_ = t, h.start_();
            });
        }
        return e.prototype.start_ = function() {
            var e = this;
            function t(t, n) {
                if (n) t(!1, new Et(!1, null, !0)); else {
                    var r = e.pool_.createXhrIo();
                    e.pendingXhr_ = r, null !== e.progressCallback_ && r.addUploadProgressListener(o), 
                    r.send(e.url_, e.method_, e.body_, e.headers_).then(function(n) {
                        null !== e.progressCallback_ && n.removeUploadProgressListener(o), e.pendingXhr_ = null;
                        var r = (n = n).getErrorCode() === G.NO_ERROR, i = n.getStatus();
                        if (r && !e.isRetryStatusCode_(i)) {
                            var a = He(e.successCodes_, i);
                            t(!0, new Et(a, n));
                        } else {
                            var s = n.getErrorCode() === G.ABORT;
                            t(!1, new Et(!1, null, s));
                        }
                    });
                }
                function o(t) {
                    var n = t.loaded, r = t.lengthComputable ? t.total : -1;
                    null !== e.progressCallback_ && e.progressCallback_(n, r);
                }
            }
            function n(t, n) {
                var r, o = e.resolve_, i = e.reject_, a = n.xhr;
                if (n.wasSuccessCode) try {
                    var s = e.callback_(a, a.getResponseText());
                    ne(s) ? o(s) : o();
                } catch (e) {
                    i(e);
                } else null !== a ? ((r = v()).setServerResponseProp(a.getResponseText()), e.errorCallback_ ? i(e.errorCallback_(a, r)) : i(r)) : n.canceled ? i(r = e.appDelete_ ? P() : w()) : i(r = b());
            }
            this.canceled_ ? n(!1, new Et(!1, null, !0)) : this.backoffId_ = _t(t, n, this.timeout_);
        }, e.prototype.getPromise = function() {
            return this.promise_;
        }, e.prototype.cancel = function(e) {
            this.canceled_ = !0, this.appDelete_ = e || !1, null !== this.backoffId_ && bt(this.backoffId_), 
            null !== this.pendingXhr_ && this.pendingXhr_.abort();
        }, e.prototype.isRetryStatusCode_ = function(e) {
            var t = e >= 500 && e < 600, n = He([ 408, 429 ], e), r = He(this.additionalRetryCodes_, e);
            return t || n || r;
        }, e;
    }(), Et = function() {
        function e(e, t, n) {
            this.wasSuccessCode = e, this.xhr = t, this.canceled = !!n;
        }
        return e;
    }();
    function Tt(e, t) {
        null !== t && t.length > 0 && (e.Authorization = "Firebase " + t);
    }
    function Ct(e) {
        var t = void 0 !== r.default ? r.default.SDK_VERSION : "AppManager";
        e["X-Firebase-Storage-Version"] = "webjs/" + t;
    }
    function St(e, t, n) {
        var r = we(e.urlParams), o = e.url + r, i = J(e.headers);
        return Tt(i, t), Ct(i), new wt(o, e.method, i, e.body, e.successCodes, e.additionalRetryCodes, e.handler, e.errorHandler, e.timeout, e.progressCallback, n);
    }
    var Nt = function() {
        function e(e, t, n) {
            function r(e, t) {
                return new vt(e, t);
            }
            if (this.bucket_ = null, this.authWrapper_ = new gt(e, r, St, this, t), this.app_ = e, 
            null != n) this.bucket_ = fe.makeFromBucketSpec(n); else {
                var o = this.authWrapper_.bucket();
                null != o && (this.bucket_ = new fe(o, ""));
            }
            this.internals_ = new It(this);
        }
        return e.prototype.ref = function(e) {
            function t(e) {
                if (/^[A-Za-z]+:\/\//.test(e)) throw "Expected child path but got a URL, use refFromURL instead.";
            }
            if (ke("ref", [ Le(t, !0) ], arguments), null == this.bucket_) throw new Error("No Storage Bucket defined in Firebase Options.");
            var n = new vt(this.authWrapper_, this.bucket_);
            return null != e ? n.child(e) : n;
        }, e.prototype.refFromURL = function(e) {
            function t(e) {
                if (!/^[A-Za-z]+:\/\//.test(e)) throw "Expected full URL but got a child path, use ref instead.";
                try {
                    fe.makeFromUrl(e);
                } catch (e) {
                    throw "Expected valid full URL but got an invalid one.";
                }
            }
            return ke("refFromURL", [ Le(t, !1) ], arguments), new vt(this.authWrapper_, e);
        }, Object.defineProperty(e.prototype, "maxUploadRetryTime", {
            get: function() {
                return this.authWrapper_.maxUploadRetryTime();
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.setMaxUploadRetryTime = function(e) {
            ke("setMaxUploadRetryTime", [ Ue() ], arguments), this.authWrapper_.setMaxUploadRetryTime(e);
        }, Object.defineProperty(e.prototype, "maxOperationRetryTime", {
            get: function() {
                return this.authWrapper_.maxOperationRetryTime();
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.setMaxOperationRetryTime = function(e) {
            ke("setMaxOperationRetryTime", [ Ue() ], arguments), this.authWrapper_.setMaxOperationRetryTime(e);
        }, Object.defineProperty(e.prototype, "app", {
            get: function() {
                return this.app_;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "INTERNAL", {
            get: function() {
                return this.internals_;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(), It = function() {
        function e(e) {
            this.service_ = e;
        }
        return e.prototype.delete = function() {
            return this.service_.authWrapper_.deleteApp(), Z(void 0);
        }, e;
    }();
    n.d(t, "registerStorage", function() {
        return Rt;
    });
    var Ot = "storage";
    function Pt(e, t, n) {
        return new Nt(e, new pe(), n);
    }
    function Rt(e) {
        var t = {
            TaskState: Q,
            TaskEvent: H,
            StringFormat: x,
            Storage: Nt,
            Reference: vt
        };
        e.INTERNAL.registerService(Ot, Pt, t, void 0, !0);
    }
    Rt(r.default);
}, function(e, t, n) {
    "use strict";
    n.r(t);
    var r, o = n(0), i = {
        AVAILABLE_IN_WINDOW: "only-available-in-window",
        AVAILABLE_IN_SW: "only-available-in-sw",
        SHOULD_BE_INHERITED: "should-be-overriden",
        BAD_SENDER_ID: "bad-sender-id",
        INCORRECT_GCM_SENDER_ID: "incorrect-gcm-sender-id",
        PERMISSION_DEFAULT: "permission-default",
        PERMISSION_BLOCKED: "permission-blocked",
        UNSUPPORTED_BROWSER: "unsupported-browser",
        NOTIFICATIONS_BLOCKED: "notifications-blocked",
        FAILED_DEFAULT_REGISTRATION: "failed-serviceworker-registration",
        SW_REGISTRATION_EXPECTED: "sw-registration-expected",
        GET_SUBSCRIPTION_FAILED: "get-subscription-failed",
        INVALID_SAVED_TOKEN: "invalid-saved-token",
        SW_REG_REDUNDANT: "sw-reg-redundant",
        TOKEN_SUBSCRIBE_FAILED: "token-subscribe-failed",
        TOKEN_SUBSCRIBE_NO_TOKEN: "token-subscribe-no-token",
        TOKEN_SUBSCRIBE_NO_PUSH_SET: "token-subscribe-no-push-set",
        USE_SW_BEFORE_GET_TOKEN: "use-sw-before-get-token",
        INVALID_DELETE_TOKEN: "invalid-delete-token",
        DELETE_TOKEN_NOT_FOUND: "delete-token-not-found",
        DELETE_SCOPE_NOT_FOUND: "delete-scope-not-found",
        BG_HANDLER_FUNCTION_EXPECTED: "bg-handler-function-expected",
        NO_WINDOW_CLIENT_TO_MSG: "no-window-client-to-msg",
        UNABLE_TO_RESUBSCRIBE: "unable-to-resubscribe",
        NO_FCM_TOKEN_FOR_RESUBSCRIBE: "no-fcm-token-for-resubscribe",
        FAILED_TO_DELETE_TOKEN: "failed-to-delete-token",
        NO_SW_IN_REG: "no-sw-in-reg",
        BAD_SCOPE: "bad-scope",
        BAD_VAPID_KEY: "bad-vapid-key",
        BAD_SUBSCRIPTION: "bad-subscription",
        BAD_TOKEN: "bad-token",
        BAD_PUSH_SET: "bad-push-set",
        FAILED_DELETE_VAPID_KEY: "failed-delete-vapid-key"
    }, a = {
        codes: i,
        map: ((r = {})[i.AVAILABLE_IN_WINDOW] = "This method is available in a Window context.", 
        r[i.AVAILABLE_IN_SW] = "This method is available in a service worker context.", 
        r[i.SHOULD_BE_INHERITED] = "This method should be overriden by extended classes.", 
        r[i.BAD_SENDER_ID] = "Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().", 
        r[i.PERMISSION_DEFAULT] = "The required permissions were not granted and dismissed instead.", 
        r[i.PERMISSION_BLOCKED] = "The required permissions were not granted and blocked instead.", 
        r[i.UNSUPPORTED_BROWSER] = "This browser doesn't support the API's required to use the firebase SDK.", 
        r[i.NOTIFICATIONS_BLOCKED] = "Notifications have been blocked.", r[i.FAILED_DEFAULT_REGISTRATION] = "We are unable to register the default service worker. {$browserErrorMessage}", 
        r[i.SW_REGISTRATION_EXPECTED] = "A service worker registration was the expected input.", 
        r[i.GET_SUBSCRIPTION_FAILED] = "There was an error when trying to get any existing Push Subscriptions.", 
        r[i.INVALID_SAVED_TOKEN] = "Unable to access details of the saved token.", r[i.SW_REG_REDUNDANT] = "The service worker being used for push was made redundant.", 
        r[i.TOKEN_SUBSCRIBE_FAILED] = "A problem occured while subscribing the user to FCM: {$message}", 
        r[i.TOKEN_SUBSCRIBE_NO_TOKEN] = "FCM returned no token when subscribing the user to push.", 
        r[i.TOKEN_SUBSCRIBE_NO_PUSH_SET] = "FCM returned an invalid response when getting an FCM token.", 
        r[i.USE_SW_BEFORE_GET_TOKEN] = "You must call useServiceWorker() before calling getToken() to ensure your service worker is used.", 
        r[i.INVALID_DELETE_TOKEN] = "You must pass a valid token into deleteToken(), i.e. the token from getToken().", 
        r[i.DELETE_TOKEN_NOT_FOUND] = "The deletion attempt for token could not be performed as the token was not found.", 
        r[i.DELETE_SCOPE_NOT_FOUND] = "The deletion attempt for service worker scope could not be performed as the scope was not found.", 
        r[i.BG_HANDLER_FUNCTION_EXPECTED] = "The input to setBackgroundMessageHandler() must be a function.", 
        r[i.NO_WINDOW_CLIENT_TO_MSG] = "An attempt was made to message a non-existant window client.", 
        r[i.UNABLE_TO_RESUBSCRIBE] = "There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}", 
        r[i.NO_FCM_TOKEN_FOR_RESUBSCRIBE] = "Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.", 
        r[i.FAILED_TO_DELETE_TOKEN] = "Unable to delete the currently saved token.", r[i.NO_SW_IN_REG] = "Even though the service worker registration was successful, there was a problem accessing the service worker itself.", 
        r[i.INCORRECT_GCM_SENDER_ID] = "Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.", 
        r[i.BAD_SCOPE] = "The service worker scope must be a string with at least one character.", 
        r[i.BAD_VAPID_KEY] = "The public VAPID key must be a string with at least one character.", 
        r[i.BAD_SUBSCRIPTION] = "The subscription must be a valid PushSubscription.", r[i.BAD_TOKEN] = "The FCM Token used for storage / lookup was not a valid token string.", 
        r[i.BAD_PUSH_SET] = "The FCM push set used for storage / lookup was not not a valid push set string.", 
        r[i.FAILED_DELETE_VAPID_KEY] = "The VAPID key could not be deleted.", r)
    };
    function s(e) {
        var t = new Uint8Array(e);
        return window.btoa(String.fromCharCode.apply(null, t));
    }
    var u, c = function(e) {
        return s(e).replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_");
    }, l = [ 4, 51, 148, 247, 223, 161, 235, 177, 220, 3, 162, 94, 21, 113, 219, 72, 211, 46, 237, 237, 178, 52, 219, 183, 71, 58, 12, 143, 196, 204, 225, 111, 60, 140, 132, 223, 171, 182, 102, 62, 242, 12, 212, 139, 254, 227, 249, 118, 47, 20, 28, 99, 8, 106, 111, 45, 177, 26, 149, 176, 206, 55, 192, 156, 110 ], h = {
        ENDPOINT: "https://fcm.googleapis.com",
        APPLICATION_SERVER_KEY: l,
        SUBSCRIPTION_OPTIONS: {
            userVisibleOnly: !0,
            applicationServerKey: new Uint8Array(l)
        }
    }, p = "fcm_token_object_Store", d = 1, f = function() {
        function e() {
            this.errorFactory_ = new o.ErrorFactory("messaging", "Messaging", a.map), this.openDbPromise_ = null;
        }
        return e.prototype.openDatabase_ = function() {
            return this.openDbPromise_ ? this.openDbPromise_ : (this.openDbPromise_ = new Promise(function(t, n) {
                var r = indexedDB.open(e.DB_NAME, d);
                r.onerror = function(e) {
                    n(e.target.error);
                }, r.onsuccess = function(e) {
                    t(e.target.result);
                }, r.onupgradeneeded = function(e) {
                    var t = e.target.result.createObjectStore(p, {
                        keyPath: "swScope"
                    });
                    t.createIndex("fcmSenderId", "fcmSenderId", {
                        unique: !1
                    }), t.createIndex("fcmToken", "fcmToken", {
                        unique: !0
                    });
                };
            }), this.openDbPromise_);
        }, e.prototype.closeDatabase = function() {
            var e = this;
            return this.openDbPromise_ ? this.openDbPromise_.then(function(t) {
                t.close(), e.openDbPromise_ = null;
            }) : Promise.resolve();
        }, e.prototype.getTokenDetailsFromToken = function(e) {
            return this.openDatabase_().then(function(t) {
                return new Promise(function(n, r) {
                    var o = t.transaction([ p ]).objectStore(p).index("fcmToken").get(e);
                    o.onerror = function(e) {
                        r(e.target.error);
                    }, o.onsuccess = function(e) {
                        n(e.target.result);
                    };
                });
            });
        }, e.prototype.getTokenDetailsFromSWScope_ = function(e) {
            return this.openDatabase_().then(function(t) {
                return new Promise(function(n, r) {
                    var o = t.transaction([ p ]).objectStore(p).get(e);
                    o.onerror = function(e) {
                        r(e.target.error);
                    }, o.onsuccess = function(e) {
                        n(e.target.result);
                    };
                });
            });
        }, e.prototype.getAllTokenDetailsForSenderId_ = function(e) {
            return this.openDatabase_().then(function(t) {
                return new Promise(function(n, r) {
                    var o = [], i = t.transaction([ p ]).objectStore(p).openCursor();
                    i.onerror = function(e) {
                        r(e.target.error);
                    }, i.onsuccess = function(t) {
                        var r = t.target.result;
                        r ? (r.value.fcmSenderId === e && o.push(r.value), r.continue()) : n(o);
                    };
                });
            });
        }, e.prototype.subscribeToFCM = function(e, t, n) {
            var r = this, o = c(t.getKey("p256dh")), i = c(t.getKey("auth")), s = "authorized_entity=" + e + "&endpoint=" + t.endpoint + "&encryption_key=" + o + "&encryption_auth=" + i;
            n && (s += "&pushSet=" + n);
            var u = new Headers();
            u.append("Content-Type", "application/x-www-form-urlencoded");
            var l = {
                method: "POST",
                headers: u,
                body: s
            };
            return fetch(h.ENDPOINT + "/fcm/connect/subscribe", l).then(function(e) {
                return e.json();
            }).then(function(e) {
                var t = e;
                if (t.error) {
                    var n = t.error.message;
                    throw r.errorFactory_.create(a.codes.TOKEN_SUBSCRIBE_FAILED, {
                        message: n
                    });
                }
                if (!t.token) throw r.errorFactory_.create(a.codes.TOKEN_SUBSCRIBE_NO_TOKEN);
                if (!t.pushSet) throw r.errorFactory_.create(a.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);
                return {
                    token: t.token,
                    pushSet: t.pushSet
                };
            });
        }, e.prototype.isSameSubscription_ = function(e, t) {
            return e.endpoint === t.endpoint && c(e.getKey("auth")) === t.auth && c(e.getKey("p256dh")) === t.p256dh;
        }, e.prototype.saveTokenDetails_ = function(e, t, n, r, o) {
            var i = {
                swScope: t.scope,
                endpoint: n.endpoint,
                auth: c(n.getKey("auth")),
                p256dh: c(n.getKey("p256dh")),
                fcmToken: r,
                fcmPushSet: o,
                fcmSenderId: e
            };
            return this.openDatabase_().then(function(e) {
                return new Promise(function(t, n) {
                    var r = e.transaction([ p ], "readwrite").objectStore(p).put(i);
                    r.onerror = function(e) {
                        n(e.target.error);
                    }, r.onsuccess = function(e) {
                        t();
                    };
                });
            });
        }, e.prototype.getSavedToken = function(e, t) {
            var n = this;
            return t instanceof ServiceWorkerRegistration ? "string" != typeof e || 0 === e.length ? Promise.reject(this.errorFactory_.create(a.codes.BAD_SENDER_ID)) : this.getAllTokenDetailsForSenderId_(e).then(function(n) {
                if (0 !== n.length) {
                    var r = n.findIndex(function(n) {
                        return t.scope === n.swScope && e === n.fcmSenderId;
                    });
                    if (-1 !== r) return n[r];
                }
            }).then(function(e) {
                if (e) return t.pushManager.getSubscription().catch(function(e) {
                    throw n.errorFactory_.create(a.codes.GET_SUBSCRIPTION_FAILED);
                }).then(function(t) {
                    if (t && n.isSameSubscription_(t, e)) return e.fcmToken;
                });
            }) : Promise.reject(this.errorFactory_.create(a.codes.SW_REGISTRATION_EXPECTED));
        }, e.prototype.createToken = function(e, t) {
            var n, r, o = this;
            return "string" != typeof e || 0 === e.length ? Promise.reject(this.errorFactory_.create(a.codes.BAD_SENDER_ID)) : t instanceof ServiceWorkerRegistration ? t.pushManager.getSubscription().then(function(e) {
                return e || t.pushManager.subscribe(h.SUBSCRIPTION_OPTIONS);
            }).then(function(t) {
                return n = t, o.subscribeToFCM(e, n);
            }).then(function(i) {
                return r = i, o.saveTokenDetails_(e, t, n, r.token, r.pushSet);
            }).then(function() {
                return r.token;
            }) : Promise.reject(this.errorFactory_.create(a.codes.SW_REGISTRATION_EXPECTED));
        }, e.prototype.deleteToken = function(e) {
            var t = this;
            return "string" != typeof e || 0 === e.length ? Promise.reject(this.errorFactory_.create(a.codes.INVALID_DELETE_TOKEN)) : this.getTokenDetailsFromToken(e).then(function(e) {
                if (!e) throw t.errorFactory_.create(a.codes.DELETE_TOKEN_NOT_FOUND);
                return t.openDatabase_().then(function(n) {
                    return new Promise(function(r, o) {
                        var i = n.transaction([ p ], "readwrite").objectStore(p).delete(e.swScope);
                        i.onerror = function(e) {
                            o(e.target.error);
                        }, i.onsuccess = function(n) {
                            0 !== n.target.result ? r(e) : o(t.errorFactory_.create(a.codes.FAILED_TO_DELETE_TOKEN));
                        };
                    });
                });
            });
        }, e;
    }(), v = {
        granted: "granted",
        default: "default",
        denied: "denied"
    }, m = "messagingSenderId", y = function() {
        function e(e) {
            var t = this;
            if (this.errorFactory_ = new o.ErrorFactory("messaging", "Messaging", a.map), !e.options[m] || "string" != typeof e.options[m]) throw this.errorFactory_.create(a.codes.BAD_SENDER_ID);
            this.messagingSenderId_ = e.options[m], this.tokenManager_ = new f(), this.app = e, 
            this.INTERNAL = {}, this.INTERNAL.delete = function() {
                return t.delete;
            };
        }
        return e.prototype.getToken = function() {
            var e = this, t = this.getNotificationPermission_();
            return t !== v.granted ? t === v.denied ? Promise.reject(this.errorFactory_.create(a.codes.NOTIFICATIONS_BLOCKED)) : Promise.resolve(null) : this.getSWRegistration_().then(function(t) {
                return e.tokenManager_.getSavedToken(e.messagingSenderId_, t).then(function(n) {
                    return n || e.tokenManager_.createToken(e.messagingSenderId_, t);
                });
            });
        }, e.prototype.deleteToken = function(e) {
            var t = this;
            return this.tokenManager_.deleteToken(e).then(function() {
                return t.getSWRegistration_().then(function(e) {
                    if (e) return e.pushManager.getSubscription();
                }).then(function(e) {
                    if (e) return e.unsubscribe();
                });
            });
        }, e.prototype.getSWRegistration_ = function() {
            throw this.errorFactory_.create(a.codes.SHOULD_BE_INHERITED);
        }, e.prototype.requestPermission = function() {
            throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW);
        }, e.prototype.useServiceWorker = function(e) {
            throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW);
        }, e.prototype.onMessage = function(e, t, n) {
            throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW);
        }, e.prototype.onTokenRefresh = function(e, t, n) {
            throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW);
        }, e.prototype.setBackgroundMessageHandler = function(e) {
            throw this.errorFactory_.create(a.codes.AVAILABLE_IN_SW);
        }, e.prototype.delete = function() {
            return this.tokenManager_.closeDatabase();
        }, e.prototype.getNotificationPermission_ = function() {
            return Notification.permission;
        }, e.prototype.getTokenManager = function() {
            return this.tokenManager_;
        }, e;
    }(), g = {
        TYPE_OF_MSG: "firebase-messaging-msg-type",
        DATA: "firebase-messaging-msg-data"
    }, _ = {
        PARAMS: g,
        TYPES_OF_MSG: {
            PUSH_MSG_RECEIVED: "push-msg-received",
            NOTIFICATION_CLICKED: "notification-clicked"
        },
        createNewMsg: function(e, t) {
            var n;
            return (n = {})[g.TYPE_OF_MSG] = e, n[g.DATA] = t, n;
        }
    }, b = {
        path: "/firebase-messaging-sw.js",
        scope: "/firebase-cloud-messaging-push-scope"
    }, w = (u = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    }, function(e, t) {
        function n() {
            this.constructor = e;
        }
        u(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
        new n());
    }), E = function(e) {
        function t(t) {
            var n = e.call(this, t) || this;
            return n.messageObserver_ = null, n.onMessage_ = Object(o.createSubscribe)(function(e) {
                n.messageObserver_ = e;
            }), n.tokenRefreshObserver_ = null, n.onTokenRefresh_ = Object(o.createSubscribe)(function(e) {
                n.tokenRefreshObserver_ = e;
            }), n.setupSWMessageListener_(), n;
        }
        return w(t, e), t.prototype.getToken = function() {
            var t = this;
            return this.isSupported_() ? this.manifestCheck_().then(function() {
                return e.prototype.getToken.call(t);
            }) : Promise.reject(this.errorFactory_.create(a.codes.UNSUPPORTED_BROWSER));
        }, t.prototype.manifestCheck_ = function() {
            var e = this;
            if (this.manifestCheckPromise_) return this.manifestCheckPromise_;
            var t = document.querySelector('link[rel="manifest"]');
            return this.manifestCheckPromise_ = t ? fetch(t.href).then(function(e) {
                return e.json();
            }).catch(function() {
                return Promise.resolve();
            }).then(function(t) {
                if (t && t.gcm_sender_id && "103953800507" !== t.gcm_sender_id) throw e.errorFactory_.create(a.codes.INCORRECT_GCM_SENDER_ID);
            }) : Promise.resolve(), this.manifestCheckPromise_;
        }, t.prototype.requestPermission = function() {
            var e = this;
            return Notification.permission === v.granted ? Promise.resolve() : new Promise(function(t, n) {
                var r = function(r) {
                    return r === v.granted ? t() : r === v.denied ? n(e.errorFactory_.create(a.codes.PERMISSION_BLOCKED)) : n(e.errorFactory_.create(a.codes.PERMISSION_DEFAULT));
                }, o = Notification.requestPermission(function(e) {
                    o || r(e);
                });
                o && o.then(r);
            });
        }, t.prototype.useServiceWorker = function(e) {
            if (!(e instanceof ServiceWorkerRegistration)) throw this.errorFactory_.create(a.codes.SW_REGISTRATION_EXPECTED);
            if (void 0 !== this.registrationToUse_) throw this.errorFactory_.create(a.codes.USE_SW_BEFORE_GET_TOKEN);
            this.registrationToUse_ = e;
        }, t.prototype.onMessage = function(e, t, n) {
            return this.onMessage_(e, t, n);
        }, t.prototype.onTokenRefresh = function(e, t, n) {
            return this.onTokenRefresh_(e, t, n);
        }, t.prototype.waitForRegistrationToActivate_ = function(e) {
            var t = this, n = e.installing || e.waiting || e.active;
            return new Promise(function(r, o) {
                if (n) if ("activated" !== n.state) if ("redundant" !== n.state) {
                    var i = function() {
                        if ("activated" === n.state) r(e); else {
                            if ("redundant" !== n.state) return;
                            o(t.errorFactory_.create(a.codes.SW_REG_REDUNDANT));
                        }
                        n.removeEventListener("statechange", i);
                    };
                    n.addEventListener("statechange", i);
                } else o(t.errorFactory_.create(a.codes.SW_REG_REDUNDANT)); else r(e); else o(t.errorFactory_.create(a.codes.NO_SW_IN_REG));
            });
        }, t.prototype.getSWRegistration_ = function() {
            var e = this;
            return this.registrationToUse_ ? this.waitForRegistrationToActivate_(this.registrationToUse_) : (this.registrationToUse_ = null, 
            navigator.serviceWorker.register(b.path, {
                scope: b.scope
            }).catch(function(t) {
                throw e.errorFactory_.create(a.codes.FAILED_DEFAULT_REGISTRATION, {
                    browserErrorMessage: t.message
                });
            }).then(function(t) {
                return e.waitForRegistrationToActivate_(t).then(function() {
                    return e.registrationToUse_ = t, t.update(), t;
                });
            }));
        }, t.prototype.setupSWMessageListener_ = function() {
            var e = this;
            "serviceWorker" in navigator && navigator.serviceWorker.addEventListener("message", function(t) {
                if (t.data && t.data[_.PARAMS.TYPE_OF_MSG]) {
                    var n = t.data;
                    switch (n[_.PARAMS.TYPE_OF_MSG]) {
                      case _.TYPES_OF_MSG.PUSH_MSG_RECEIVED:
                      case _.TYPES_OF_MSG.NOTIFICATION_CLICKED:
                        var r = n[_.PARAMS.DATA];
                        e.messageObserver_.next(r);
                    }
                }
            }, !1);
        }, t.prototype.isSupported_ = function() {
            return "serviceWorker" in navigator && "PushManager" in window && "Notification" in window && "fetch" in window && ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification") && PushSubscription.prototype.hasOwnProperty("getKey");
        }, t;
    }(y), T = function() {
        var e = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(e, t) {
            e.__proto__ = t;
        } || function(e, t) {
            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        };
        return function(t, n) {
            function r() {
                this.constructor = t;
            }
            e(t, n), t.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, 
            new r());
        };
    }(), C = "FCM_MSG", S = function(e) {
        function t(t) {
            var n = e.call(this, t) || this;
            return self.addEventListener("push", function(e) {
                return n.onPush_(e);
            }, !1), self.addEventListener("pushsubscriptionchange", function(e) {
                return n.onSubChange_(e);
            }, !1), self.addEventListener("notificationclick", function(e) {
                return n.onNotificationClick_(e);
            }, !1), n.bgMessageHandler_ = null, n;
        }
        return T(t, e), t.prototype.onPush_ = function(e) {
            var t, n = this;
            try {
                t = e.data.json();
            } catch (e) {
                return;
            }
            var r = this.hasVisibleClients_().then(function(e) {
                if (e) return t.notification || n.bgMessageHandler_ ? n.sendMessageToWindowClients_(t) : void 0;
                var r = n.getNotificationData_(t);
                if (r) {
                    var o = r.title || "";
                    return self.registration.showNotification(o, r);
                }
                return n.bgMessageHandler_ ? n.bgMessageHandler_(t) : void 0;
            });
            e.waitUntil(r);
        }, t.prototype.onSubChange_ = function(e) {
            var t = this, n = this.getToken().then(function(e) {
                if (!e) throw t.errorFactory_.create(a.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);
                var n = null, r = t.getTokenManager();
                return r.getTokenDetailsFromToken(e).then(function(e) {
                    if (!(n = e)) throw t.errorFactory_.create(a.codes.INVALID_SAVED_TOKEN);
                    return self.registration.pushManager.subscribe(h.SUBSCRIPTION_OPTIONS);
                }).then(function(e) {
                    return r.subscribeToFCM(n.fcmSenderId, e, n.fcmPushSet);
                }).catch(function(e) {
                    return r.deleteToken(n.fcmToken).then(function() {
                        throw t.errorFactory_.create(a.codes.UNABLE_TO_RESUBSCRIBE, {
                            message: e
                        });
                    });
                });
            });
            e.waitUntil(n);
        }, t.prototype.onNotificationClick_ = function(e) {
            var t = this;
            if (e.notification && e.notification.data && e.notification.data[C]) {
                e.stopImmediatePropagation(), e.notification.close();
                var n = e.notification.data[C], r = n.notification.click_action;
                if (r) {
                    var o = this.getWindowClient_(r).then(function(e) {
                        return e || self.clients.openWindow(r);
                    }).then(function(e) {
                        if (e) {
                            n.notification;
                            delete n.notification;
                            var r = _.createNewMsg(_.TYPES_OF_MSG.NOTIFICATION_CLICKED, n);
                            return t.attemptToMessageClient_(e, r);
                        }
                    });
                    e.waitUntil(o);
                }
            }
        }, t.prototype.getNotificationData_ = function(e) {
            if (e && "object" == typeof e.notification) {
                var t, n = Object.assign({}, e.notification);
                return n.data = ((t = {})[C] = e, t), n;
            }
        }, t.prototype.setBackgroundMessageHandler = function(e) {
            if (e && "function" != typeof e) throw this.errorFactory_.create(a.codes.BG_HANDLER_FUNCTION_EXPECTED);
            this.bgMessageHandler_ = e;
        }, t.prototype.getWindowClient_ = function(e) {
            var t = new URL(e).href;
            return self.clients.matchAll({
                type: "window",
                includeUncontrolled: !0
            }).then(function(e) {
                for (var n = null, r = 0; r < e.length; r++) {
                    if (new URL(e[r].url).href === t) {
                        n = e[r];
                        break;
                    }
                }
                if (n) return n.focus(), n;
            });
        }, t.prototype.attemptToMessageClient_ = function(e, t) {
            var n = this;
            return new Promise(function(r, o) {
                if (!e) return o(n.errorFactory_.create(a.codes.NO_WINDOW_CLIENT_TO_MSG));
                e.postMessage(t), r();
            });
        }, t.prototype.hasVisibleClients_ = function() {
            return self.clients.matchAll({
                type: "window",
                includeUncontrolled: !0
            }).then(function(e) {
                return e.some(function(e) {
                    return "visible" === e.visibilityState;
                });
            });
        }, t.prototype.sendMessageToWindowClients_ = function(e) {
            var t = this;
            return self.clients.matchAll({
                type: "window",
                includeUncontrolled: !0
            }).then(function(n) {
                var r = _.createNewMsg(_.TYPES_OF_MSG.PUSH_MSG_RECEIVED, e);
                return Promise.all(n.map(function(e) {
                    return t.attemptToMessageClient_(e, r);
                }));
            });
        }, t.prototype.getSWRegistration_ = function() {
            return Promise.resolve(self.registration);
        }, t;
    }(y), N = n(13);
    function I(e) {
        var t = "messaging", n = function(e) {
            return self && "ServiceWorkerGlobalScope" in self ? new S(e) : new E(e);
        }, r = {
            Messaging: E
        };
        e.INTERNAL.registerService(t, n, r);
    }
    n.d(t, "registerMessaging", function() {
        return I;
    }), I(N.firebase);
} ]);